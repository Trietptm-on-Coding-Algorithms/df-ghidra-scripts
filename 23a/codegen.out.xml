<ld:data-definition xmlns:ld="http://github.com/peterix/dfhack/lowered-data-definition">
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ui_advmode_menu" base-type="int16_t">
        <enum-item name="Default" value="0"/>
        <enum-item name="Look"/>
        <enum-item name="Talk"/>
        <enum-item name="Inventory"/>
        <enum-item name="Drop"/>

        <enum-item name="ThrowItem"/>
        <enum-item name="Wear"/>
        <enum-item name="Remove"/>
        <enum-item name="Interact"/>
        <enum-item name="PutItem"/>

        <enum-item name="PutInto"/>
        <enum-item name="Eat"/>
        <enum-item name="ThrowAim"/>
        <enum-item name="Fire"/>
        <enum-item name="Get"/>

        <enum-item name="CombatPrefs"/>
        <enum-item name="InteractHow"/>
        <enum-item name="Announcements"/>
        <enum-item name="Attack"/>
        <enum-item name="UseBuilding"/>

        <enum-item name="Travel"/>
        <enum-item name="Wrestle"/>
        <enum-item name="AttackConfirm"/>
        <enum-item name="WrestleConfirm"/>
        <enum-item name="SleepConfirm"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="conversation">
        <ld:field name="conv_title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="state" ld:level="1" ld:meta="compound" ld:typedef-name="T_state">
            <enum-item name="started"/>
            <enum-item name="active"/>
            <enum-item name="finished"/>
            <enum-item name="quit"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="talk_choices" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="other" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="self" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_speech">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="text" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
                <ld:field name="speaker" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="fg" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="bg" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="bright" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_advmode">
        <ld:field ld:subtype="enum" base-type="int16_t" name="menu" type-name="ui_advmode_menu" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field name="travel_clouds" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field name="tick_counter" comment="goes up to XXX" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="frame_counter" comment="goes up to 10000 (ticks?)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
        <ld:field name="sleeping" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="sleep_interrupted" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_7"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="talk_targets" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="conversations" pointer-type="conversation" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="conversation"><ld:item ld:level="3" ld:meta="global" type-name="conversation"/></ld:item></ld:field>

        <ld:field name="talk_target_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="searched_x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="searched_y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="searched_z" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="searched_timeout" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="can_retire" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field name="skill_level" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="recalc_skill_level" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="quest_list_link">
        <code-helper name="describe">(describe-obj $.item)</code-helper>
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="adv_task" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="adv_task"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="adv_task" original-name="taskst" key-field="id">
        <ld:field ld:level="1" ld:meta="pointer" name="link" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="giver_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="giver_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="giver_entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="recipient_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field comment="unused" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field name="target_pos" type-name="coord2d32" ld:level="1" ld:meta="global"/>
        <ld:field name="giver_pos" type-name="coord2d32" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="task_kill_nemesisst" inherits-from="adv_task">
        <ld:field comment="unused" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="target_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="completed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="report">
        <ld:field name="text" size="90" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <code-helper name="describe">$.text</code-helper>

        <ld:field name="color" init-value="7" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bright" init-value="true" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="duration" init-value="100" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="continuation" comment="When split into multiple lines, set on all but the first" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unconscious" comment="used in Adventurer mode" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="repeat_count" comment="100 =&gt; displays: x101" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_element_type">
        <enum-item name="CREATURE"/>
        <enum-item name="PLANT"/>
        <enum-item name="TREE"/>
        <enum-item name="SHAPE"/>
        <enum-item name="ITEM"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element" original-name="art_image_elementst">
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="art_image_element_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="art_image_element_type"/></vmethod>
            <vmethod ld:level="1" name="setID"> <ld:field name="ID" comment="race, item type, plant ID, or shape ID" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>

            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image_element" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image_element"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getSymbol">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int8_t" name="tile" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int16_t" name="size" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="pointer" name="string" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="useThe" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="useName" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="markDiscovered"/>
            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_creaturest" inherits-from="art_image_element">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_plantst" inherits-from="art_image_element">
        <ld:field name="plant_id" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_treest" inherits-from="art_image_element">
        <ld:field name="wood_id" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_shapest" inherits-from="art_image_element">
        <ld:field name="shape_id" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shape_adj" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_itemst" inherits-from="art_image_element">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="flags" type-name="item_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_property_type">
        <enum-item name="transitive_verb"/>
        <enum-item name="intransitive_verb"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property" original-name="art_image_propertyst">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="art_image_property_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="art_image_property_type"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image_element" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image_element"/></ret-type>
            </vmethod>

            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="pointer" name="str" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="image" type-name="art_image" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image"/></ld:field>
                <ld:field name="useName" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_property_verb" base-type="int16_t">
        <enum-item name="Withering"/>
        <enum-item name="SurroundedBy"/>
        <enum-item name="Massacring"/>
        <enum-item name="Fighting"/>
        <enum-item name="Laboring"/>
        <enum-item name="Greeting"/>
        <enum-item name="Refusing"/>
        <enum-item name="Speaking"/>
        <enum-item name="Embracing"/>
        <enum-item name="StrikingDown"/>
        <enum-item name="MenacingPose"/>
        <enum-item name="Traveling"/>
        <enum-item name="Raising"/>
        <enum-item name="Hiding"/>
        <enum-item name="LookingConfused"/>
        <enum-item name="LookingTerrified"/>
        <enum-item name="Devouring"/>
        <enum-item name="Admiring"/>
        <enum-item name="Burning"/>
        <enum-item name="Weeping"/>
        <enum-item name="LookingDejected"/>
        <enum-item name="Cringing"/>
        <enum-item name="Screaming"/>
        <enum-item name="SubmissiveGesture"/>
        <enum-item name="FetalPosition"/>
        <enum-item name="SmearedIntoSpiral"/>
        <enum-item name="Falling"/>
        <enum-item name="Dead"/>
        <enum-item name="Laughing"/>
        <enum-item name="LookingOffended"/>
        <enum-item name="BeingShot"/>
        <enum-item name="PlaintiveGesture"/>
        <enum-item name="Melting"/>
        <enum-item name="Shooting"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property_transitive_verbst" inherits-from="art_image_property">
        <ld:field name="subject" comment="refers to art_image_element" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="object" comment="refers to art_image_element" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="verb" type-name="art_image_property_verb" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property_intransitive_verbst" inherits-from="art_image_property">
        <ld:field name="subject" comment="refers to art_image_element" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="verb" type-name="art_image_property_verb" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image">
        <code-helper name="find-instance">$(find-instance $art_image_chunk $$).images[$]</code-helper>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elements" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="art_image_element" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image_element"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="properties" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="art_image_property" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image_property"/></ld:item>
        </ld:field>

        <ld:field name="event" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="spec_ref_type" type-name="specific_ref_type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="artist" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="general_ref" type-name="general_ref" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="general_ref"/></ld:field>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="season_ticks" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image_chunk" instance-vector="$global.world.art_image_chunks" key-field="id">
        <ld:field name="id" comment="art_image_*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="images" count="500" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="art_image" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image_ref">
        <ld:field name="id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="buildings_other_id">
        <enum-attr name="building" type-name="building_type" default-value="NONE"/>
        <enum-attr name="generic_building" type-name="building_type" is-list="true"/>
        <enum-attr name="workshop" type-name="workshop_type" is-list="true"/>
        <enum-attr name="furnace" type-name="furnace_type" is-list="true"/>
        <enum-attr name="civzone" type-name="civzone_type" is-list="true"/>

        <enum-item name="ANY" value="-1"/>

        -- 0

        <enum-item name="IN_PLAY"/>
        <enum-item name="STOCKPILE">
            <item-attr name="building" value="Stockpile"/>
        </enum-item>
        <enum-item name="CIVZONE">
            <item-attr name="building" value="Civzone"/>
        </enum-item>
        <enum-item name="ANY_ACTUAL"/>
        <enum-item name="TRAP">
            <item-attr name="building" value="Trap"/>
        </enum-item>

        <enum-item name="DOOR">
            <item-attr name="building" value="Door"/>
        </enum-item>
        <enum-item name="FLOODGATE">
            <item-attr name="building" value="Floodgate"/>
        </enum-item>
        <enum-item name="WINDOW">
            <item-attr name="generic_building" value="Window"/>
        </enum-item>
        <enum-item name="WELL">
            <item-attr name="building" value="Well"/>
        </enum-item>
        <enum-item name="TABLE">
            <item-attr name="building" value="Table"/>
        </enum-item>

        -- 10

        <enum-item name="BRIDGE">
            <item-attr name="building" value="Bridge"/>
        </enum-item>
        <enum-item name="AQUEDUCT">
            <item-attr name="building" value="Aqueduct"/>
        </enum-item>
        <enum-item name="ANY_CIVILIAN_STORAGE">
            -- speculated
            <item-attr name="building" value="Box"/>
            <item-attr name="building" value="Cabinet"/>
        </enum-item>
        <enum-item name="ANY_NOBLE_STORAGE">
            -- speculated
            <item-attr name="generic_building" value="Box"/>
            <item-attr name="generic_building" value="Cabinet"/>
            <item-attr name="generic_building" value="Weaponrack"/>
            <item-attr name="generic_building" value="Armorstand"/>
        </enum-item>
        <enum-item name="ANY_BARRACKS">
            -- speculated
            <item-attr name="generic_building" value="Weaponrack"/>
            <item-attr name="generic_building" value="Armorstand"/>
        </enum-item>

        <enum-item name="ANY_NOBLE_ROOM">
            <item-attr name="generic_building" value="Chair"/>
            <item-attr name="generic_building" value="Bed"/>
            <item-attr name="generic_building" value="Table"/>
            <item-attr name="generic_building" value="Coffin"/>
        </enum-item>
        <enum-item name="CHAIR">
            <item-attr name="building" value="Chair"/>
        </enum-item>
        <enum-item name="TRADE_DEPOT">
            <item-attr name="building" value="TradeDepot"/>
        </enum-item>
        <enum-item name="WAGON">
            <item-attr name="building" value="Wagon"/>
        </enum-item>
        <enum-item name="SHOP">
            <item-attr name="building" value="Shop"/>
        </enum-item>

        -- 20

        <enum-item name="BED">
            <item-attr name="building" value="Bed"/>
        </enum-item>
        <enum-item name="ROAD">
            <item-attr name="building" value="Road"/>
        </enum-item>
        <enum-item name="CHANNEL">
            <item-attr name="building" value="Channel"/>
        </enum-item>
        <enum-item name="FARM_PLOT">
            <item-attr name="building" value="FarmPlot"/>
        </enum-item>
        <enum-item name="SUPPORT">
            <item-attr name="building" value="Support"/>
        </enum-item>

        <enum-item name="ARCHERY_TARGET">
            <item-attr name="building" value="ArcheryTarget"/>
        </enum-item>
        <enum-item name="CHAIN">
            <item-attr name="building" value="Chain"/>
        </enum-item>
        <enum-item name="CAGE">
            <item-attr name="building" value="Cage"/>
        </enum-item>
        <enum-item name="STATUE">
            <item-attr name="building" value="Statue"/>
        </enum-item>
        <enum-item name="COFFIN">
            <item-attr name="building" value="Coffin"/>
        </enum-item>

        -- 30

        <enum-item name="WEAPON_RACK">
            <item-attr name="building" value="Weaponrack"/>
        </enum-item>
        <enum-item name="ARMOR_STAND">
            <item-attr name="building" value="Armorstand"/>
        </enum-item>
        <enum-item name="FURNACE_ANY">
            <item-attr name="building" value="Furnace"/>
        </enum-item>
        <enum-item name="FURNACE_WOOD">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="WoodFurnace"/>
        </enum-item>
        <enum-item name="FURNACE_SMELTER_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="Smelter"/>
            <item-attr name="furnace" value="MagmaSmelter"/>
        </enum-item>

        <enum-item name="FURNACE_SMELTER_MAGMA">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="MagmaSmelter"/>
        </enum-item>
        <enum-item name="FURNACE_KILN_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="Kiln"/>
            <item-attr name="furnace" value="MagmaKiln"/>
        </enum-item>
        <enum-item name="FURNACE_GLASS_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="GlassFurnace"/>
            <item-attr name="furnace" value="MagmaGlassFurnace"/>
        </enum-item>
        <enum-item name="WORKSHOP_ANY">
            <item-attr name="building" value="Workshop"/>
        </enum-item>
        <enum-item name="WORKSHOP_BUTCHER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Butchers"/>
        </enum-item>

        -- 40

        <enum-item name="WORKSHOP_MASON">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Masons"/>
        </enum-item>
        <enum-item name="WORKSHOP_KENNEL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Kennels"/>
        </enum-item>
        <enum-item name="WORKSHOP_FISHERY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Fishery"/>
        </enum-item>
        <enum-item name="WORKSHOP_JEWELER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Jewelers"/>
        </enum-item>
        <enum-item name="WORKSHOP_LOOM">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Loom"/>
        </enum-item>

        <enum-item name="WORKSHOP_TANNER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Tanners"/>
        </enum-item>
        <enum-item name="WORKSHOP_DYER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Dyers"/>
        </enum-item>
        <enum-item name="WORKSHOP_MILL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Mill"/>
        </enum-item>
        <enum-item name="WORKSHOP_KITCHEN">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Kitchen"/>
        </enum-item>
        <enum-item name="WORKSHOP_STILL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Still"/>
        </enum-item>

        -- 50

        <enum-item name="WORKSHOP_FARMER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Farmers"/>
        </enum-item>
        <enum-item name="WORKSHOP_ASHERY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Ashery"/>
        </enum-item>
        <enum-item name="WORKSHOP_ALCHEMIST">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Alchemists"/>
        </enum-item>
        <enum-item name="WORKSHOP_CARPENTER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Carpenters"/>
        </enum-item>
        <enum-item name="WORKSHOP_CRAFTSDWARF">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Craftsdwarfs"/>
        </enum-item>

        <enum-item name="WORKSHOP_MECHANIC">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Mechanics"/>
        </enum-item>
        <enum-item name="WORKSHOP_SIEGE">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Siege"/>
        </enum-item>
        <enum-item name="WORKSHOP_CLOTHES">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Clothes"/>
        </enum-item>
        <enum-item name="WORKSHOP_LEATHER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Leatherworks"/>
        </enum-item>
        <enum-item name="WORKSHOP_BOWYER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Bowyers"/>
        </enum-item>

        -- 60

        <enum-item name="WORKSHOP_FORGE_MAGMA">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="MagmaForge"/>
        </enum-item>
        <enum-item name="WORKSHOP_FORGE_ANY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="MetalsmithsForge"/>
            <item-attr name="workshop" value="MagmaForge"/>
        </enum-item>
        <enum-item name="WEAPON_UPRIGHT">
            <item-attr name="building" value="Weapon"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="building_type">
        <enum-attr name="classname"/>

        <enum-item name="NONE" value="-1"/>

        <enum-item name="Chair">
            <item-attr name="classname" value="building_chairst"/>
        </enum-item>
        <enum-item name="Bed">
            <item-attr name="classname" value="building_bedst"/>
        </enum-item>
        <enum-item name="Table">
            <item-attr name="classname" value="building_tablest"/>
        </enum-item>
        <enum-item name="Coffin">
            <item-attr name="classname" value="building_coffinst"/>
        </enum-item>
        <enum-item name="FarmPlot">
            <item-attr name="classname" value="building_farmplotst"/>
        </enum-item>
        <enum-item name="Furnace">
            <item-attr name="classname" value="building_furnacest"/>
        </enum-item>
        <enum-item name="TradeDepot">
            <item-attr name="classname" value="building_tradedepotst"/>
        </enum-item>
        <enum-item name="Shop">
            <item-attr name="classname" value="building_shopst"/>
        </enum-item>
        <enum-item name="Door">
            <item-attr name="classname" value="building_doorst"/>
        </enum-item>
        <enum-item name="Floodgate">
            <item-attr name="classname" value="building_floodgatest"/>
        </enum-item>
        <enum-item name="Box">
            <item-attr name="classname" value="building_boxst"/>
        </enum-item>
        <enum-item name="Weaponrack">
            <item-attr name="classname" value="building_weaponrackst"/>
        </enum-item>
        <enum-item name="Armorstand">
            <item-attr name="classname" value="building_armorstandst"/>
        </enum-item>
        <enum-item name="Workshop">
            <item-attr name="classname" value="building_workshopst"/>
        </enum-item>
        <enum-item name="Cabinet">
            <item-attr name="classname" value="building_cabinetst"/>
        </enum-item>
        <enum-item name="Statue">
            <item-attr name="classname" value="building_statuest"/>
        </enum-item>
        <enum-item name="Window">
            <item-attr name="classname" value="building_windowst"/>
        </enum-item>
        <enum-item name="Well">
            <item-attr name="classname" value="building_wellst"/>
        </enum-item>
        <enum-item name="Bridge">
            <item-attr name="classname" value="building_bridgest"/>
        </enum-item>
        <enum-item name="Aqueduct">
            <item-attr name="classname" value="building_aqueductst"/>
        </enum-item>
        <enum-item name="Road">
            <item-attr name="classname" value="building_roadst"/>
        </enum-item>
        <enum-item name="Channel">
            <item-attr name="classname" value="building_channelst"/>
        </enum-item>
        <enum-item name="SiegeEngine">
            <item-attr name="classname" value="building_siegeenginest"/>
        </enum-item>
        <enum-item name="Trap">
            <item-attr name="classname" value="building_trapst"/>
        </enum-item>
        <enum-item name="AnimalTrap">
            <item-attr name="classname" value="building_animaltrapst"/>
        </enum-item>
        <enum-item name="Support">
            <item-attr name="classname" value="building_supportst"/>
        </enum-item>
        <enum-item name="ArcheryTarget">
            <item-attr name="classname" value="building_archerytargetst"/>
        </enum-item>
        <enum-item name="Chain">
            <item-attr name="classname" value="building_chainst"/>
        </enum-item>
        <enum-item name="Cage">
            <item-attr name="classname" value="building_cagest"/>
        </enum-item>
        <enum-item name="Stockpile">
            <item-attr name="classname" value="building_stockpilest"/>
        </enum-item>
        <enum-item name="Civzone">
            <item-attr name="classname" value="building_civzonest"/>
        </enum-item>
        <enum-item name="Weapon">
            <item-attr name="classname" value="building_weaponst"/>
        </enum-item>
        <enum-item name="Wagon">
            <item-attr name="classname" value="building_wagonst"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="building_flags">
        <ld:field name="exists" comment="actually built, not just ordered" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="site_blocked" comment="items on ground on site" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="room_collision" comment="major intersection with another room?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="justice" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="door_flags" base-type="uint16_t">
        <ld:field name="forbidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="internal" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="taken_by_invaders" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="used_by_intruder" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="closed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="operated_by_mechanisms" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pet_passable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="gate_flags" base-type="uint16_t">
        <ld:field name="closed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="closing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="opening" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="collapsing" comment="?; bridge" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_support" comment="bridge" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_extents">
        <ld:field ld:level="1" ld:meta="pointer" name="extents" type-name="uint8_t" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <comment>0 - not room; 1 in stockpile; 2 wall; 3 inner; 4 distance boundary.</comment>
        </ld:field>
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_drawbuffer">
        <ld:field ld:level="1" ld:meta="static-array" name="tile" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="fore" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="back" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="bright" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building" original-name="buildingst" instance-vector="$global.world.buildings.all" key-field="id">

        <ld:field name="x1" comment="top left" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="centerx" comment="work location" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" comment="bottom right" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="centery" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags" type-name="building_flags" ld:level="1" ld:meta="global"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="room" type-name="building_extents" ld:level="1" ld:meta="global"/>

        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="jobs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="general_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item>
        </ld:field>

        <ld:field name="is_room" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="children" comment="other buildings within this room" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parents" comment="rooms this building belongs to" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="owner" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="job_claim_suppress" comment="after RemvCre, prevents unit from taking jobs at building" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_job_claim_suppress">
                <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="timer" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <virtual-methods>
            <vmethod ld:level="1" name="setJobTimer">
                <ld:field ld:subtype="enum" base-type="int32_t" type-name="job_type" ld:level="2" ld:meta="global"/>
                <ld:field name="timer" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isOnFire"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="updateFromWeather"/>
            <vmethod ld:level="1" name="updateTemperature"/>
            <vmethod ld:level="1" name="updateItems"/>

            <vmethod ld:level="1" name="updateTempFromTile"><ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/><ld:field name="doAdjust" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isColoredByMaterial"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isFarmPlot"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getWorkshopProfile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="workshop_profile" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="workshop_profile"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="building_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="building_type"/></vmethod>

            -- 10

            <vmethod ld:level="1" ret-type="int16_t" name="getSubtype"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setSubtype"> <ld:field name="subtype" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isActual"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getStorageType"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod> 1/2/3/4 = weapon rack, armor stand, box, cabinet
            <vmethod ld:level="1" ret-type="bool" name="isCoffin2"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" name="updateAction"/>
            <vmethod ld:level="1" ret-type="bool" name="isStatueOrRestraint"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setMaterialAmount"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="setBuildStage"> <ld:field name="stage" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getBuildStage"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 20

            <vmethod ld:level="1" ret-type="int32_t" name="getMaxBuildStage"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getArchitectureValue" comment="bridge: material*10 rough, material*30 smooth"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSettingOccupancy"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isExtentShaped"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="updateOccupancy">
                <ld:field name="abs_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="abs_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getRoomValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getPersonalValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canBeRoom"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getConstructionValue" comment="bridge: material*10"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="queueDestroy" comment="same as querying and pressing X"/>

            -- 30

            <vmethod ld:level="1" ret-type="bool" name="isImpassableTile">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="rel_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="rel_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getFreeCapacity">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="exclude_in_room" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="include_pending_jobs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canStoreItem">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field> <ld:field name="ignore_available_space" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="include_pending_jobs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="getName"> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="name" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="getNameColor"/>

            modes 1/2 used by weapon racks and armor stands to select between items and materials; farm plot uses initSettingsEnable to set all season to Fallow
            <vmethod ld:level="1" name="initSettingsEnable"> <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="initSettingsDisable"> <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="initBurialFlags"/>
            <vmethod ld:level="1" name="clearBurialFlags"/>
            <vmethod ld:level="1" name="clearBurialFlags2"/>

            -- 40

            <vmethod ld:level="1" ret-type="int32_t" name="getClutterLevel" comment="1..10"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="needsDesign"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canUseForMood">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_type" ld:level="2" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canBeRoomSubset"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCoffin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="canUseSpouseRoom"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canMakeRoom" comment="false if already, or cannot be"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setContainedItems"/>
            <vmethod ld:level="1" ret-type="bool" name="isJustice"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="detachUnit"> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>

            -- 50

            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isBuiltFromSide"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="categorize" comment="Add to world.buildings.other.*"> <ld:field name="on_map" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="uncategorize" comment="Remove from world.buildings.other.*"/>

            <vmethod ld:level="1" ret-type="int32_t" name="getBaseValue"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setMachineState"> <ld:field name="new_state" comment="1 = active/open, 0 = inactive/closed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="AdventurerInteract"/>
            <vmethod ld:level="1" ret-type="bool" name="needsMagma"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="removeUses"> <ld:field name="noscatter" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lost" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>

            -- 60

            <vmethod ld:level="1" name="deconstructItems"> <ld:field name="noscatter" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lost" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="updatePathfinding"/>
            <vmethod ld:level="1" ret-type="bool" name="takesFireDamage">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="fire_type" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="populateSettingsMenu"/> for weapon racks and armor stands
            <vmethod ld:level="1" name="populateTaskList"/> for certain workshops

            <vmethod ld:level="1" ret-type="bool" name="isForbidden"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isVisibleInLookList"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isVisible" comment="used by stuff like open doors/floodgates"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getDrawExtents">
                <ld:field ld:level="2" ld:meta="pointer" type-name="building_drawbuffer" name="buffer" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_drawbuffer"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="drawBuilding">
                <ld:field ld:level="2" ld:meta="pointer" type-name="building_drawbuffer" name="buffer" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_drawbuffer"/></ld:field>
            </vmethod>

            -- 70

            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="workshop_profile">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="permitted_workers" ld:is-container="true">
            <ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="min_level" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_level" init-value="3000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_actual" inherits-from="building" original-name="building_actualst">
        <ld:field name="construction_stage" comment="0 not started, then 1 or 3 max depending on type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contained_items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_contained_items">
                <ld:field ld:level="3" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:field>
                <ld:field name="use_mode" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="design" type-name="building_design" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_design"/></ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="bool" name="isDestroyedByItemRemoval"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="willScatterContentsOnReclaim"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="willDeconstructOnAbandon"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_design">
        <ld:field name="architect" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="design_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="builder1" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="build_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="build_timer1" comment="+1 per 10 frames while building" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="builder2" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="build_timer2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="design_quality" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="build_quality" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="rough" comment="rough gabbro road" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="built" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="designed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_chairst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bedst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_tablest" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="meeting_hall" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_coffinst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="burial_mode" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_burial_mode">
            <ld:field name="allow_burial" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="no_citizens" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="no_pets" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_farmplotst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="static-array" name="plant_id" count="4" ld:is-container="true">
            <ld:item ref-target="matgloss_plant" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="seasonal_fertilize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fertilize_season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="current_fertilization" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_fertilization" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="furnace_type" base-type="int16_t">
        <enum-item name="WoodFurnace"/>
        <enum-item name="Smelter"/>
        <enum-item name="GlassFurnace"/>
        <enum-item name="Kiln"/>
        <enum-item name="MagmaSmelter"/>
        <enum-item name="MagmaGlassFurnace"/>
        <enum-item name="MagmaKiln"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_furnacest" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="static-array" name="melt_remainder" type-name="int16_t" count="64" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="furnace_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_tradedepotst" inherits-from="building_actual"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="shop_type" base-type="int16_t">
        <enum-item name="GeneralStore"/>
        <enum-item name="CraftsMarket"/>
        <enum-item name="ClothingShop"/>
        <enum-item name="ExoticClothingShop"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_shopst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="owner" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="timer" comment="increments until reaching 200,000,000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="for_sale" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="shop_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_doorst" inherits-from="building_actual">
        <ld:field name="door_flags" type-name="door_flags" init-value="0x50" ld:level="1" ld:meta="global"/>
        <ld:field name="close_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_floodgatest" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_boxst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_weaponrackst" inherits-from="building_actual">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_weapons" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_siegeammo" index-refers-to="$global.world.raws.itemdefs.siegeammo[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="allowed_materials" type-name="bool" count="64" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field name="permit_foreign_weapons" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="permit_foreign_siegeammo" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="permit_trapcomps" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_armorstandst" inherits-from="building_actual">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_armor" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_helms" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_shoes" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_gloves" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_pants" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="allowed_shields" index-refers-to="$global.world.raws.itemdefs.shields[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="allowed_materials" type-name="bool" count="64" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field name="permit_foreign" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="workshop_type" base-type="int16_t">
        <enum-item name="Alchemists"/>
        <enum-item name="Carpenters"/>
        <enum-item name="Farmers"/>
        <enum-item name="Masons"/>
        <enum-item name="Craftsdwarfs"/>
        <enum-item name="Jewelers"/>
        <enum-item name="MetalsmithsForge"/>
        <enum-item name="MagmaForge"/>
        <enum-item name="Bowyers"/>
        <enum-item name="Mechanics"/>
        <enum-item name="Siege"/>
        <enum-item name="Butchers"/>
        <enum-item name="Leatherworks"/>
        <enum-item name="Tanners"/>
        <enum-item name="Clothes"/>
        <enum-item name="Fishery"/>
        <enum-item name="Still"/>
        <enum-item name="Loom"/>
        <enum-item name="Mill"/>
        <enum-item name="Kennels"/>
        <enum-item name="Kitchen"/>
        <enum-item name="Ashery"/>
        <enum-item name="Dyers"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_workshopst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="workshop_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_cabinetst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_statuest" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_windowst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_wellst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:subtype="bitfield" name="dir_flags" base-type="uint8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_dir_flags">
            <ld:field name="north" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="south" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="east" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="west" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bridgest" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:subtype="enum" name="direction" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_direction">
            <enum-item name="Retracting" value="-1"/>
            <enum-item name="Left"/>
            <enum-item name="Right"/>
            <enum-item name="Up"/>
            <enum-item name="Down"/>
        </ld:field>
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_aqueductst" inherits-from="building_actual">
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dir_flags" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_roadst" inherits-from="building_actual">
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_channelst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="pointer" type-name="building" name="channel_parent" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="channel_children" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ponded_fish" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:subtype="bitfield" name="pond_flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_pond_flags">
            <ld:field name="kill_self" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="is_pond" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="needs_refill" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="pond_max" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="pond_cur" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="siegeengine_type" base-type="int16_t">
        <enum-item name="Catapult"/>
        <enum-item name="Ballista"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_siegeenginest" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="siegeengine_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:subtype="enum" name="facing" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_facing">
            <enum-item name="Left"/>
            <enum-item name="Up"/>
            <enum-item name="Right"/>
            <enum-item name="Down"/>
        </ld:field>
        <ld:field ld:subtype="enum" name="action" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_action">
            <enum-item name="NotInUse"/>
            <enum-item name="FireAtWill"/>
        </ld:field>
        <ld:field name="fire_timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="reload_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="trap_type" base-type="int16_t">
        <enum-item name="Lever"/>
        <enum-item name="PressurePlate"/>
        <enum-item name="CageTrap"/>
        <enum-item name="StoneFallTrap"/>
        <enum-item name="WeaponTrap"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_trapst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int32_t" type-name="trap_type" name="trap_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="state" comment="1 = pulled, tripped/needs reloading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="linked_mechanisms" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="observed_by_civs" ld:is-container="true">
            <ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_animaltrapst" inherits-from="building_actual">
        <ld:field name="bait_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_supportst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_archerytargetst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" name="archery_direction" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_archery_direction">
            <enum-item name="TopToBottom"/>
            <enum-item name="BottomToTop"/>
            <enum-item name="LeftToRight"/>
            <enum-item name="RightToLeft"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_chainst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="pointer" name="assigned" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="chained" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_cagest" inherits-from="building_actual">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_creature" ld:is-container="true">
            <ld:item ref-target="unit" comment="pretty sure not histfig" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_vermin" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_stockpilest" inherits-from="building">
        <ld:field type-name="stockpile_settings" name="settings" ld:level="1" ld:meta="global"/>

        <ld:field name="containers" ld:level="1" ld:meta="compound" ld:typedef-name="T_containers">
            <ld:field name="max_barrels" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="max_bins" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="container_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="container_item_id" ld:is-container="true">
                <ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="container_x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="container_y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="give_to" type-name="building_stockpilest" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_stockpilest"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="take_from" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="building_stockpilest" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_stockpilest"/></ld:item>
        </ld:field>

        <ld:field name="stockpile_number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="civzone_type" base-type="int16_t">
        <enum-item name="Home"/>
        <enum-item name="CraftShop"/>
        <enum-item name="Basement"/>
        <enum-item name="WeaponsmithsShop"/>
        <enum-item name="ArmorsmithsShop"/>
        <enum-item name="GeneralStore"/>
        <enum-item name="FoodShop"/>
        <enum-item name="MeadHall"/>
        <enum-item name="ThroneRoom"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_civzonest" inherits-from="building">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_creature" ld:is-container="true">
            <ld:item ref-target="unit" comment="pretty sure not histfig" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="civzone_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="abstract_building_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_weaponst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_wagonst" inherits-from="building_actual"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_raw_flags">
        <enum-item name="EQUIPMENT_WAGON_1"/>
        <enum-item name="EQUIPMENT_WAGON_2"/>
        <enum-item name="LOCKPICKER"/>
        <enum-item name="AMPHIBIOUS"/>
        <enum-item name="AQUATIC"/>
        <enum-item name="MISCHIEVIOUS"/>
        <enum-item name="PATTERNFLIER"/>
        <enum-item name="CURIOUSBEAST"/>

        <enum-item name="CURIOUSBEAST_ITEM"/>
        <enum-item name="CURIOUSBEAST_GUZZLER"/>
        <enum-item name="FLEEQUICK"/>
        <enum-item name="VERMINHUNTER"/>
        <enum-item name="VERMIN_EATER"/>
        <enum-item name="VERMIN_GROUNDER"/>
        <enum-item name="VERMIN_FLIES"/>
        <enum-item name="VERMIN_SWAMPER"/>

        -- 10

        <enum-item name="VERMIN_RIVER"/>
        <enum-item name="VERMIN_CAVERIVER"/>
        <enum-item name="VERMIN_CHASM"/>
        <enum-item name="VERMIN_LAVA"/>
        <enum-item name="VERMIN_SOIL"/>
        <enum-item name="VERMIN_SOIL_COLONY"/>
        <enum-item name="SMALLAQUATIC_SWAMP"/>
        <enum-item name="SMALLAQUATIC_RIVER"/>

        <enum-item name="SMALLAQUATIC_CAVERIVER"/>
        <enum-item name="COMMON_DOMESTIC"/>
        <enum-item name="WAGON_PULLER"/>
        <enum-item name="PACK_ANIMAL"/>
        <enum-item name="LARGE_ROAMING"/>
        <enum-item name="LARGE_CAVERIVER"/>
        <enum-item name="LARGE_CHASM"/>
        <enum-item name="LARGE_LAVA"/>

        -- 20

        <enum-item/>
        <enum-item name="SMALLAQUATIC_OCEAN"/>
        <enum-item name="FLIER"/>
        <enum-item name="LARGE_PREDATOR"/>
        <enum-item name="LOOSE_CLUSTERS"/>
        <enum-item name="FIREIMMUNE"/>
        <enum-item name="FIREIMMUNE_SUPER"/>
        <enum-item name="WEBBER"/>

        <enum-item name="WEBIMMUNE"/>
        <enum-item name="FANCIFUL"/>
        <enum-item name="FISHITEM"/>
        <enum-item name="SESSILE_LAND"/>
        <enum-item name="IMMOLATE"/>
        <enum-item name="MILKABLE"/>
        <enum-item name="NO_SPRING"/>
        <enum-item name="NO_SUMMER"/>

        -- 30

        <enum-item name="NO_AUTUMN"/>
        <enum-item name="NO_WINTER"/>
        <enum-item name="BENIGN"/>
        <enum-item name="VERMIN_NOROAM"/>
        <enum-item name="VERMIN_NOTRAP"/>
        <enum-item name="VERMIN_NOFISH"/>
        <enum-item name="EXTRACT_PERMANENT"/>
        <enum-item name="EXTRACT_PARALYZE"/>

        <enum-item name="EXTRACT_STUN"/>
        <enum-item name="EXTRACT_PARALYZE_INTERMITTENT"/>
        <enum-item name="EXTRACT_STUN_INTERMITTENT"/>
        <enum-item name="AMBUSHPREDATOR"/>
        <enum-item name="CHITIN"/>
        <enum-item name="GNAWER"/>
        <enum-item name="NOT_BUTCHERABLE"/>
        <enum-item name="BUTCHERABLE_NONSTANDARD"/>

        -- 40

        <enum-item name="COOKABLE_LIVE"/>
        <enum-item name="EXTRACT_COOKABLE"/>
        <enum-item name="FIREBREATH"/>
        <enum-item name="DRAGONFIREBREATH"/>
        <enum-item name="MEANDERER"/>
        <enum-item name="THICKWEB"/>
        <enum-item name="TRAINABLE"/>
        <enum-item name="PET"/>

        <enum-item name="PET_EXOTIC"/>
        <enum-item name="CAN_CIV"/>
        <enum-item name="CAN_SPEAK"/>
        <enum-item name="CAN_LEARN"/>
        <enum-item name="UTTERANCES"/>
        <enum-item name="BONECARN"/>
        <enum-item name="CARNIVORE"/>
        <enum-item name="UNDERSWIM"/>

        -- 50

        <enum-item name="NOEXERT"/>
        <enum-item name="NOPAIN"/>
        <enum-item name="EXTRAVISION"/>
        <enum-item name="NOBREATHE"/>
        <enum-item name="NOSTUN"/>
        <enum-item name="NONAUSEA"/>
        <enum-item name="NOBLEED"/>
        <enum-item name="TRANCES"/>

        <enum-item name="NOEMOTION"/>
        <enum-item name="RECKLESS"/>
        <enum-item name="NOSTUCKINS"/>
        <enum-item name="SEVERONBREAKS"/>
        <enum-item name="NOSKULL"/>
        <enum-item name="NOSKIN"/>
        <enum-item name="NOBONES"/>
        <enum-item name="NOMEAT"/>

        -- 60

        <enum-item name="PARALYZEIMMUNE"/>
        <enum-item name="NOFEAR"/>
        <enum-item name="CANOPENDOORS"/>
        <enum-item name="ITEMCORPSE"/>
        <enum-item name="ITEMCORPSE_RACEGLOSS"/>
        <enum-item name="ITEMCORPSE_SHARPSTONE"/>
        <enum-item name="NOSMELLYROT"/>
        <enum-item name="REMAINS_UNDETERMINED"/>

        <enum-item name="HASSHELL"/>
        <enum-item name="PEARL"/>
        <enum-item name="IVORY"/>
        <enum-item name="HORN"/>
        <enum-item name="NARROW"/>
        <enum-item name="STOUT"/>
        <enum-item name="LIKES_FIGHTING"/>
        <enum-item name="VERMIN_HATEABLE"/>

        -- 70

        <enum-item name="VEGETATION"/>
        <enum-item name="MAGICAL"/>
        <enum-item name="GOOD"/>
        <enum-item name="NATURAL"/>
        <enum-item name="EVIL"/>
        <enum-item name="SAVAGE"/>
        <enum-item name="BABY"/>
        <enum-item name="CHILD"/>

        <enum-item name="MULTIPLE_LITTER_RARE"/>
        <enum-item name="MOUNT"/>
        <enum-item name="MOUNT_EXOTIC"/>
        <enum-item name="RIVERATTACK_MOUNTS"/>
        <enum-item name="RIVERATTACK_RESIDENT"/>
        <enum-item name="RIVERATTACK_CANUSEWELL"/>
        <enum-item name="EQUIPS"/>
        <enum-item name="ENDING"/>

        -- 80

        <enum-item name="DEFENDER"/>
        <enum-item name="NOTHOUGHT"/>
        <enum-item name="TRAPAVOID"/>
        <enum-item name="CAVE_ADAPT"/>
        <enum-item name="MEGABEAST"/>
        <enum-item name="SEMIMEGABEAST"/>
        <enum-item name="ALL_ACTIVE"/>
        <enum-item name="DIURNAL"/>

        <enum-item name="NOCTURNAL"/>
        <enum-item name="CREPUSCULAR"/>
        <enum-item name="MATUTINAL"/>
        <enum-item name="VESPERTINE"/>
        <enum-item name="LIGHT_GEN"/>
        <enum-item name="BIOME_MOUNTAIN"/>
        <enum-item name="BIOME_GLACIER"/>
        <enum-item name="BIOME_TUNDRA"/>

        -- 90

        <enum-item name="BIOME_SWAMP_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_MANGROVE"/>
        <enum-item name="BIOME_MARSH_TROPICAL_FRESHWATER"/>

        <enum-item name="BIOME_MARSH_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_FOREST_TAIGA"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_CONIFER"/>
        <enum-item name="BIOME_FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_MOIST_BROADLEAF"/>
        <enum-item name="BIOME_GRASSLAND_TEMPERATE"/>

        -- A0

        <enum-item name="BIOME_SAVANNA_TEMPERATE"/>
        <enum-item name="BIOME_SHRUBLAND_TEMPERATE"/>
        <enum-item name="BIOME_GRASSLAND_TROPICAL"/>
        <enum-item name="BIOME_SAVANNA_TROPICAL"/>
        <enum-item name="BIOME_SHRUBLAND_TROPICAL"/>
        <enum-item name="BIOME_DESERT_BADLAND"/>
        <enum-item name="BIOME_DESERT_ROCK"/>
        <enum-item name="BIOME_DESERT_SAND"/>

        <enum-item name="BIOME_OCEAN"/>
        <enum-item name="BIOME_INLAND_FRESHWATER"/>
        <enum-item name="BIOME_INLAND_BRACKISHWATER"/>
        <enum-item name="BIOME_INLAND_SALTWATER"/>
        <enum-item name="BIOME_SUBTERRANEAN_RIVER"/>
        <enum-item name="BIOME_SUBTERRANEAN_CHASM"/>
        <enum-item name="BIOME_SUBTERRANEAN_LAVA"/>
        <enum-item name="FEMALE"/>

        -- B0

        <enum-item name="MALE"/>
        <enum-item name="NO_GENDER"/>
        <enum-item name="LISP"/>
        <enum-item name="MATERIAL"/>
        <enum-item name="MATERIAL_USE_RACEGLOSS"/>
        <enum-item name="MATERIAL_USE_SHARPSTONE"/>
        <enum-item name="ALCOHOL_DEPENDENT"/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_attack">
        <ld:field name="min_damage" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_damage" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="damage_type" type-name="damage_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field name="verb_3rd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="verb_2nd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="with" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="latch" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="main" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_type" comment="0 = inject extract, 1 = suck blood" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="specialattack_material" comment="extract injected" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_min" comment="amount of extract injected or blood sucked" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_max" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="by_token" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="by_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_parts" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="body_part_raw" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="body_part_raw"/></ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="creature_attack" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="creature_attack"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_graphics_role">
        <enum-item name="DEFAULT"/>
        <enum-item name="GUARD"/>
        <enum-item name="ROYALGUARD"/>
        <enum-item name="CASTLEGUARD"/>
        <enum-item name="ZOMBIE"/>
        <enum-item name="SKELETON"/>
        <enum-item name="ADVENTURER"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_raw" instance-vector="$global.world.raws.creatures">
        <ld:field name="creature_id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.creature_id</code-helper>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="remains" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="extract_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="extract_cheese_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="extract_antidote_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="vermin_bite_txt" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="gnawer" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="babyname" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="childname" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="craftsman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="fisherman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="hammerman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spearman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="crossbowman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="axeman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="swordsman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="maceman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="pikeman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="bowman_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="specname_male" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="specname_female" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="alttile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="bloodtype" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="glowtile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="static-array" count="7" ld:is-container="true" ld:anon-name="anon_1"> // body, SILK, LEATHER, BONE, EXTRACT, CHEESE, DRINK
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_anon_1"> // body, SILK, LEATHER, BONE, EXTRACT, CHEESE, DRINK
            <ld:field name="spec_heat" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="heatdam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="colddam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="ignite_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="melting_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="boiling_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="fixed_temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        </ld:item> // body, SILK, LEATHER, BONE, EXTRACT, CHEESE, DRINK
            
            
            
            
            
            
            
        </ld:field>
        <ld:field name="homeotherm" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field name="min_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="max_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="population_number" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="cluster_number" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="triggerable_group" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="litter_size" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="genpower" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="extract_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="extract_cheese_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="penetratepower" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="frequency" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="extract_antidote_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="vermin_bite_chance" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="vermin_bite_use_extract" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="grasstrample" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="buildingdestroyer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="damblock" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="itemcorpse_itemtype" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="itemcorpse_itemsubtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="itemcorpse_material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="itemcorpse_matgloss" comment="unused?" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="itemcorpse_quality" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="has_racegloss" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="remains_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="difficulty" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="riverattack" count="6" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="riverattack_group" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="fat" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="glowcolor" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="layering" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="speed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="modvalue" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="extract_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cheese_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="extract_antidote_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="petvalue" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="extract_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="milkable" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="viewrange" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="maxage" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="baby" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="child" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="add_version" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-static-flagarray" name="flags" index-enum="creature_raw_flags" count="40" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="prefstring" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>

        <ld:field name="body_info" type-name="body_info" ld:level="1" ld:meta="global"/>

        <ld:field name="graphics" ld:level="1" ld:meta="compound" ld:typedef-name="T_graphics">
            <ld:field ld:level="2" ld:meta="static-array" name="texpos" type-name="int32_t" count="7" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="texpos_gs" type-name="int32_t" count="7" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="profession_texpos" count="7" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="profession_texpos_gs" count="7" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="add_color" type-name="bool" count="7" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="profession_add_color" count="7" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="bool" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech_1" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech_2" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech_3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_template_flags">
        <enum-item name="HEAD"/>
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="SIGHT"/>
        <enum-item name="EMBEDDED"/>
        <enum-item name="INTERNAL"/>
        <enum-item name="CIRCULATION"/>
        <enum-item/>

        <enum-item name="LIMB"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
        <enum-item name="GUTS"/>
        <enum-item name="BREATHE"/>
        <enum-item name="SMALL"/>
        <enum-item name="THROAT"/>
        <enum-item name="JOINT"/>

        <enum-item name="THOUGHT"/>
        <enum-item name="NERVOUS"/>
        <enum-item name="RIGHT"/>
        <enum-item name="LEFT"/>
        <enum-item name="HEAR"/>
        <enum-item name="SMELL"/>
        <enum-item name="FLIER"/>
        <enum-item name="DIGIT"/>

        <enum-item name="MOUTH"/>
        <enum-item name="APERTURE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_template_contype" base-type="int16_t">
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="HEAD"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_part_template">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="con" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" type-name="body_part_template_contype" base-type="int16_t" name="contype" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-static-flagarray" name="flags" index-enum="body_part_template_flags" count="6" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_template" instance-vector="$global.world.raws.body.templates">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parts" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="body_part_template" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="body_part_template"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_raw_flags">
        <enum-item name="HEAD"/>
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="SIGHT"/>
        <enum-item name="EMBEDDED"/>
        <enum-item name="INTERNAL"/>
        <enum-item name="CIRCULATION"/>
        <enum-item/>

        <enum-item name="LIMB"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
        <enum-item name="GUTS"/>
        <enum-item name="BREATHE"/>
        <enum-item name="SMALL"/>
        <enum-item name="THROAT"/>
        <enum-item name="JOINT"/>

        <enum-item name="THOUGHT"/>
        <enum-item name="NERVOUS"/>
        <enum-item name="RIGHT"/>
        <enum-item name="LEFT"/>
        <enum-item name="HEAR"/>
        <enum-item name="SMELL"/>
        <enum-item name="FLIER"/>
        <enum-item name="DIGIT"/>

        <enum-item name="MOUTH"/>
        <enum-item name="APERTURE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_part_raw">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.name</code-helper>
        <ld:field name="con_part_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-static-flagarray" name="flags" index-enum="body_part_raw_flags" count="6" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="descriptor_color" instance-vector="$global.world.raws.descriptors.colors">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words_str" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" ld:is-container="true">
            <ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="fore" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="bright" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="red" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="green" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="blue" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="descriptor_shape" instance-vector="$global.world.raws.descriptors.shapes">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words_str" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" ld:is-container="true">
            <ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="adj" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_activity_statistics">
        <ld:field name="food" ld:level="1" ld:meta="compound" ld:typedef-name="T_food">
            <ld:field name="total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="meat" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="fish" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="other" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="seeds" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="plant" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="drink" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unit_counts" type-name="int16_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="population" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="omnivores" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="carnivores" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="trained_animals" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="other_animals" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="potential_soldiers" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="combat_aptitude" comment="sum of all attribute bonuses, armor exp levels, shield exp levels, wrestling exp levels, and the highest weapon skill levels" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="item_counts" type-name="int32_t" count="110" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="created_weapons" type-name="int32_t" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="wealth" ld:level="1" ld:meta="compound" ld:typedef-name="T_wealth">
            <ld:field name="total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="weapons" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="armor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="furniture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="other" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="architecture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="displayed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="road" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="held" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="imported" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unused" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="exported" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="recent_jobs" count="202" index-enum="job_type" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_recent_jobs">
            <ld:field ld:level="2" ld:meta="static-array" name="by_material" count="64" type-name="int32_t" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="no_material" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:item>
            
            
            
        </ld:field>
        <ld:field name="revealed_tiles" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="death_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="insanity_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="execution_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="noble_death_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="total_deaths" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_insanities" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_executions" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_artifacts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_siegers" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="found_gold" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_coal" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_copper" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_silver" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_tin" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_zinc" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_iron" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_platinum" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_adamantine" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_caveriver" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_chasm" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="found_magma" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_creature_foods" type-name="bool" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_creatures" type-name="bool" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_plant_foods" type-name="bool" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_plants" type-name="bool" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_trees" type-name="bool" index-refers-to="$global.world.raws.matgloss_wood[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caravan_state">
        <ld:field name="total_capacity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="trade_state" comment="1 = approaching depot; 2 = at depot; 3 = leaving" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="depot_notified" comment="has it warned you that you need a depot" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="time_remaining" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="activity_stats" type-name="entity_activity_statistics" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="check_cleanup" comment="set each time a merchant leaves the map or dies" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="casualty" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="hardship" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="communicate" comment="send data to mountainhomes" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="seized" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="offended" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="announce" comment="display merchantintro and merchantexit" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="import_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="export_value_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="export_value_personal" comment="excluding Foreign items" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="offer_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_prices" name="sell_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_prices" name="buy_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_buy_prices">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_requests" name="items" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_requests"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="price" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_buy_requests">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_subtype" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._global.item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" name="priority" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_sell_category">
        <enum-item name="Leather"/>
        <enum-item name="ClothPlant"/>
        <enum-item name="ClothSilk"/>
        <enum-item name="Crafts"/>
        <enum-item name="Pets"/>
        <enum-item name="Drinks"/>
        <enum-item name="Cheese"/>
        <enum-item name="Powders"/>
        <enum-item name="Extracts"/>
        <enum-item name="MeatFish"/>
        <enum-item name="Plants"/>
        <enum-item name="MeatFishRecipes"/>
        <enum-item name="OtherRecipes"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_sell_prices">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_requests" name="items" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="13" index-enum="entity_sell_category" name="price" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_sell_requests">
        <ld:field ld:level="1" ld:meta="static-array" count="13" index-enum="entity_sell_category" name="priority" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_recipe">
        <ld:field name="subtype" ref-target="itemdef_foodst" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_subtype" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._parent._parent.item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material" comment="for certain item types, these are creature/plant IDs" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="matgloss" ld:is-container="true">
            <ld:item refers-to="(matgloss-target $$._parent._parent.material[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="historical_entity_type">
        <enum-item name="Civilization"/>
        <enum-item name="SiteGovernment"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_entity" key-field="id" instance-vector="$global.world.entities.all">
        <ld:field ld:subtype="enum" name="type" base-type="int16_t" type-name="historical_entity_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="id" comment="index in the array" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" name="entity_raw" type-name="entity_raw" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_raw"/></ld:field>

        <ld:field name="save_file_id" comment="changes once has 100 entries" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_member_idx" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (describe-obj (find-creature $.race))
        </code-helper>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="neighbor" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="mountainhome" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk3" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="ruin" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entity_links" pointer-type="entity_entity_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_entity_link"><ld:item ld:level="3" ld:meta="global" type-name="entity_entity_link"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="site_links" pointer-type="entity_site_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_site_link"><ld:item ld:level="3" ld:meta="global" type-name="entity_site_link"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfig_ids" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis_ids" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="resources" ld:level="1" ld:meta="compound" ld:typedef-name="T_resources">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_type" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_type" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_type" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_type" type-name="int16_t" ref-target="itemdef_ammost" ld:is-container="true"><ld:item ref-target="itemdef_ammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_type" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_type" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_type" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_type" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_type" type-name="int16_t" ref-target="itemdef_shieldst" ld:is-container="true"><ld:item ref-target="itemdef_shieldst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_type" type-name="int16_t" ref-target="itemdef_trapcompst" ld:is-container="true"><ld:item ref-target="itemdef_trapcompst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_type" type-name="int16_t" ref-target="itemdef_toyst" ld:is-container="true"><ld:item ref-target="itemdef_toyst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_type" type-name="int16_t" ref-target="itemdef_instrumentst" ld:is-container="true"><ld:item ref-target="itemdef_instrumentst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_type" type-name="int16_t" ref-target="itemdef_siegeammost" ld:is-container="true"><ld:item ref-target="itemdef_siegeammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="weapon" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="armor" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="leather" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cloth" type-name="int16_t" ref-target="matgloss_plant" ld:is-container="true"><ld:item ref-target="matgloss_plant" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="silk" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="lye" type-name="int16_t" comment="If non-empty, allows bringing lye at embark - populated with a 0 for each wood type available" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="craft_metal" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field name="stone" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="gem" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bone" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shell" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pearl" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ivory" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="horn" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="other" type-name="material_vec_ref" comment="jade, amber, and coral" ld:level="2" ld:meta="global"/>
            <ld:field name="crafts" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="glass" type-name="material_vec_ref" comment="always empty" ld:level="2" ld:meta="global"/>
            <ld:field name="wood" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pet" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="cage" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="drink" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="cheese" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="mill" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="extract" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meat_fish" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plant" type-name="int16_t" ref-target="matgloss_plant" ld:is-container="true"><ld:item ref-target="matgloss_plant" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wagon" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pack_animal" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wagon_puller" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mount" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="minion" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meat_fish_recipes" pointer-type="entity_recipe" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_recipe"><ld:item ld:level="4" ld:meta="global" type-name="entity_recipe"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="other_recipes" pointer-type="entity_recipe" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_recipe"><ld:item ld:level="4" ld:meta="global" type-name="entity_recipe"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="special_mats" count="3" comment="never used" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_special_mats">
                <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="3" ld:meta="global"/>
                <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="owned_items" pointer-type="item" comment="equipped by arriving monarch, but never actually populated" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_creature_foods" type-name="bool" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_creatures" type-name="bool" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_plant_foods" type-name="bool" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_plants" type-name="bool" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_trees" type-name="bool" index-refers-to="$global.world.raws.matgloss_wood[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" comment="refers to world_data.unk194" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>

            <ld:field name="min_temperature" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="max_temperature" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="art_image_types" comment="0 = civilization symbol" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="art_image_ids" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="art_image_subids" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="uniforms" pointer-type="entity_uniform" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_uniform"><ld:item ld:level="4" ld:meta="global" type-name="entity_uniform"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meeting_events" pointer-type="meeting_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="meeting_event"><ld:item ld:level="4" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="activity_stats" type-name="entity_activity_statistics" ld:level="1" ld:meta="global"/>

        <ld:field name="send_nobles" comment="migrant waves will not include new/replacement nobles unless set" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="last_communicate_season" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="last_communicate_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="imports" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="exports" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="offerings_recent" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="offerings_history" count="10" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="hostile_level" comment="determines siege difficulty, has a chance to reset to 1 after each siege" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="siege_count" comment="determines siege size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" comment="refers to world_data.unk194" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="hist_figures" pointer-type="historical_figure" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_figure"><ld:item ld:level="3" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="nemesis_record"><ld:item ld:level="3" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>

        <ld:field ld:anon-compound="true" comment="derived resources" ld:level="1" ld:meta="compound">
            <ld:field name="mill_cookable" type-name="material_vec_ref" ld:level="1" ld:meta="global"/>
            <ld:field name="mill_dye" type-name="material_vec_ref" ld:level="1" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_leather" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_chain" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_plate" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_under" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_over" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="armor_cover" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_leather" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_chain" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_plate" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_under" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_over" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pants_cover" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_leather" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_chain" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_plate" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_under" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_over" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="helm_cover" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_leather" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_chain" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_plate" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_under" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_over" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shoes_cover" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_leather" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_chain" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_plate" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_under" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_over" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gloves_cover" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>
        <ld:field name="num_members" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_members" comment="1000 if created at the beginning of the Age of Myth or Legends, 500 otherwise" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_material_category" base-type="int16_t">
        <enum-item name="Clothing"/>
        <enum-item name="Leather"/>
        <enum-item name="Cloth"/>
        <enum-item name="LyeWood"/>
        <enum-item name="CraftMetal"/>
        <enum-item name="Stone"/>
        <enum-item name="Improvement"/>
        <enum-item name="Glass"/>
        <enum-item name="Wood"/>
        <enum-item name="Bag"/>
        <enum-item name="Cage"/>
        <enum-item name="Weapon"/>
        <enum-item name="Ammo"/>
        <enum-item name="Pick"/>
        <enum-item name="Armor"/>
        <enum-item name="Gem"/>
        <enum-item name="Bone"/>
        <enum-item name="Shell"/>
        <enum-item name="Pearl"/>
        <enum-item name="Ivory"/>
        <enum-item name="Horn"/>
        <enum-item name="Other"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_uniform_item">
        <ld:field name="random_dye" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="item_color" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="art_image_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_image_subid" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="image_thread_color" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="image_material_class" type-name="entity_material_category" ld:level="1" ld:meta="global"/>
        <ld:field name="maker_race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_uniform">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="uniform_item_types" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="uniform_item_subtypes" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._parent._parent.uniform_item_types[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="uniform_item_info" pointer-type="entity_uniform_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_uniform_item"><ld:item ld:level="3" ld:meta="global" type-name="entity_uniform_item"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_raw_flags">
        <enum-item name="CIV_CONTROLLABLE"/>
        <enum-item name="INDIV_CONTROLLABLE"/>
        <enum-item name="MOUNTAIN_SETTLEMENTS"/>
        <enum-item name="FOREST_SETTLEMENTS"/>
        <enum-item name="PLAINS_SETTLEMENTS"/>
        <enum-item name="SIEGER"/>
        <enum-item name="AMBUSHER"/>
        <enum-item name="BABYSNATCHER"/>

        <enum-item name="NUISANCE"/>
        <enum-item name="CLOTHING"/>
        <enum-item name="CURRENCY_BY_YEAR"/>
        <enum-item name="METAL_PREF"/>
        <enum-item name="GEM_PREF"/>
        <enum-item name="STONE_PREF"/>
        <enum-item name="WOOD_PREF"/>
        <enum-item name="MINOR_METAL"/>

        <enum-item name="RIVER_PRODUCTS"/>
        <enum-item name="OCEAN_PRODUCTS"/>
        <enum-item name="INDOOR_FARMING"/>
        <enum-item name="OUTDOOR_FARMING"/>
        <enum-item name="USE_CAVE_ANIMALS"/>
        <enum-item name="USE_EVIL_ANIMALS"/>
        <enum-item name="USE_ANIMAL_PRODUCTS"/>
        <enum-item name="COMMON_DOMESTIC_PACK"/>

        <enum-item name="COMMON_DOMESTIC_PULL"/>
        <enum-item name="COMMON_DOMESTIC_MOUNT"/>
        <enum-item name="COMMON_DOMESTIC_PET"/>
        <enum-item name="SUBTERRANEAN_CLOTHING"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="site_type">
        <enum-item name="PLAYER_FORTRESS"/>
        <enum-item name="DARK_FORTRESS"/>
        <enum-item name="CAVE"/>
        <enum-item name="CAVE_DETAILED"/>
        <enum-item name="TREE_CITY"/>
        <enum-item name="CITY"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="FORTRESS"/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_name_type">
        <enum-item name="OTHER"/>
        <enum-item name="CIV"/>
        <enum-item name="SITE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_raw" instance-vector="$global.world.raws.entities">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.translation</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creature_ids" ld:is-container="true">
            <ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creatures" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>

        <ld:field name="equipment" ld:level="1" ld:meta="compound" ld:typedef-name="T_equipment">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_id" ld:is-container="true">
                <ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_id" ld:is-container="true">
                <ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_id" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_id" ld:is-container="true">
                <ld:item ref-target="itemdef_ammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_id" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_id" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_id" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_id" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_id" ld:is-container="true">
                <ld:item ref-target="itemdef_shieldst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_id" ld:is-container="true">
                <ld:item ref-target="itemdef_trapcompst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_id" ld:is-container="true">
                <ld:item ref-target="itemdef_toyst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_id" ld:is-container="true">
                <ld:item ref-target="itemdef_instrumentst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_id" ld:is-container="true">
                <ld:item ref-target="itemdef_siegeammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_str" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="currency_value" index-enum="material_type" count="64" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="entity_raw_flags" ld:is-container="true"/>
        <ld:field name="translation" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="symbols" ld:level="1" ld:meta="compound" ld:typedef-name="T_symbols">
            <ld:field ld:level="2" ld:meta="static-array" name="word_table_1" type-name="language_word_table" index-enum="entity_name_type" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="language_word_table"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="word_table_2" type-name="language_word_table" index-enum="entity_name_type" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="language_word_table"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="select_symbol" index-enum="entity_name_type" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="cull_symbol" index-enum="entity_name_type" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="weather_type" base-type="int8_t">
        <enum-item name="None"/>
        <enum-item name="Rain"/>
        <enum-item name="Snow"/>
    </ld:global-type>
    <ld:global-object ld:level="0" name="cursor" ld:is-container="true">
        <ld:item ld:meta="compound" ld:level="0" ld:typedef-name="T_cursor">
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:item>
        
        
        
    </ld:global-object>
    <ld:global-object ld:level="0" name="selection_rect" ld:is-container="true">
        <ld:item ld:meta="compound" ld:level="0" ld:typedef-name="T_selection_rect">
        <ld:field name="start_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_x" comment="only valid for an instant while its being completed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:item>
        
        
        
        
        
        
    </ld:global-object>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="game_mode">
        <enum-item name="DWARF"/>
        <enum-item name="ADVENTURE"/>
        <enum-item name="num"/>
        <enum-item name="NONE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="game_type">
        <enum-item name="DWARF_MAIN"/>
        <enum-item name="ADVENTURE_MAIN"/>
        <enum-item name="VIEW_LEGENDS"/>
        <enum-item name="DWARF_RECLAIM"/>
        <enum-item name="num"/>
        <enum-item name="NONE"/>
    </ld:global-type>
    <ld:global-object ld:level="0" name="gamemode" ld:is-container="true">
        <ld:item ld:subtype="enum" base-type="int32_t" type-name="game_mode" ld:level="1" ld:meta="global"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="gametype" ld:is-container="true">
        <ld:item ld:subtype="enum" base-type="int32_t" type-name="game_type" ld:level="1" ld:meta="global"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_area_map_width" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_menu_width" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="created_item_type" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_subtype" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $global.created_item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_material" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="2" ld:meta="global"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_matgloss" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item refers-to="(matgloss-target $global.created_item_material[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_count" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="flows" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="flow_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="enabler" type-name="enabler" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="enabler"/></ld:global-object>
    <ld:global-object ld:level="0" name="gps" type-name="graphic" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="graphic"/></ld:global-object>
    <ld:global-object ld:level="0" name="gview" type-name="interfacest" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="interfacest"/></ld:global-object>
    <ld:global-object ld:level="0" name="init" type-name="init" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="init"/></ld:global-object>
    <ld:global-object ld:level="0" name="timed_events" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="timed_event" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="timed_event"/></ld:item>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui" type-name="ui" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_advmode" type-name="ui_advmode" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_advmode"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_build_selector" type-name="ui_build_selector" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_build_selector"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_type" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_is_marked" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_units" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_items" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_look_list" type-name="ui_look_list" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_look_list"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_sidebar_menus" type-name="ui_sidebar_menus" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_sidebar_menus"/></ld:global-object>
    <ld:global-object ld:level="0" name="world" type-name="world" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="world"/></ld:global-object>
    <ld:global-object ld:level="0" name="art_image_chunk_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="artifact_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="building_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="entity_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="hist_event_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="hist_figure_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="item_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="job_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="nemesis_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="proj_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="schedule_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="task_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="unit_chunk_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="unit_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year_tick_advmode" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_season" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_season_tick" type-name="int16_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:global-object>
    <ld:global-object ld:level="0" name="current_weather" ld:is-container="true">
        <ld:item ld:subtype="enum" base-type="int8_t" type-name="weather_type" ld:level="1" ld:meta="global"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="pause_state" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="process_dig" type-name="bool" comment="Requests dig designations to be processed next frame." ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="process_jobs" type-name="bool" comment="Requests building jobs to be processed next frame." ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_in_assign" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_in_resize" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_item_cursor" ld:is-container="true">
        <ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_look_cursor" ld:is-container="true">
        <ld:item refers-to="$global.ui_look_list.items[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_selected_unit" ld:is-container="true">
        <ld:item refers-to="$global.world.units.other[0][$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_unit_view_mode" type-name="ui_unit_view_mode" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_unit_view_mode"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_workshop_in_add" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_workshop_job_cursor" ld:is-container="true">
        <ld:item refers-to="$global.world.selected_building.jobs[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="window_x" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="window_y" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="window_z" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nopause" type-name="bool" comment="Prevents the game from being paused" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nomoods" type-name="bool" comment="Disables strange moods" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_combat" type-name="bool" comment="Functionality unknown, combat-related" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_wildlife" type-name="bool" comment="Functionality unknown, wildlife-related" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nodrink" type-name="bool" comment="Disables thirst on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_noeat" type-name="bool" comment="Disables hunger on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nosleep" type-name="bool" comment="Disables drowsiness on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_showambush" type-name="bool" comment="Makes hidden ambushers visible on-screen and in the units list (but not to your citizens)" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_fastmining" type-name="bool" comment="All dwarves mine as fast as a Legendary Miner" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nothought" type-name="bool" comment="All units have happiness locked at 100" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_noberserk" type-name="bool" comment="Insanity can only result in Crazed or Melancholy, never Berserk" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_turbospeed" type-name="bool" comment="All units move and work at maximum speed" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="save_on_exit" type-name="bool" comment="Ending the game saves its state back to world.dat or world.sav" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_minerals" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_wood" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_food" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_bodies" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_animals" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_furniture" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_farmer_harvest" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_job_cancel_announce" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_mix_food" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_refuse" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_refuse_outside" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_corpses" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_skulls" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_skins" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_bones" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_shells" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_other" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_loom" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_collect_webs" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_slaughter" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_butcher" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_tan" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_use_dyed_cloth" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_stay_indoors" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tile_page" key-field="token">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="tile_dim_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="tile_dim_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="page_dim_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="page_dim_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texpos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="datapos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texpos_gs" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="datapos_gs" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="loaded" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="graphic">
        <ld:field name="texture" ld:level="1" ld:meta="compound" ld:typedef-name="T_texture">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="page" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="tile_page" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="tile_page"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="texpos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="datapos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>
        <ld:field type-name="map_renderer" name="map_renderer" ld:level="1" ld:meta="global"/>

        <ld:field name="screenx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="screeny" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="screenf" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="screenb" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="screenbright" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="static-array" name="screentexpos" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" type-name="int32_t" count="25" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="screentexpos_addcolor" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" type-name="int8_t" count="25" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="screentexpos_grayscale" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" type-name="uint8_t" count="25" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="screentexpos_cf" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" type-name="uint8_t" count="25" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="screentexpos_cbr" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" type-name="uint8_t" count="25" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="screen" count="80" ld:is-container="true"><ld:item ld:level="2" ld:meta="static-array" count="25" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_screen">
            <ld:field name="chr" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="fore" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="back" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="bright" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:item>
            
            
            
            
        </ld:item></ld:field>
        
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="clipx" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="clipy" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="tex_pos" count="1" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="rect_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int64_t" name="print_time" count="100" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/></ld:field>
        <ld:field name="print_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="display_frames" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="enabler">
        <ld:field name="hInstance" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="className" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="windowInfo" ld:level="1" ld:meta="compound" ld:typedef-name="T_windowInfo">
            <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_1"/>
            <ld:field name="hWnd" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="hDC" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="HGLRC" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_2"/>
            <ld:field name="lpWindowName" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="dim_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="dim_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="bpp" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="windowed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="256" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="MSG" ld:level="1" ld:meta="compound" ld:typedef-name="T_MSG">
            <ld:field name="hwnd" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="message" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="wParam" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="lParam" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="time" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="pt" ld:level="2" ld:meta="compound" ld:typedef-name="T_pt">
                <ld:field name="x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
        </ld:field>
        <ld:field name="desired_windowed_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_windowed_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_fullscreen_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_fullscreen_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flag" ld:level="1" ld:meta="compound" ld:typedef-name="T_flag">
            <ld:field name="render" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="maxfps" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="tracking_on" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="command_line" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="create_full_screen" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="inactive_mode" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="qfpr" ld:level="1" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/>
        <ld:field name="main_qprate" ld:level="1" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/>
        <ld:field name="qprate" ld:level="1" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/>
        <ld:field name="qpc" ld:level="1" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/>
        <ld:field name="qpc2" ld:level="1" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field name="oldmouse_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="oldmouse_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_lbut" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_rbut" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_lbut_lift" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_rbut_lift" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="file_info" pointer-type="text_system_file_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="text_system_file_info"><ld:item ld:level="3" ld:meta="global" type-name="text_system_file_info"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="ccolor" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="3" type-name="s-float" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:item>
        </ld:field>
        <ld:field name="window_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="window_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="overlays" comment="used for mouse picture" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_overlays">
                <ld:field name="texpos" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field name="x1" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field name="y1" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field name="flags" ld:level="3" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
                <ld:field name="red" ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
                <ld:field name="green" ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
                <ld:field name="blue" ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
                <ld:field name="alpha" ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field name="x2" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field name="y2" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field name="z1" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field name="z2" ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64" ld:anon-name="anon_9"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64" ld:anon-name="anon_10"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="d-float" ld:bits="64" ld:anon-name="anon_11"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="static-array" count="100" name="input_queue" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_input_queue">
            <ld:field name="vKey" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="shift" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="capslock" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:item>
            
            
            
        </ld:field>
        <ld:field name="is_program_looping" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="not created anywhere" ld:is-container="true" ld:anon-name="anon_6">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_6">
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="static-array" count="256" name="textures" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>?
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>?
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_12"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_13"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_14"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_15"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_16"/>
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_17"/>
            </ld:item>
                
                
                
                
                
                
                
                ?
                ?
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gridrect" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_gridrect">
                <ld:field name="id" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dimx" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dimy" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="pointer" type-name="int32_t" name="buffer_texpos" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_r" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_g" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_b" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_br" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_bg" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="s-float" name="buffer_bb" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field name="dispx" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dispy" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="black_space" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="not created anywhere" ld:is-container="true" ld:anon-name="anon_7">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_7">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field name="dimx_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dimy_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dimx_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dimy_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" count="24" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_8"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int8_t" count="29" ld:is-container="true" ld:anon-name="anon_9"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" count="222" ld:is-container="true" ld:anon-name="anon_11"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" count="256" ld:is-container="true" ld:anon-name="anon_13"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texture" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_texture">
                <ld:field ld:level="3" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_1"/>
                <ld:field name="name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="datapos" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="alpha_1" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="alpha_2" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="dimx" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="dimy" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="glTexture" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="old_glTexture" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texture_data" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_texture_data">
                <ld:field ld:level="3" ld:meta="pointer" type-name="int8_t" name="rgb" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
                <ld:field name="alpha" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="dimx" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="dimy" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field name="next_gridrect_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
        <ld:field name="locx" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="locy" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="locz" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="center_x" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="center_y" ld:level="1" ld:meta="number" ld:subtype="d-float" ld:bits="64"/>
        <ld:field name="color_r" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="color_g" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="color_b" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="color_a" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="clear_r" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="clear_g" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="clear_b" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="clear_a" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fade_r" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fade_g" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fade_b" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fade_a" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fade_t" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="buffer_draw" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="text_system_file_info">
        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="file_token" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="text_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elements" pointer-type="text_info_elementst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="text_info_elementst"><ld:item ld:level="3" ld:meta="global" type-name="text_info_elementst"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="text_info_elementst">
        <virtual-methods>
            <vmethod ld:level="1" name="getString"><ld:field ld:level="2" ld:meta="pointer" name="val" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field></vmethod>
            <vmethod ld:level="1" name="getLong" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="text_info_element_longst" inherits-from="text_info_elementst">
        <ld:field name="val" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="text_info_element_stringst" inherits-from="text_info_elementst">
        <ld:field name="val" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coin_batch" instance-vector="$global.world.coin_batches">
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ruler" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="image_front" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="image_back" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_flags">
        <enum-item name="Discovered"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_figure" instance-vector="$global.world.world_data.history.figures" key-field="id">
        <ld:field ld:subtype="enum" base-type="int32_t" name="profession" type-name="profession" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="racegloss" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="sex" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="age_death" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="appeared_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="born_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="died_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
              (fmt "(~A)" $it.creature_id))
        </code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="histfig_flags" ld:is-container="true"/>

        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entity_links" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="histfig_entity_link" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="histfig_entity_link"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="site_links" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="histfig_site_link" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="histfig_site_link"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfig_links" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="histfig_hf_link" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="histfig_hf_link"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_type">
        <enum-item name="WAR_ATTACKED_SITE"/>
        <enum-item name="WAR_DESTROYED_SITE"/>
        <enum-item name="CREATED_SITE"/>
        <enum-item name="HIST_FIGURE_DIED"/>
        <enum-item name="ADD_HF_ENTITY_LINK"/>
        <enum-item name="FIRST_CONTACT"/>
        <enum-item name="FIRST_CONTACT_FAILED"/>
        <enum-item name="TOPICAGREEMENT_CONCLUDED"/>
        <enum-item name="TOPICAGREEMENT_REJECTED"/>
        <enum-item name="TOPICAGREEMENT_MADE"/>
        <enum-item name="WAR_PEACE_ACCEPTED"/>
        <enum-item name="WAR_PEACE_REJECTED"/>
        <enum-item name="DIPLOMAT_LOST"/>
        <enum-item name="AGREEMENTS_VOIDED"/>
        <enum-item name="MERCHANT"/>
        <enum-item name="ARTIFACT_HIDDEN"/>
        <enum-item name="ARTIFACT_POSSESSED"/>
        <enum-item name="ARTIFACT_CREATED"/>
        <enum-item name="ARTIFACT_LOST"/>
        <enum-item name="ARTIFACT_FOUND"/>
        <enum-item name="ARTIFACT_RECOVERED"/>
        <enum-item name="ARTIFACT_DROPPED"/>
        <enum-item name="DEMON_ENCASED"/>
        <enum-item name="DEMON_RELEASED"/>
        <enum-item name="RECLAIM_SITE"/>
        <enum-item name="CONTACT_LOST"/>
        <enum-item name="HF_DESTROYED_SITE"/>
        <enum-item name="SITE_DIED"/>
        <enum-item name="SITE_ABANDONED"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_flags">
        <enum-item name="Hidden"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event" original-name="history_eventst" instance-vector="$global.world.world_data.history.events" key-field="id">
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="season_ticks" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="history_event_flags" ld:is-container="true"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="history_event_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="history_event_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getWarStatus">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getAngerModifier">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getHappinessModifier">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="madeFirstContact">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="wasArtifactHidden">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="artifact" ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getArtifactHolderUnitID">
                <ld:field name="artifact" ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ret-type ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isArtifactPossessedByUnit">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="artifact" ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unit" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="associateArtifactWithUnit"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getKilledHistfigID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="killer" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ret-type ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 10

            <vmethod ld:level="1" ret-type="bool" name="wasHistfigKilled">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="victim" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getEncasedDemonHistfigID">
                <ld:field name="region" ref-target="world_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ret-type ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getEncasedDemonRegionID">
                <ld:field name="histfig" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ret-type ref-target="world_region" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedHistfigIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedSiteIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"><ld:item ref-target="world_site" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>

            <vmethod ld:level="1" name="getRelatedArtifactIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"><ld:item ref-target="artifact_record" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedRegionIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"><ld:item ref-target="world_region" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedEntityIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToHistfigID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="histfig" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToSiteID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 20

            <vmethod ld:level="1" ret-type="bool" name="isRelatedToArtifactID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="artifact" ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToRegionID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="region" ref-target="world_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToEntityID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="entity" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getSummary"> "In x, some event happened"
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field> <ld:field name="ref_id" comment="whatever ref points to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> only used for histfig death
                <ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/><ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> both unused
            </vmethod>
            <vmethod ld:level="1" name="getDescription"> "the happening of some event"
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field> <ld:field name="ref_id" comment="whatever ref points to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> never used
                <ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/><ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> both unused
            </vmethod>

            <vmethod ld:level="1" name="populateArtImage">
                <ld:field ld:level="2" ld:meta="pointer" type-name="art_image" name="image" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_attacked_sitest" inherits-from="history_event">
        <ld:field name="attacker" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_destroyed_sitest" inherits-from="history_event">
        <ld:field name="attacker" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_created_sitest" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="death_type">
        <enum-item name="OLD_AGE"/>
        <enum-item name="HUNGER"/>
        <enum-item name="THIRST"/>
        <enum-item name="SHOT"/>
        <enum-item name="BLEED"/>
        <enum-item name="DROWN"/>
        <enum-item name="SUFFOCATE"/>
        <enum-item name="STRUCK_DOWN"/>
        <enum-item name="SCUTTLE" comment="stuck wagons"/>
        <enum-item name="COLLISION"/>
        <enum-item name="MAGMA" comment="does not happen anymore?"/>
        <enum-item name="MAGMA_MIST" comment="does not happen anymore?"/>
        <enum-item name="DRAGONFIRE"/>
        <enum-item name="FIRE"/>
        <enum-item name="SCALD" comment="does not happen anymore?"/>
        <enum-item name="CAVEIN"/>
        <enum-item name="DRAWBRIDGE"/>
        <enum-item name="FALLING_ROCKS" comment="does not happen anymore?"/>
        <enum-item name="CHASM"/>
        <enum-item name="CAGE"/>
        <enum-item name="MURDER"/>
        <enum-item name="TRAP"/>
        <enum-item name="COLLAPSE"/>
        <enum-item name="QUIT" comment="Give in to starvation as adventurer"/>
        <enum-item name="ABANDON"/>
        <enum-item name="HEAT"/>
        <enum-item name="COLD"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_diedst" inherits-from="history_event">
        <ld:field name="victim" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="killer" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="death_cause" type-name="death_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_add_hf_entity_linkst" inherits-from="history_event">
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ruler" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_first_contactst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_first_contact_failedst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_concludedst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="topic" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
        <ld:field name="result" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_rejectedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" name="topic" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_madest" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" name="topic" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_peace_acceptedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" name="topic" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_peace_rejectedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" name="topic" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_diplomat_lostst" inherits-from="history_event">
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="involved" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_agreements_voidedst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_merchant_flags">
        <enum-item name="NeverSeenAgain"/>
        <enum-item name="SufferedHardships"/>
        <enum-item name="SeizedGoods"/>
        <enum-item name="Offended"/>
        <enum-item name="MissingGoods"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_merchantst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="history_event_merchant_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_hiddenst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_possessedst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_createdst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_lostst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_foundst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_recoveredst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_artifact_dropped_flags">
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_droppedst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="history_event_artifact_dropped_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_demon_encasedst" inherits-from="history_event">
        <ld:field name="demon" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_demon_releasedst" inherits-from="history_event">
        <ld:field name="demon" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_reclaim_sitest" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_contact_lostst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_destroyed_sitest" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_site_diedst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_site_abandonedst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_history">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events" pointer-type="history_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="history_event"><ld:item ld:level="3" ld:meta="global" type-name="history_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="figures" pointer-type="historical_figure" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_figure"><ld:item ld:level="3" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="art_image_ids" type-name="int32_t" ref-target="art_image_chunk" ld:is-container="true"><ld:item ref-target="art_image_chunk" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="art_image_subids" type-name="int16_t" ref-target="art_image" aux-value="$$._parent.art_image_ids[$._key]" ld:is-container="true"><ld:item ref-target="art_image" aux-value="$$._parent.art_image_ids[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="art_image_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_display_flags">
        <enum-item name="VARIED_GROUND_TILES"/>
        <enum-item name="ENGRAVINGS_START_OBSCURED"/>
        <enum-item name="USE_GRAPHICS"/>
        <enum-item name="BLACK_SPACE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_nickname_mode">
        <enum-item name="REPLACE_FIRST"/>
        <enum-item name="CENTRALIZE"/>
        <enum-item name="REPLACE_ALL"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_display">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="init_display_flags" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="static-array" name="nickname" count="4" index-enum="game_type" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="init_nickname_mode" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field ld:subtype="enum" name="windowed" ld:level="1" ld:meta="compound" ld:typedef-name="T_windowed">
            <enum-item name="True"/>
            <enum-item name="False"/>
            <enum-item name="Prompt"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="static-array" name="fps_cap" type-name="int32_t" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_media_flags">
        <enum-item name="SOUND_OFF"/>
        <enum-item name="INTRO_OFF"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_media">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_media_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_input_flags">
        <enum-item name="MOUSE_OFF"/>
        <enum-item name="MOUSE_PICTURE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_input">
        <ld:field name="key_hold_ms" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_input_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_font">
        <ld:field ld:level="1" ld:meta="static-array" name="small_font_texpos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="large_font_texpos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="small_font_datapos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="large_font_datapos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="small_font_adjx" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="small_font_adjy" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="large_font_adjx" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="large_font_adjy" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="small_font_dispx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="small_font_dispy" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="large_font_dispx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="large_font_dispy" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_adventurer_flags">
        <enum-item name="MORE"/>
        <enum-item name="ADVENTURER_TRAPS"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_adventurer">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="init_adventurer_flags" ld:is-container="true"/>
        <ld:field name="population_cap" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_dwarf">
        <ld:field name="population_cap" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_game_flags">
        <enum-item name="TEMPERATURE"/>
        <enum-item name="WEATHER"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_game">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="init_game_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init">
        <ld:field name="display" type-name="init_display" ld:level="1" ld:meta="global"/>
        <ld:field name="adventurer" type-name="init_adventurer" ld:level="1" ld:meta="global"/>
        <ld:field name="dwarf" type-name="init_dwarf" ld:level="1" ld:meta="global"/>
        <ld:field name="media" type-name="init_media" ld:level="1" ld:meta="global"/>
        <ld:field name="input" type-name="init_input" ld:level="1" ld:meta="global"/>
        <ld:field name="font" type-name="init_font" ld:level="1" ld:meta="global"/>
        <ld:field name="game" type-name="init_game" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_type" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="is_rawable" type-name="bool"/>
        <enum-attr name="is_creature_mat" type-name="bool" comment="instead of material, uses a creature ID"/>
        <enum-attr name="is_plant_mat" type-name="bool" comment="instead of material, uses a plant ID"/>
        <enum-attr name="classname"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="BAR" comment="Bars, such as metal, fuel, or soap.">
            <item-attr name="caption" value="bars"/>
            <item-attr name="classname" value="item_barst"/>
        </enum-item>
        <enum-item name="SMALLGEM" comment="Cut gemstones usable in jewelers workshop">
            <item-attr name="caption" value="cut gem"/>
            <item-attr name="classname" value="item_smallgemst"/>
        </enum-item>
        <enum-item name="BLOCKS" comment="Blocks of any kind.">
            <item-attr name="caption" value="blocks"/>
            <item-attr name="classname" value="item_blocksst"/>
        </enum-item>
        <enum-item name="ORE" comment="Metal ore, including coal.">
            <item-attr name="caption" value="ore"/>
            <item-attr name="classname" value="item_orest"/>
        </enum-item>
        <enum-item name="ROUGH" comment="Rough gemstones.">
            <item-attr name="caption" value="rough gem"/>
            <item-attr name="classname" value="item_roughst"/>
        </enum-item>
        <enum-item name="STONE" comment="Raw mined stone.">
            <item-attr name="caption" value="stone"/>
            <item-attr name="classname" value="item_stonest"/>
        </enum-item>
        <enum-item name="WOOD" comment="Wooden logs.">
            <item-attr name="caption" value="logs"/>
            <item-attr name="classname" value="item_woodst"/>
        </enum-item>
        <enum-item name="DOOR" comment="Doors.">
            <item-attr name="caption" value="door"/>
            <item-attr name="classname" value="item_doorst"/>
        </enum-item>
        <enum-item name="FLOODGATE" comment="Floodgates.">
            <item-attr name="caption" value="floodgate"/>
            <item-attr name="classname" value="item_floodgatest"/>
        </enum-item>
        <enum-item name="BED" comment="Beds.">
            <item-attr name="caption" value="bed"/>
            <item-attr name="classname" value="item_bedst"/>
        </enum-item>
        <enum-item name="CHAIR" comment="Chairs and thrones.">
            <item-attr name="caption" value="chair"/>
            <item-attr name="classname" value="item_chairst"/>
        </enum-item>
        <enum-item name="CHAIN" comment="Restraints.">
            <item-attr name="caption" value="chain"/>
            <item-attr name="classname" value="item_chainst"/>
        </enum-item>
        <enum-item name="FLASK" comment="Flasks.">
            <item-attr name="caption" value="flask"/>
            <item-attr name="classname" value="item_flaskst"/>
        </enum-item>
        <enum-item name="GOBLET" comment="Goblets.">
            <item-attr name="caption" value="goblet"/>
            <item-attr name="classname" value="item_gobletst"/>
        </enum-item>
        <enum-item name="INSTRUMENT" comment="Musical instruments.">
            <item-attr name="caption" value="instrument"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_instrumentst"/>
        </enum-item>
        <enum-item name="TOY" comment="Toys.">
            <item-attr name="caption" value="toy"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_toyst"/>
        </enum-item>
        <enum-item name="WINDOW" comment="Glass windows.">
            <item-attr name="caption" value="window"/>
            <item-attr name="classname" value="item_windowst"/>
        </enum-item>
        <enum-item name="CAGE" comment="Cages.">
            <item-attr name="caption" value="cage"/>
            <item-attr name="classname" value="item_cagest"/>
        </enum-item>
        <enum-item name="BARREL" comment="Barrels.">
            <item-attr name="caption" value="barrel"/>
            <item-attr name="classname" value="item_barrelst"/>
        </enum-item>
        <enum-item name="BUCKET" comment="Buckets.">
            <item-attr name="caption" value="bucket"/>
            <item-attr name="classname" value="item_bucketst"/>
        </enum-item>
        <enum-item name="ANIMALTRAP" comment="Animal traps.">
            <item-attr name="caption" value="animal trap"/>
            <item-attr name="classname" value="item_animaltrapst"/>
        </enum-item>
        <enum-item name="TABLE" comment="Tables.">
            <item-attr name="caption" value="table"/>
            <item-attr name="classname" value="item_tablest"/>
        </enum-item>
        <enum-item name="COFFIN" comment="Coffins.">
            <item-attr name="caption" value="coffin"/>
            <item-attr name="classname" value="item_coffinst"/>
        </enum-item>
        <enum-item name="STATUE" comment="Statues.">
            <item-attr name="caption" value="statue"/>
            <item-attr name="classname" value="item_statuest"/>
        </enum-item>
        <enum-item name="CORPSE" comment="Corpses. Does not have a material.">
            <item-attr name="caption" value="corpse"/>
            <item-attr name="classname" value="item_corpsest"/>
        </enum-item>
        <enum-item name="WEAPON" comment="Weapons.">
            <item-attr name="caption" value="weapon"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_weaponst"/>
        </enum-item>
        <enum-item name="ARMOR" comment="Armor and clothing worn on the upper body.">
            <item-attr name="caption" value="armor"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_armorst"/>
        </enum-item>
        <enum-item name="SHOES" comment="Armor and clothing worn on the feet.">
            <item-attr name="caption" value="footwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_shoesst"/>
        </enum-item>
        <enum-item name="SHIELD" comment="Shields and bucklers.">
            <item-attr name="caption" value="shield"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_shieldst"/>
        </enum-item>
        <enum-item name="HELM" comment="Armor and clothing worn on the head.">
            <item-attr name="caption" value="headwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_helmst"/>
        </enum-item>
        <enum-item name="GLOVES" comment="Armor and clothing worn on the hands.">
            <item-attr name="caption" value="handwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_glovesst"/>
        </enum-item>
        <enum-item name="BOX" comment="Chests (wood), coffers (stone), boxes (glass), and bags (cloth or leather).">
            <item-attr name="caption" value="box/bag"/>
            <item-attr name="classname" value="item_boxst"/>
        </enum-item>
        <enum-item name="BIN" comment="Bins.">
            <item-attr name="caption" value="bin"/>
            <item-attr name="classname" value="item_binst"/>
        </enum-item>
        <enum-item name="SAND" comment="Sand.">
            <item-attr name="caption" value="sand"/>
            <item-attr name="classname" value="item_sandst"/>
        </enum-item>
        <enum-item name="ARMORSTAND" comment="Armor stands.">
            <item-attr name="caption" value="armor stand"/>
            <item-attr name="classname" value="item_armorstandst"/>
        </enum-item>
        <enum-item name="WEAPONRACK" comment="Weapon racks.">
            <item-attr name="caption" value="weapon rack"/>
            <item-attr name="classname" value="item_weaponrackst"/>
        </enum-item>
        <enum-item name="CABINET" comment="Cabinets.">
            <item-attr name="caption" value="cabinet"/>
            <item-attr name="classname" value="item_cabinetst"/>
        </enum-item>
        <enum-item name="FIGURINE" comment="Figurines.">
            <item-attr name="caption" value="figurine"/>
            <item-attr name="classname" value="item_figurinest"/>
        </enum-item>
        <enum-item name="AMULET" comment="Amulets.">
            <item-attr name="caption" value="amulet"/>
            <item-attr name="classname" value="item_amuletst"/>
        </enum-item>
        <enum-item name="SCEPTER" comment="Scepters.">
            <item-attr name="caption" value="scepter"/>
            <item-attr name="classname" value="item_scepterst"/>
        </enum-item>
        <enum-item name="AMMO" comment="Ammunition for hand-held weapons.">
            <item-attr name="caption" value="ammo"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_ammost"/>
        </enum-item>
        <enum-item name="CROWN" comment="Crowns.">
            <item-attr name="caption" value="crown"/>
            <item-attr name="classname" value="item_crownst"/>
        </enum-item>
        <enum-item name="RING" comment="Rings.">
            <item-attr name="caption" value="ring"/>
            <item-attr name="classname" value="item_ringst"/>
        </enum-item>
        <enum-item name="EARRING" comment="Earrings.">
            <item-attr name="caption" value="earring"/>
            <item-attr name="classname" value="item_earringst"/>
        </enum-item>
        <enum-item name="BRACELET" comment="Bracelets.">
            <item-attr name="caption" value="bracelet"/>
            <item-attr name="classname" value="item_braceletst"/>
        </enum-item>
        <enum-item name="GEM" comment="Large gems.">
            <item-attr name="caption" value="large gem"/>
            <item-attr name="classname" value="item_gemst"/>
        </enum-item>
        <enum-item name="ANVIL" comment="Anvils.">
            <item-attr name="caption" value="anvil"/>
            <item-attr name="classname" value="item_anvilst"/>
        </enum-item>
        <enum-item name="CORPSEPIECE" comment="Body parts. Does not have a material.">
            <item-attr name="caption" value="body part"/>
            <item-attr name="classname" value="item_corpsepiecest"/>
        </enum-item>
        <enum-item name="REMAINS" comment="Dead vermin bodies. Material is CREATURE_ID.">
            <item-attr name="caption" value="remains"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_remainsst"/>
        </enum-item>
        <enum-item name="MEAT" comment="Butchered meat.">
            <item-attr name="caption" value="meat"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_meatst"/>
        </enum-item>
        <enum-item name="FISH" comment="Prepared fish. Material is CREATURE_ID.">
            <item-attr name="caption" value="fish"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_fishst"/>
        </enum-item>
        <enum-item name="FISH_RAW" comment="Unprepared fish. Material is CREATURE_ID.">
            <item-attr name="caption" value="raw fish"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_fish_rawst"/>
        </enum-item>
        <enum-item name="VERMIN" comment="Live vermin. Material is CREATURE_ID.">
            <item-attr name="caption" value="vermin"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_verminst"/>
        </enum-item>
        <enum-item name="PET" comment="Tame vermin. Material is CREATURE_ID.">
            <item-attr name="caption" value="tame vermin"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_petst"/>
        </enum-item>
        <enum-item name="SEEDS" comment="Seeds from plants.">
            <item-attr name="caption" value="seeds"/>
            <item-attr name="is_plant_mat" value="true"/>
            <item-attr name="classname" value="item_seedsst"/>
        </enum-item>
        <enum-item name="PLANT" comment="Plants.">
            <item-attr name="caption" value="plant"/>
            <item-attr name="is_plant_mat" value="true"/>
            <item-attr name="classname" value="item_plantst"/>
        </enum-item>
        <enum-item name="SKIN_RAW" comment="Raw skins.">
            <item-attr name="caption" value="leather"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_skin_rawst"/>
        </enum-item>
        <enum-item name="SKIN_TANNED" comment="Tanned skins.">
            <item-attr name="caption" value="leather"/>
            <item-attr name="classname" value="item_skin_tannedst"/>
        </enum-item>
        <enum-item name="BONES" comment="Bones.">
            <item-attr name="caption" value="bones"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_bonesst"/>
        </enum-item>
        <enum-item name="SHELL" comment="Shells.">
            <item-attr name="caption" value="shell"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_shellst"/>
        </enum-item>
        <enum-item name="LEAVES" comment="Leaves, usually from quarry bushes.">
            <item-attr name="caption" value="leaves"/>
            <item-attr name="is_plant_mat" value="true"/>
            <item-attr name="classname" value="item_leavesst"/>
        </enum-item>
        <enum-item name="THREAD" comment="Thread gathered from webs or made at the farmers workshop.">
            <item-attr name="caption" value="thread"/>
            <item-attr name="classname" value="item_threadst"/>
        </enum-item>
        <enum-item name="CLOTH" comment="Cloth made at the loom.">
            <item-attr name="caption" value="cloth"/>
            <item-attr name="classname" value="item_clothst"/>
        </enum-item>
        <enum-item name="TOTEM" comment="Skull totems.">
            <item-attr name="caption" value="totem"/>
            <item-attr name="classname" value="item_totemst"/>
        </enum-item>
        <enum-item name="SKULL" comment="Skulls.">
            <item-attr name="caption" value="skull"/>
            <item-attr name="is_creature_mat" value="true"/>
            <item-attr name="classname" value="item_skullst"/>
        </enum-item>
        <enum-item name="SHIRT" comment="Shirts. Obsoleted in version 0.22.107.21a.">
            <item-attr name="caption" value="shirt"/>
        </enum-item>
        <enum-item name="PANTS" comment="Armor and clothing worn on the legs.">
            <item-attr name="caption" value="legwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_pantsst"/>
        </enum-item>
        <enum-item name="CLOAK" comment="Cloaks. Obsoleted in version 0.22.107.21a.">
            <item-attr name="caption" value="cloak"/>
        </enum-item>
        <enum-item name="BACKPACK" comment="Backpacks.">
            <item-attr name="caption" value="backpack"/>
            <item-attr name="classname" value="item_backpackst"/>
        </enum-item>
        <enum-item name="QUIVER" comment="Quivers.">
            <item-attr name="caption" value="quiver"/>
            <item-attr name="classname" value="item_quiverst"/>
        </enum-item>
        <enum-item name="CATAPULTPARTS" comment="Catapult parts.">
            <item-attr name="caption" value="catapult part"/>
            <item-attr name="classname" value="item_catapultpartsst"/>
        </enum-item>
        <enum-item name="BALLISTAPARTS" comment="Ballista parts.">
            <item-attr name="caption" value="ballista part"/>
            <item-attr name="classname" value="item_ballistapartsst"/>
        </enum-item>
        <enum-item name="SIEGEAMMO" comment="Siege engine ammunition.">
            <item-attr name="caption" value="siege ammo"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_siegeammost"/>
        </enum-item>
        <enum-item name="BALLISTAARROWHEAD" comment="Ballista arrow heads.">
            <item-attr name="caption" value="ballista arrow head"/>
            <item-attr name="classname" value="item_ballistaarrowheadst"/>
        </enum-item>
        <enum-item name="TRAPPARTS" comment="Mechanisms.">
            <item-attr name="caption" value="mechanism"/>
            <item-attr name="classname" value="item_trappartsst"/>
        </enum-item>
        <enum-item name="TRAPCOMP" comment="Trap components.">
            <item-attr name="caption" value="trap component"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_trapcompst"/>
        </enum-item>
        <enum-item name="EXTRACT" comment="Plant/creature extract.">
            <item-attr name="caption" value="extract"/>
            <item-attr name="classname" value="item_extractst"/>
        </enum-item>
        <enum-item name="POTION" comment="Potions.">
            <item-attr name="caption" value="potion"/>
            <item-attr name="classname" value="item_potionst"/>
        </enum-item>
        <enum-item name="DRINK" comment="Alcoholic drinks.">
            <item-attr name="caption" value="drink"/>
            <item-attr name="classname" value="item_drinkst"/>
        </enum-item>
        <enum-item name="POWDER_ORGANIC" comment="Powders such as flour, sugar, or dye.">
            <item-attr name="caption" value="powder"/>
            <item-attr name="classname" value="item_powder_organicst"/>
        </enum-item>
        <enum-item name="CHEESE" comment="Pieces of cheese.">
            <item-attr name="caption" value="cheese"/>
            <item-attr name="classname" value="item_cheesest"/>
        </enum-item>
        <enum-item name="FOOD" comment="Prepared meals. Subtypes come from item_food.txt">
            <item-attr name="caption" value="prepared meal"/>
            <item-attr name="classname" value="item_foodst"/>
        </enum-item>
        <enum-item name="LIQUID_MISC" comment="Liquids such as water, lye, and extracts.">
            <item-attr name="caption" value="liquid"/>
            <item-attr name="classname" value="item_liquid_miscst"/>
        </enum-item>
        <enum-item name="COIN" comment="Coins.">
            <item-attr name="caption" value="coin"/>
            <item-attr name="classname" value="item_coinst"/>
        </enum-item>
        <enum-item name="GLOB" comment="Fat, tallow, pastes/pressed objects, and small bits of molten rock/metal.">
            <item-attr name="caption" value="glob"/>
            <item-attr name="classname" value="item_globst"/>
        </enum-item>
        <enum-item name="ROCK" comment="Small rocks (usually thrown in adventurer mode)">
            <item-attr name="caption" value="small rock"/>
            <item-attr name="classname" value="item_rockst"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef" original-name="itemdefst">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">$.id</code-helper>

        <virtual-methods>
            <vmethod ld:level="1" name="parseRaws">
                <ld:field ld:level="2" ld:meta="pointer" type-name="static-string" name="raw" ld:is-container="true"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="token_name" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="token_len" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="finalize" comment="add to world.raws.itemdefs.*, set subtype ID"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="damage_type">
        <enum-item name="BLUDGEON"/>
        <enum-item name="SLASH"/>
        <enum-item name="GORE"/>
        <enum-item name="PIERCE"/>
        <enum-item name="BURN"/>
        <enum-item name="HEAT"/>
        <enum-item name="COLD"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_ammost" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.ammo">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="damage" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="damage_type" type-name="damage_type" ld:level="1" ld:meta="global"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="stick_chance" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="armor_general_flags">
        <enum-item name="SOFT"/>
        <enum-item name="HARD"/>
        <enum-item name="METAL"/>
        <enum-item name="BARRED"/>
        <enum-item name="SCALED"/>
        <enum-item name="LEATHER"/>
        <enum-item name="SHAPED"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="armor_properties">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="armor_general_flags" ld:is-container="true"/>
        <ld:field name="layer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer_size" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="layer_permit" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="coverage" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="armor_flags">
        <enum-item/>
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_armorst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.armor">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_preplural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="material_placeholder" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="ubstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="lbstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mainblock" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="secondblock" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="armor_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_foodst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.food">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="level" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="gloves_flags">
        <enum-item/>
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_glovesst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.gloves">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockpower" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="gloves_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="helm_flags">
        <enum-item/>
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_helmst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.helms">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockpower" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="helm_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="instrument_flags">
        <enum-item name="HARD_MAT"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_instrumentst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.instruments">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="instrument_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="pants_flags">
        <enum-item name="CHAIN_METAL"/>
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_pantsst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.pants">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_preplural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="material_placeholder" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockpower" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="pants_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="lbstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_shieldst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.shields">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockchance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockpower" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="shoes_flags">
        <enum-item/>
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_shoesst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.shoes">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockpower" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="shoes_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_siegeammost" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.siegeammo">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="toy_flags">
        <enum-item name="HARD_MAT"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_toyst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.toys">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="toy_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_trapcompst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.trapcomps">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="damage" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="damage_type" type-name="damage_type" ld:level="1" ld:meta="global"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hits" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="crit_boost" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="stick_chance" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="weapon_flags">
        <enum-item name="CAN_STONE"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_weaponst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.weapons">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="damage" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="damage_type" type-name="damage_type" ld:level="1" ld:meta="global"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_melee" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_ranged" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ranged_ammo" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="crit_boost" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="two_handed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="minimum_size" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="weapon_flags" ld:is-container="true"/>
        <ld:field name="stick_chance" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="items_other_id">
        <enum-attr name="item" type-name="item_type" default-value="NONE"/>
        <enum-attr name="generic_item" type-name="item_type" is-list="true"/>

        <enum-item name="ANY" value="-1"/>

        -- 0

        <enum-item name="IN_PLAY"/>
        <enum-item name="ANY_ARTIFACT"/>
        <enum-item name="WEAPON">
            <item-attr name="item" value="WEAPON"/>
        </enum-item>
        <enum-item name="ANY_WEAPON">
            <item-attr name="generic_item" value="WEAPON"/>
            <item-attr name="generic_item" value="TRAPCOMP"/>
        </enum-item>
        <enum-item name="ANY_TRUE_ARMOR">
            <item-attr name="generic_item" value="ARMOR"/>
        </enum-item>

        <enum-item name="ANY_ARMOR_HELM">
            <item-attr name="generic_item" value="HELM"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_SHOES">
            <item-attr name="generic_item" value="SHOES"/>
        </enum-item>
        <enum-item name="SHIELD">
            <item-attr name="item" value="SHIELD"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_GLOVES">
            <item-attr name="generic_item" value="GLOVES"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_PANTS">
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>

        -- 10

        <enum-item name="QUIVER">
            <item-attr name="item" value="QUIVER"/>
        </enum-item>
        <enum-item name="BACKPACK">
            <item-attr name="item" value="BACKPACK"/>
        </enum-item>
        <enum-item name="AMMO">
            <item-attr name="item" value="AMMO"/>
        </enum-item>
        <enum-item name="WOOD">
            <item-attr name="item" value="WOOD"/>
        </enum-item>
        <enum-item name="STONE">
            <item-attr name="item" value="STONE"/>
            <item-attr name="item" value="ORE"/>
        </enum-item>

        <enum-item name="ROCK">
            <item-attr name="item" value="ROCK"/>
        </enum-item>
        <enum-item name="ANY_REFUSE">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="REMAINS"/>
            <item-attr name="generic_item" value="SKIN_RAW"/>
            <item-attr name="generic_item" value="BONES"/>
            <item-attr name="generic_item" value="SHELL"/>
            <item-attr name="generic_item" value="SKULL"/>
            <item-attr name="generic_item" value="PANTS"/>
            rotten:
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>
        <enum-item name="ANY_GOOD_FOOD">
            <item-attr name="generic_item" value="BOX"/>
            not rotten:
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
        </enum-item>
        <enum-item name="ANY_AUTO_CLEAN">
            generates "Clean" jobs if on floor
            <item-attr name="generic_item" value="SAND"/>
            <item-attr name="generic_item" value="EXTRACT"/>
            <item-attr name="generic_item" value="POTION"/>
            <item-attr name="generic_item" value="DRINK"/>
            <item-attr name="generic_item" value="POWDER_ORGANIC"/>
            <item-attr name="generic_item" value="LIQUID_MISC"/>
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>
        <enum-item name="ANY_GENERIC19">
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="PLANT"/>
        </enum-item>

        -- 20

        <enum-item name="ANY_GENERIC20">
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="EXTRACT"/>
            <item-attr name="generic_item" value="POTION"/>
        </enum-item>
        <enum-item name="ANY_BUTCHERABLE">
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="VERMIN"/>
        </enum-item>
        <enum-item name="ANY_FURNITURE"/>
        <enum-item name="ANY_ANIMAL"/>
        <enum-item name="ANY_EDIBLE_RAW"/>

        <enum-item name="ANY_EDIBLE_CARNIVORE"/>
        <enum-item name="ANY_EDIBLE_BONECARN"/>
        <enum-item name="ANY_EDIBLE_VERMIN"/>
        <enum-item name="ANY_FOOD_CONTAINER">
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="BOX"/>
        </enum-item>
        <enum-item name="ANY_CAN_ROT">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>

        -- 30

        <enum-item name="ANY_MURDERED">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="REMAINS"/>
            <item-attr name="generic_item" value="SKIN_RAW"/>
            <item-attr name="generic_item" value="BONES"/>
            <item-attr name="generic_item" value="SHELL"/>
        </enum-item>
        <enum-item name="ANY_DEAD_DWARF"/>
        <enum-item name="ANY_GENERIC32">
            <item-attr name="generic_item" value="BAR"/>
            <item-attr name="generic_item" value="SMALLGEM"/>
            <item-attr name="generic_item" value="BLOCKS"/>
            <item-attr name="generic_item" value="ROUGH"/>
            <item-attr name="generic_item" value="CHAIN"/>
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="GOBLET"/>
            <item-attr name="generic_item" value="INSTRUMENT"/>
            <item-attr name="generic_item" value="TOY"/>
            <item-attr name="generic_item" value="FIGURINE"/>
            <item-attr name="generic_item" value="AMULET"/>
            <item-attr name="generic_item" value="SCEPTER"/>
            <item-attr name="generic_item" value="AMMO"/>
            <item-attr name="generic_item" value="CROWN"/>
            <item-attr name="generic_item" value="RING"/>
            <item-attr name="generic_item" value="EARRING"/>
            <item-attr name="generic_item" value="BRACELET"/>
            <item-attr name="generic_item" value="GEM"/>
            <item-attr name="generic_item" value="SKIN_TANNED"/>
            <item-attr name="generic_item" value="THREAD"/>
            <item-attr name="generic_item" value="CLOTH"/>
            <item-attr name="generic_item" value="TOTEM"/>
            <item-attr name="generic_item" value="BACKPACK"/>
            <item-attr name="generic_item" value="QUIVER"/>
            <item-attr name="generic_item" value="BALLISTAARROWHEAD"/>
            <item-attr name="generic_item" value="COIN"/>
        </enum-item>
        <enum-item name="ANY_GENERIC33">
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>
        <enum-item name="ANY_GENERIC34">
            <item-attr name="generic_item" value="WEAPON"/>
            <item-attr name="generic_item" value="TRAPCOMP"/>
            <item-attr name="generic_item" value="SIEGEAMMO"/>
        </enum-item>

        <enum-item name="ANY_GENERIC35">
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="SHIELD"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>
        <enum-item name="DOOR">
            <item-attr name="item" value="DOOR"/>
        </enum-item>
        <enum-item name="FLOODGATE">
            <item-attr name="item" value="FLOODGATE"/>
        </enum-item>
        <enum-item name="CAGE">
            <item-attr name="item" value="CAGE"/>
        </enum-item>
        <enum-item name="FLASK">
            <item-attr name="item" value="FLASK"/>
        </enum-item>

        -- 40

        <enum-item name="WINDOW">
            <item-attr name="item" value="WINDOW"/>
        </enum-item>
        <enum-item name="GOBLET">
            <item-attr name="item" value="GOBLET"/>
        </enum-item>
        <enum-item name="INSTRUMENT">
            <item-attr name="item" value="INSTRUMENT"/>
        </enum-item>
        <enum-item name="TOY">
            <item-attr name="item" value="TOY"/>
        </enum-item>
        <enum-item name="BUCKET">
            <item-attr name="item" value="BUCKET"/>
        </enum-item>

        <enum-item name="BARREL">
            <item-attr name="item" value="BARREL"/>
        </enum-item>
        <enum-item name="CHAIN">
            <item-attr name="item" value="CHAIN"/>
        </enum-item>
        <enum-item name="ANIMALTRAP">
            <item-attr name="item" value="ANIMALTRAP"/>
        </enum-item>
        <enum-item name="BED">
            <item-attr name="item" value="BED"/>
        </enum-item>
        <enum-item name="CHAIR">
            <item-attr name="item" value="CHAIR"/>
        </enum-item>

        -- 50

        <enum-item name="COFFIN">
            <item-attr name="item" value="COFFIN"/>
        </enum-item>
        <enum-item name="TABLE">
            <item-attr name="item" value="TABLE"/>
        </enum-item>
        <enum-item name="STATUE">
            <item-attr name="item" value="STATUE"/>
        </enum-item>
        <enum-item name="BOX">
            <item-attr name="item" value="BOX"/>
        </enum-item>
        <enum-item name="BIN">
            <item-attr name="item" value="BIN"/>
        </enum-item>

        <enum-item name="SAND">
            <item-attr name="item" value="SAND"/>
        </enum-item>
        <enum-item name="ARMORSTAND">
            <item-attr name="item" value="ARMORSTAND"/>
        </enum-item>
        <enum-item name="WEAPONRACK">
            <item-attr name="item" value="WEAPONRACK"/>
        </enum-item>
        <enum-item name="CABINET">
            <item-attr name="item" value="CABINET"/>
        </enum-item>
        <enum-item name="ANVIL">
            <item-attr name="item" value="ANVIL"/>
        </enum-item>

        -- 60

        <enum-item name="CATAPULTPARTS">
            <item-attr name="item" value="CATAPULTPARTS"/>
        </enum-item>
        <enum-item name="BALLISTAPARTS">
            <item-attr name="item" value="BALLISTAPARTS"/>
        </enum-item>
        <enum-item name="SIEGEAMMO">
            <item-attr name="item" value="SIEGEAMMO"/>
        </enum-item>
        <enum-item name="TRAPPARTS">
            <item-attr name="item" value="TRAPPARTS"/>
        </enum-item>
        <enum-item name="ANY_WEBS">
            <item-attr name="generic_item" value="THREAD"/>
        </enum-item>

        <enum-item name="ANY_ENCASED"/>
        <enum-item name="ANY_ITEM_FLAG_400"/>
        <enum-item name="DRINK">
            <item-attr name="item" value="DRINK"/>
        </enum-item>
        <enum-item name="ANY_DRINK">
            <item-attr name="generic_item" value="DRINK"/>
        </enum-item>
        <enum-item name="LIQUID_MISC">
            <item-attr name="item" value="LIQUID_MISC"/>
        </enum-item>

        -- 70

        <enum-item name="EXTRACT">
            <item-attr name="item" value="EXTRACT"/>
        </enum-item>
        <enum-item name="POTION">
            <item-attr name="item" value="POTION"/>
        </enum-item>
        <enum-item name="POWDER_ORGANIC">
            <item-attr name="item" value="POWDER_ORGANIC"/>
        </enum-item>
        <enum-item name="ANY_COOKABLE">
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="BUCKET"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="BOX"/>
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="EXTRACT"/>
            <item-attr name="generic_item" value="DRINK"/>
            <item-attr name="generic_item" value="POWDER_ORGANIC"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>
        <enum-item name="ANY_GENERIC74">
            <item-attr name="generic_item" value="BOX"/>
        </enum-item>

        <enum-item name="VERMIN">
            <item-attr name="generic_item" value="VERMIN"/>
        </enum-item>
        <enum-item name="PET">
            <item-attr name="generic_item" value="PET"/>
        </enum-item>
        <enum-item name="ANY_CRITTER">
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="PET"/>
        </enum-item>
        <enum-item name="COIN">
            <item-attr name="item" value="COIN"/>
        </enum-item>
        <enum-item name="GLOB">
            <item-attr name="item" value="GLOB"/>
        </enum-item>

        -- 80

        <enum-item name="ANY_UNKNOWN_80"/>
        <enum-item name="ANY_MELT"/>

        <enum-item name="BAD"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="improvement_type">
        <enum-item name="ART_IMAGE"/>
        <enum-item name="COVERED"/>
        <enum-item name="RINGS_HANGING"/>
        <enum-item name="BANDS"/>
        <enum-item name="SPIKES"/>
        <enum-item name="ITEMSPECIFIC"/>
        <enum-item name="THREAD"/>
        <enum-item name="CLOTH"/>
        <enum-item name="SEWN_IMAGE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dye_info">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement" original-name="itemimprovementst">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" name="getImage">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="itemimprovement" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemimprovement"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="improvement_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="improvement_type"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDecoration"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> false for thread/cloth
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getDyeValue">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_art_imagest" inherits-from="itemimprovement">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_coveredst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_rings_hangingst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_bandsst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_spikesst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_itemspecificst" inherits-from="itemimprovement">
        <ld:field name="type" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_threadst" inherits-from="itemimprovement">
        <ld:field name="dye" type-name="dye_info" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_clothst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_sewn_imagest" inherits-from="itemimprovement">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="cloth" ld:level="1" ld:meta="compound" ld:typedef-name="T_cloth">
            <ld:field name="unit_id" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="quality" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        </ld:field>
        <ld:field name="dye" type-name="dye_info" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="engraving_flags" base-type="uint32_t">
        <ld:field name="floor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="west" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="east" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="north" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="south" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="engraving" instance-vector="$global.world.engravings" key-field="pos">
        <ld:field name="artist" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="skill_rating" type-name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="global"/> GUESS
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="flags" type-name="engraving_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="art_id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_subid" ref-target="art_image" aux-value="$$.art_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="item_flags">
        <ld:field name="on_ground" comment="Item on ground" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_job" comment="Item currently being used in a job" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hostile" comment="Item owned by hostile" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_inventory" comment="Item in a creature or workshop inventory" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="removed" comment="completely invisible and with no position" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_building" comment="Part of a building (including mechanisms, bodies in coffins)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="container" comment="Set on anything that contains or contained items?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dead_dwarf" comment="Dwarfs dead body or body part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="rotten" comment="Rotten food" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="spider_web" comment="Thread in spider web" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="construction" comment="Material used in construction (???)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="encased" comment="Item encased in stone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="bound_artifact" comment="will not be dropped" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="murder" comment="Implies murder - used in fell moods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="foreign" comment="Item is imported" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="trader" comment="Item ownwed by trader" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="owned" comment="Item is owned by a dwarf" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="garbage_collect" comment="Marked for deallocation by DF it seems" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artifact" comment="Artifact" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="forbid" comment="Forbidden item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="already_uncategorized" comment="will not uncategorize() before deleting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dump" comment="Designated for chasming" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="on_fire" comment="Indicates if item is on fire, Will Set Item On Fire if Set!" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_quality" base-type="int16_t">
        <enum-item name="Ordinary"/>
        <enum-item name="WellCrafted"/>
        <enum-item name="FinelyCrafted"/>
        <enum-item name="Superior"/>
        <enum-item name="Exceptional"/>
        <enum-item name="Masterful"/>
        <enum-item name="Artifact"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="temperaturest">
        <ld:field name="whole" init-value="10050" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fraction" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_stockpile_ref">
        <ld:field name="id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_magicness_type" base-type="int16_t">
        <enum-item name="Sparkle"/>
        <enum-item name="AirWarped"/>
        <enum-item name="Whistle"/>
        <enum-item name="OddlySquare"/>
        <enum-item name="SmallBumps"/>
        <enum-item name="EarthSmell"/>
        <enum-item name="Lightning"/>
        <enum-item name="GrayHairs" comment="with value of 10 or higher, creatures that look at the item cannot think negative thoughts"/>
        <enum-item name="RustlingLeaves"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_magicness">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="item_magicness_type" ld:level="1" ld:meta="global"/>
        <ld:field name="value" comment="boosts item value by 50*this" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="flags" comment="1=does not show up in item description or alter item value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item" original-name="itemst" instance-vector="$global.world.items.all" key-field="id">
        <ld:field name="pos" type-name="coord32" ld:level="1" ld:meta="global"/>

        <ld:field name="flags" type-name="item_flags" ld:level="1" ld:meta="global"/>

        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="general_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item>
        </ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="item_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="item_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getSubtype"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="material_type" name="getMaterial"><ret-type ld:level="2" ld:meta="global" type-name="material_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getMatgloss"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setSubtype"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>

            <vmethod ld:level="1" name="setMaterial"> <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/> </vmethod>
            <vmethod ld:level="1" name="setMatgloss"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="material_type" name="getActualMaterial" comment="returns an actual material type, never a race"><ret-type ld:level="2" ld:meta="global" type-name="material_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getActualMatgloss" comment="returns an actual matgloss"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getRace" comment="only for creature-derived items"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            -- 10

            <vmethod ld:level="1" name="clearLastTempUpdateTS"/>
            <vmethod ld:level="1" ret-type="uint16_t" name="getSpecHeat"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getIgnitePoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getHeatdamPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getColddamPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" ret-type="uint16_t" name="getBoilingPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getMeltingPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getFixedTemp"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getTemperature"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="adjustTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="target" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </vmethod>

            -- 20

            <vmethod ld:level="1" name="extinguish"/>
            <vmethod ld:level="1" ret-type="int8_t" name="getGloveHandedness"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setGloveHandedness"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="pickRandomSubtype"> <ld:field name="entity_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="getWeaponSize" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="int16_t" name="getWear"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setWear"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMaker"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setMaker"> <ld:field name="unit_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getCorpseRace" comment="used for flying body parts to see if they leave blood"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            -- 30

            <vmethod ld:level="1" name="getCorpseInfo">
                <ld:field ld:level="2" ld:meta="pointer" name="race" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="histfig" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" type-name="historical_figure" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getGloveFlags">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="df-flagarray" ld:is-container="true"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="setSeedsPlantSkill"><ld:field name="level" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="ageItem"><ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getCritterAirdrownTimer"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" name="setCritterAirdrownTimer"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="incrementCritterAirdrownTimer"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getRotTimer"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setRotTimer"> <ld:field name="val" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="incrementRotTimer"/>

            -- 40

            <vmethod ld:level="1" name="getAmmoType">
                <ret-type ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ret-type>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getDamageType"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLiquipowder"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLiquid"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCritter1"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="int16_t" name="getStickChance"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="addImprovementFromJob">
                <ld:field ld:level="2" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="material" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="matgloss" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="site" type-name="world_site" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isWeapon"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isArmorNotClothing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canStoreInWeaponRack"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 50

            <vmethod ld:level="1" ret-type="bool" name="canStoreInArmorStand"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMillable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableThread"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableVial"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableBag"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isProcessableBarrel"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdible"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleRaw"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleCarnivore"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleBonecarn"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 60

            <vmethod ld:level="1" ret-type="bool" name="moveToGround">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isFat" comment="for globs only"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAnimal" comment="stored in Animal stockpiles"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="assignQuality">
                <ld:field ld:level="2" ld:meta="pointer" name="maker" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="notifyLostMasterwork"/>

            <vmethod ld:level="1" name="addMagic">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="data" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="value" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="magic_unk1">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="magic_unk2">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="magic_unk3">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="magic_unk4">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 70

            <vmethod ld:level="1" name="setDisplayColor">
                <ld:field name="bgcolor" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDamagedByHeat"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="needTwoHandedWield"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="splitStack">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ret-type>
                <ld:field name="stack_size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="preserve_containment" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isTameableVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isDistillable">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="checkKitchenSettings" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDye"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMilkable">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="check_contents" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="check_kitchen" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSandBearing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLyeBearing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 80

            <vmethod ld:level="1" ret-type="bool" name="isAnimalProduct"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getStorageInfo">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="material_category" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="addWear">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="delta" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="lose_masterwork" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="do_rot" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="addContaminant">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
                <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminantByIdx">
                <ld:field name="index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminantByType" comment="seemingly became item_actual.removeContaminant, which itself is never called">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
                <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" name="getClothingCategory" ret-type="int32_t" comment="0 for armor, 1 for pants, 2 for shoes, -1 for everything else"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isOnGround"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 90

            <vmethod ld:level="1" ret-type="bool" name="isSplittable" comment="if false, you throw the entire stack at once"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="addRandomDye"/>
            <vmethod ld:level="1" name="addImprovementFromClothOrDye"> <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="propagateUnitRefs"/> add to unit.owned_items/traded_items
            <vmethod ld:level="1" ret-type="bool" name="isBag" comment="BOX made of cloth"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getStackSize"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="addStackSize"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="setStackSize"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAmmoClass"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="setTemperatureFromMap">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>

            -- 100

            <vmethod ld:level="1" ret-type="bool" name="setTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateTemperatureFromMap">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="adjust" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="adjust" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateFromWeather"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateContaminants"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="checkTemperatureDamage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkHeatColdDamage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkMeltBoil"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMeleeSkill"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getRangedSkill"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 110

            <vmethod ld:level="1" name="setQuality"> <ld:field name="quality" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getQuality"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getOverallQuality"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getDamage"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isImprovable">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
                <ld:field name="material" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="matgloss" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isDyeable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isNotDyed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDyed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canSewImage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canAddSewnImage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 120

            <vmethod ld:level="1" ret-type="bool" name="isProcessableVialAtStill"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSimilarToItem">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="2" ld:meta="global"/>
                <ld:field name="item_subtype" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
                <ld:field name="matgloss" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getBlockChance"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getParryChance" comment="10 for weapon, 0 for everything else"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getMakerRace"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" name="setMakerRace"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="getEffectiveArmorLevel" comment="adds 1 if it has [METAL_ARMOR_LEVELS] and it's made of an inorganic mat"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isConstructed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canBeDyed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDyeableCloth"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 130

            <vmethod ld:level="1" ret-type="int32_t" name="getCritBoost"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="coverWithContaminant" comment="also stops fire; used for rain">
                <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="hasImprovements"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> any at all
            <vmethod ld:level="1" ret-type="bool" name="isImproved"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> not including dye or cloth modifiers
            <vmethod ld:level="1" name="getMagic">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="item_magicness" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="item_magicness"><ld:item ld:level="6" ld:meta="global" type-name="item_magicness"/></ld:item></ld:item></ret-type>
            </vmethod>

            <vmethod ld:level="1" name="getItemDescription">
                <ld:field ld:level="2" ld:meta="pointer" name="str" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="getItemDescriptionPrefix" comment="&quot;a &quot; or &quot;the &quot;">
                <ld:field ld:level="2" ld:meta="pointer" name="str" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getImprovementsValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isExtractBearingFish"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isExtractBearingVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 140

            <vmethod ld:level="1" ret-type="int32_t" name="getBaseWeight"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getWeightShiftBits"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCollected"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getVolume"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="int8_t" name="getTile"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRangedWeapon"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isClothing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isWet"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getCurrencyValue">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>
            </vmethod>

            -- 150

            <vmethod ld:level="1" ret-type="bool" name="isAssignedToAnyStockpile"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAssignedToThisStockpile"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="building" ref-target="building" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="removeFromStockpile"/>
            <vmethod ld:level="1" name="clearStockpileAssignment"/>
            <vmethod ld:level="1" name="getStockpile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item_stockpile_ref" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item_stockpile_ref"/></ret-type>
            </vmethod>

            <vmethod ld:level="1" name="addDye">
                <ld:field name="material" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="matgloss" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="addImage">
                <ld:field name="art_chunk_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="art_subid" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="material" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="matgloss" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="dye_material" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="dye_matgloss" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="2" ld:meta="pointer" name="src_item" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>
                <ld:field name="quality" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="skill_level" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="maker_hfid" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="addImprovementsFromItem">
                <ld:field ld:level="2" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getThreadDyeValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCritter2"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isArmorOrClothing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> armor, shoes, pants, gloves, helm
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_actual" inherits-from="item" original-name="item_actualst">
        <ld:field name="stack_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            (if (&gt; $.stack_size 1) (fmt "stack: ~A" $.stack_size))
            (if (&gt; $.wear 0) (fmt "wear: ~A" $.wear))
        </code-helper>

        <ld:field ld:level="1" ld:meta="pointer" name="magic" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="item_magicness" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item_magicness"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="contaminants" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="contaminant" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="contaminant"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>

        <ld:field name="wear" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="wear_timer" comment="counts up to 806400" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="temp_updated_frame" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" name="removeContaminant">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="material" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_crafted" inherits-from="item_actual" original-name="item_craftedst">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="maker_race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="skill_level" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_constructed" inherits-from="item_crafted" original-name="item_constructedst">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="improvements" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="itemimprovement" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="itemimprovement"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_critter" inherits-from="item_actual" original-name="item_critterst">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="milk_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="airdrown_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquipowder" inherits-from="item_actual" original-name="item_liquipowderst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquid" inherits-from="item_liquipowder" original-name="item_liquidst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_powder" inherits-from="item_liquipowder" original-name="item_powderst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_barst" inherits-from="item_actual">
        <ld:field name="subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_smallgemst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_blocksst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_orest" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_roughst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_stonest" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_woodst" inherits-from="item_actual">
        <ld:field name="matgloss" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_doorst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_floodgatest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bedst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_chairst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_chainst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_flaskst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_gobletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_instrumentst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_instrumentst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_instrumentst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_toyst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_toyst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_toyst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_windowst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cagest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_barrelst" inherits-from="item_constructed">
        <ld:field name="stockpile" type-name="item_stockpile_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bucketst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_animaltrapst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_tablest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_coffinst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_statuest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_corpsest" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="racegloss" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sex" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_weaponst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_weaponst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_weaponst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_armorst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_armorst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_armorst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_shoesst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_shoesst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_shoesst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_shieldst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_shieldst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_shieldst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_helmst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_helmst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_helmst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_glovesst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_glovesst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_glovesst"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" comment="1 right, 2 left" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_boxst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_binst" inherits-from="item_constructed">
        <ld:field name="stockpile" type-name="item_stockpile_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_sandst" inherits-from="item_powder"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_armorstandst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_weaponrackst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cabinetst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_figurinest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_amuletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_scepterst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ammost" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_ammost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_ammost"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_crownst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ringst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_earringst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_braceletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_gemst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_anvilst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_corpsepiecest" inherits-from="item_actual">
        <ld:field name="part_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="racegloss" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sex" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="is_generic" comment="set to 1 and it shows up as &quot;body part&quot; instead of by name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_remainsst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_meatst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_fishst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_fish_rawst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_verminst" inherits-from="item_critter"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_petst" inherits-from="item_critter"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_seedsst" inherits-from="item_actual">
        <ld:field name="plant" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="grow_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="planting_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_plantst" inherits-from="item_actual">
        <ld:field name="plant" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_skin_rawst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_skin_tannedst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bonesst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_shellst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_leavesst" inherits-from="item_actual">
        <ld:field name="plant" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_threadst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="dye_material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="dye_matgloss" refers-to="(matgloss-target $$._parent.dye_material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dye_maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dye_quality" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dye_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_clothst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_totemst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_skullst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_pantsst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_pantsst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_pantsst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_backpackst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_quiverst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_catapultpartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ballistapartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_siegeammost" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_siegeammost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_siegeammost"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ballistaarrowheadst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_trappartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_trapcompst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_trapcompst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_trapcompst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_extractst" inherits-from="item_liquid">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_potionst" inherits-from="item_liquid"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_drinkst" inherits-from="item_liquid">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_powder_organicst" inherits-from="item_powder">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cheesest" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_foodst" inherits-from="item_crafted">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_foodst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_foodst"/></ld:field>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="recipe_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ingredients" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_ingredients">
                <ld:field name="prep_type" comment="0 = minced, 1+ = cooked" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="3" ld:meta="global"/>
                <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="3" ld:meta="global"/>
                <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="maker" ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="quality" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="skill_level" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquid_miscst" inherits-from="item_liquid">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_coinst" inherits-from="item_constructed">
        <ld:field name="coin_batch" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_globst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_rockst" inherits-from="item_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_type_class" comment="not in DF">
        <enum-item name="Misc"/>
        <enum-item name="Digging"/>
        <enum-item name="Building"/>
        <enum-item name="Hauling"/>
        <enum-item name="LifeSupport"/>
        <enum-item name="TidyUp"/>
        <enum-item name="Leisure"/>
        <enum-item name="Gathering"/>
        <enum-item name="Manufacture"/>
        <enum-item name="Improvement"/>
        <enum-item name="Crime"/>
        <enum-item name="LawEnforcement"/>
        <enum-item name="StrangeMood"/>
        <enum-item name="UnitHandling"/>
        <enum-item name="SiegeWeapon"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_type" base-type="int16_t">
        -- Declare attributes:

        <enum-attr name="caption"/>
        <enum-attr name="type" type-name="job_type_class" default-value="Misc"/>
        <enum-attr name="labor" type-name="unit_labor" default-value="NONE"/>
        <enum-attr name="item" type-name="item_type" default-value="NONE"/>
        <enum-attr name="possible_item" type-name="item_type" is-list="true"/>
        <enum-attr name="material"/>
        <enum-attr name="skill" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_stone" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_wood" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_metal" type-name="job_skill" default-value="NONE"/>

        -- 0

        <enum-item name="CarveFortification">
            <item-attr name="caption" value="Carve Fortification"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="DetailWall">
            <item-attr name="caption" value="Detail Wall"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="DETAILSTONE"/>
        </enum-item>
        <enum-item name="DetailFloor">
            <item-attr name="caption" value="Detail Floor"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="DETAILSTONE"/>
        </enum-item>
        <enum-item name="Dig">
            <item-attr name="caption" value="Dig"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="FellTree">
            <item-attr name="caption" value="Fell Tree"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="WOODCUTTING"/>
            <item-attr name="item" value="WOOD"/>
        </enum-item>
        <enum-item name="GatherPlants">
            <item-attr name="caption" value="Gather Plants"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="HERBALISM"/>
            <item-attr name="item" value="PLANT"/>
        </enum-item>
        <enum-item name="CollectWebs">
            <item-attr name="caption" value="Collect Webs"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="WEAVING"/>
            <item-attr name="item" value="THREAD"/>
        </enum-item>
        <enum-item name="BringItemToDepot">
            <item-attr name="caption" value="Bring Item to Depot"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
        </enum-item>
        <enum-item name="BringItemToShop">
            <item-attr name="caption" value="Bring Item to Shop"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
        </enum-item>
        <enum-item name="Eat">
            <item-attr name="caption" value="Eat"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>

        -- 10

        <enum-item name="GetProvisions">
            <item-attr name="caption" value="Get Provisions"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Drink">
            <item-attr name="caption" value="Drink"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Drink2">
            <item-attr name="caption" value="Drink"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="FillWaterskin">
            <item-attr name="caption" value="Fill Waterskin"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Sleep">
            <item-attr name="caption" value="Sleep"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="CollectSand">
            <item-attr name="caption" value="Collect Sand"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
            <item-attr name="item" value="SAND"/>
            <item-attr name="material" value="sand"/>
        </enum-item>
        <enum-item name="Fish">
            <item-attr name="caption" value="Fish"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="FISH"/>
            <item-attr name="item" value="FISH_RAW"/>
        </enum-item>
        <enum-item name="Hunt">
            <item-attr name="caption" value="Hunt"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="SNEAK"/>
            <item-attr name="item" value="CORPSE"/>
        </enum-item>
        <enum-item name="HuntVermin">
            <item-attr name="caption" value="Hunt for Small Creature"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="TRAPPING"/>
            <item-attr name="item" value="REMAINS"/>
        </enum-item>
        <enum-item name="Kidnap">
            <item-attr name="caption" value="Kidnap"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>

        -- 20

        <enum-item name="BeatCriminal">
            <item-attr name="caption" value="Beat Criminal"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="StartingFistFight">
            <item-attr name="caption" value="Starting Fist Fight"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>
        <enum-item name="CollectTaxes">
            <item-attr name="caption" value="Collect Taxes"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="GuardTaxCollector">
            <item-attr name="caption" value="Guard Tax Collector"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="CatchLiveLandAnimal">
            <item-attr name="caption" value="Catch Live Land Animal"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="TRAPPING"/>
            <item-attr name="item" value="VERMIN"/>
        </enum-item>
        <enum-item name="CatchLiveFish">
            <item-attr name="caption" value="Catch Live Fish"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="FISH"/>
            <item-attr name="item" value="VERMIN"/>
        </enum-item>
        <enum-item name="ReturnKill">
            <item-attr name="caption" value="Return Kill"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="CheckChest">
            <item-attr name="caption" value="Check Chest"/>
            <item-attr name="type" value="TidyUp"/>
        </enum-item>
        <enum-item name="StoreOwnedItem">
            <item-attr name="caption" value="Store Owned Item"/>
            <item-attr name="type" value="TidyUp"/>
       </enum-item>
        <enum-item name="PlaceItemInTomb">
            <item-attr name="caption" value="Place Item in Tomb"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_BODY"/>
        </enum-item>

        -- 30

        <enum-item name="StoreItemInStockpile">
            <item-attr name="caption" value="Store Item in Stockpile"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBag">
            <item-attr name="caption" value="Store Item in Bag"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInChest">
            <item-attr name="caption" value="Store Item in Chest"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInCabinet">
            <item-attr name="caption" value="Store Item in Cabinet"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreWeapon">
            <item-attr name="caption" value="Store Weapon"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreArmor">
            <item-attr name="caption" value="Store Armor"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBarrel">
            <item-attr name="caption" value="Store Item in Barrel"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBin">
            <item-attr name="caption" value="Store Item in Bin"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="SeekArtifact">
            <item-attr name="caption" value="Seek Artifact"/>
        </enum-item>
        <enum-item name="SeekInfant">
            <item-attr name="caption" value="Seek Infant"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>

        -- 40

        <enum-item name="AttendParty">
            <item-attr name="caption" value="Attend Party"/>
            <item-attr name="type" value="Leisure"/>
        </enum-item>
        <enum-item name="ArcheryPractice">
            <item-attr name="caption" value="Shooting at Archery Range"/>
        </enum-item>
        <enum-item name="Sparring">
            <item-attr name="caption" value="Sparring in Barracks"/>
        </enum-item>
        <enum-item name="GoShopping">
            <item-attr name="caption" value="Go Shopping"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="GoShopping2">
            <item-attr name="caption" value="Go Shopping"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Clean">
            <item-attr name="caption" value="Clean"/>
            <item-attr name="type" value="TidyUp"/>
        </enum-item>
        <enum-item name="Rest">
            <item-attr name="caption" value="Rest"/>
            <item-attr name="type" value="Leisure"/>
        </enum-item>
        <enum-item name="PickupEquipment">
            <item-attr name="caption" value="Pickup Equipment"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="ChasmItem">
            <item-attr name="caption" value="Chasm Item"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_REFUSE"/>
        </enum-item>
        <enum-item name="StrangeMoodCrafter">
            <item-attr name="caption" value="Strange Mood (Crafter)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>

        -- 50

        <enum-item name="StrangeMoodJeweller">
            <item-attr name="caption" value="Strange Mood (Jeweller)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodForge">
            <item-attr name="caption" value="Strange Mood (Forge)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMagmaForge">
            <item-attr name="caption" value="Strange Mood (Magma Forge)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodBrooding">
            <item-attr name="caption" value="Strange Mood (Brooding)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodFell">
            <item-attr name="caption" value="Strange Mood (Fell)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodCarpenter">
            <item-attr name="caption" value="Strange Mood (Carpenter)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMason">
            <item-attr name="caption" value="Strange Mood (Mason)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodBowyer">
            <item-attr name="caption" value="Strange Mood (Bowyer)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodTanner">
            <item-attr name="caption" value="Strange Mood (Leather)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodWeaver">
            <item-attr name="caption" value="Strange Mood (Clothier)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>

        -- 60

        <enum-item name="StrangeMoodGlassmaker">
            <item-attr name="caption" value="Strange Mood (Glassmaker)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMechanics">
            <item-attr name="caption" value="Strange Mood (Mechanics)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="ConstructBuilding">
            <item-attr name="caption" value="Construct Building"/>
            <item-attr name="type" value="Building"/>
        </enum-item>
        <enum-item name="ConstructDoor">
            <item-attr name="caption" value="Construct Door"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="DOOR"/>
        </enum-item>
        <enum-item name="ConstructFloodgate">
            <item-attr name="caption" value="Construct Floodgate"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FLOODGATE"/>
        </enum-item>
        <enum-item name="ConstructBed">
            <item-attr name="caption" value="Construct Bed"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BED"/>
        </enum-item>
        <enum-item name="ConstructThrone">
            <item-attr name="caption" value="Construct Throne"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHAIR"/>
        </enum-item>
        <enum-item name="ConstructCoffin">
            <item-attr name="caption" value="Construct Coffin"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="COFFIN"/>
        </enum-item>
        <enum-item name="ConstructTable">
            <item-attr name="caption" value="Construct Table"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TABLE"/>
        </enum-item>
        <enum-item name="ConstructChest">
            <item-attr name="caption" value="Construct Chest"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BOX"/>
        </enum-item>

        -- 70

        <enum-item name="ConstructBin">
            <item-attr name="caption" value="Construct Bin"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BIN"/>
        </enum-item>
        <enum-item name="ConstructArmorStand">
            <item-attr name="caption" value="Construct Armor Stand"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ARMORSTAND"/>
        </enum-item>
        <enum-item name="ConstructWeaponRack">
            <item-attr name="caption" value="Construct Weapon Rack"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WEAPONRACK"/>
        </enum-item>
        <enum-item name="ConstructCabinet">
            <item-attr name="caption" value="Construct Cabinet"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CABINET"/>
        </enum-item>
        <enum-item name="ConstructStatue">
            <item-attr name="caption" value="Construct Statue"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="STATUE"/>
        </enum-item>
        <enum-item name="ConstructBlocks">
            <item-attr name="caption" value="Construct Blocks"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BLOCKS"/>
        </enum-item>
        <enum-item name="MakeRawGlass">
            <item-attr name="caption" value="Make Raw Glass"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ROUGH"/>
            <item-attr name="skill" value="GLASSMAKER"/>
        </enum-item>
        <enum-item name="MakeCrafts">
            <item-attr name="caption" value="Make Crafts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
            <item-attr name="possible_item" value="FIGURINE"/>
            <item-attr name="possible_item" value="RING"/>
            <item-attr name="possible_item" value="EARRING"/>
            <item-attr name="possible_item" value="CROWN"/>
            <item-attr name="possible_item" value="BRACELET"/>
            <item-attr name="possible_item" value="SCEPTER"/>
        </enum-item>
        <enum-item name="MintCoins">
            <item-attr name="caption" value="Mint Coins"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="COIN"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="CutGems">
            <item-attr name="caption" value="Cut Gems"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SMALLGEM"/>
            <item-attr name="skill" value="CUTGEM"/>
        </enum-item>

        -- 80

        <enum-item name="CutGlass">
            <item-attr name="caption" value="Cut Glass"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SMALLGEM"/>
            <item-attr name="skill" value="CUTGEM"/>
        </enum-item>
        <enum-item name="EncrustWithGems">
            <item-attr name="caption" value="Encrust With Gems"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="ENCRUSTGEM"/>
        </enum-item>
        <enum-item name="EncrustWithGlass">
            <item-attr name="caption" value="Encrust With Glass"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="ENCRUSTGEM"/>
        </enum-item>
        <enum-item name="DestroyBuilding">
            <item-attr name="caption" value="Destroy Building"/>
            <item-attr name="type" value="Building"/>
        </enum-item>
        <enum-item name="MakeBars">
            <item-attr name="caption" value="Make Metal Bars"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="skill" value="SMELT"/>
        </enum-item>
        <enum-item name="MeltMetalObject">
            <item-attr name="caption" value="Melt a Metal Object"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="skill" value="SMELT"/>
        </enum-item>
        <enum-item name="ExtractStrands">
            <item-attr name="caption" value="Extract Adamantine Strands"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="THREAD"/>
            <item-attr name="skill" value="EXTRACT_ADAMANTINE"/>
        </enum-item>
        <enum-item name="TanAHide">
            <item-attr name="caption" value="Tan A Hide"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="TANNER"/>
            <item-attr name="possible_item" value="SKIN_TANNED"/>
        </enum-item>
        <enum-item name="PlantSeeds">
            <item-attr name="caption" value="Plant Seeds"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="PLANT"/>
        </enum-item>
        <enum-item name="HarvestPlants">
            <item-attr name="caption" value="Harvest Plants"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="PLANT"/>
            <item-attr name="item" value="PLANT"/>
        </enum-item>

        -- 90

        <enum-item name="TrainHuntingAnimal">
            <item-attr name="caption" value="Train Hunting Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="TrainWarAnimal">
            <item-attr name="caption" value="Train War Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="MakeWeapon">
            <item-attr name="caption" value="Forge Weapon"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WEAPON"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="ForgeAnvil">
            <item-attr name="caption" value="Forge Anvil"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ANVIL"/>
        </enum-item>
        <enum-item name="ConstructCatapultParts">
            <item-attr name="caption" value="Construct Catapult Parts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CATAPULTPARTS"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="ConstructBallistaParts">
            <item-attr name="caption" value="Construct Ballista Parts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BALLISTAPARTS"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="MakeArmor">
            <item-attr name="caption" value="Make Armor"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ARMOR"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeHelm">
            <item-attr name="caption" value="Forge Helm"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="HELM"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakePants">
            <item-attr name="caption" value="Make Pants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="PANTS"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="StudWith">
            <item-attr name="caption" value="Stud With"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>

        -- 100

        <enum-item name="ButcherAnimal">
            <item-attr name="caption" value="Butcher an Animal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="BUTCHER"/>
            <item-attr name="possible_item" value="MEAT"/>
            <item-attr name="possible_item" value="CORPSEPIECE"/>
            <item-attr name="possible_item" value="GLOB"/>
        </enum-item>
        <enum-item name="PrepareRawFish">
            <item-attr name="caption" value="Prepare a Raw Fish"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FISH"/>
            <item-attr name="skill" value="PROCESSFISH"/>
        </enum-item>
        <enum-item name="MillPlants">
            <item-attr name="caption" value="Mill Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="POWDER_ORGANIC"/>
            <item-attr name="skill" value="MILLING"/>
        </enum-item>
        <enum-item name="BaitTrap">
            <item-attr name="caption" value="Bait Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="TRAPPING"/>
        </enum-item>
        <enum-item name="MilkCreature">
            <item-attr name="caption" value="Milk Creature"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="MILK"/>
        </enum-item>
        <enum-item name="MakeCheese">
            <item-attr name="caption" value="Make Cheese"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHEESE"/>
            <item-attr name="skill" value="CHEESEMAKING"/>
        </enum-item>
        <enum-item name="ProcessPlants">
            <item-attr name="caption" value="Process Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="THREAD"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsBag">
            <item-attr name="caption" value="Process Plants (Bag)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LEAVES"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsVial">
            <item-attr name="caption" value="Process Plants (Vial)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsBarrel">
            <item-attr name="caption" value="Process Plants (Barrel)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>

        -- 110

        <enum-item name="PrepareMeal">
            <item-attr name="caption" value="Prepare Meal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FOOD"/>
            <item-attr name="skill" value="COOK"/>
        </enum-item>
        <enum-item name="WeaveCloth">
            <item-attr name="caption" value="Weave Cloth"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CLOTH"/>
            <item-attr name="skill" value="WEAVING"/>
        </enum-item>
        <enum-item name="MakeGloves">
            <item-attr name="caption" value="Make Gloves"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="GLOVES"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeShoes">
            <item-attr name="caption" value="Make Shoes"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SHOES"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeShield">
            <item-attr name="caption" value="Make Shield"/>
            <item-attr name="item" value="SHIELD"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeShirt">
            <item-attr name="caption" value="Make Shirt (Obsolete)"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeCloak">
            <item-attr name="caption" value="Make Cloak (Obsolete)"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeCage">
            <item-attr name="caption" value="Make Cage"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CAGE"/>
        </enum-item>
        <enum-item name="MakeChain">
            <item-attr name="caption" value="Make Chain"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHAIN"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeFlask">
            <item-attr name="caption" value="Make Flask"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FLASK"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>

        -- 120

        <enum-item name="MakeGoblet">
            <item-attr name="caption" value="Make Goblet"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="GOBLET"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeInstrument">
            <item-attr name="caption" value="Make Instrument"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="INSTRUMENT"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeToy">
            <item-attr name="caption" value="Make Toy"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TOY"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeAnimalTrap">
            <item-attr name="caption" value="Make Animal Trap"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ANIMALTRAP"/>
            <item-attr name="skill" value="TRAPPING"/>
        </enum-item>
        <enum-item name="MakeBarrel">
            <item-attr name="caption" value="Make Barrel"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BARREL"/>
        </enum-item>
        <enum-item name="MakeBucket">
            <item-attr name="caption" value="Make Bucket"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BUCKET"/>
        </enum-item>
        <enum-item name="MakeWindow">
            <item-attr name="caption" value="Make Window"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WINDOW"/>
        </enum-item>
        <enum-item name="MakeTotem">
            <item-attr name="caption" value="Make Totem"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="BONECARVE"/>
            <item-attr name="item" value="TOTEM"/>
        </enum-item>
        <enum-item name="MakeAmmo">
            <item-attr name="caption" value="Make Ammo"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="AMMO"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="DecorateWith">
            <item-attr name="caption" value="Decorate With"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>

        -- 130

        <enum-item name="MakeBackpack">
            <item-attr name="caption" value="Make Backpack"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BACKPACK"/>
        </enum-item>
        <enum-item name="MakeQuiver">
            <item-attr name="caption" value="Make Quiver"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="QUIVER"/>
        </enum-item>
        <enum-item name="MakeBallistaArrowHead">
            <item-attr name="caption" value="Make Ballista Arrow Head"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BALLISTAARROWHEAD"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="AssembleSiegeAmmo">
            <item-attr name="caption" value="Assemble Siege Ammo"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SIEGEAMMO"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="LoadCatapult">
            <item-attr name="caption" value="Load Catapult"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="LoadBallista">
            <item-attr name="caption" value="Load Ballista"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="FireCatapult">
            <item-attr name="caption" value="Fire Catapult"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="FireBallista">
            <item-attr name="caption" value="Fire Ballista"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="ConstructMechanisms">
            <item-attr name="caption" value="Construct Mechanisms"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TRAPPARTS"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="MakeTrapComponent">
            <item-attr name="caption" value="MakeTrapComponent"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TRAPCOMP"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>

        -- 140

        <enum-item name="LoadCageTrap">
            <item-attr name="caption" value="Load Cage Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="LoadStoneTrap">
            <item-attr name="caption" value="Load Stone Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="LoadWeaponTrap">
            <item-attr name="caption" value="Load Weapon Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="CleanTrap">
            <item-attr name="caption" value="Clean Trap"/>
            <item-attr name="type" value="TidyUp"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="CastSpell">
            <item-attr name="caption" value="Cast Spell"/>
        </enum-item>
        <enum-item name="LinkBuildingToTrigger">
            <item-attr name="caption" value="Link a Building to Trigger"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="PullLever">
            <item-attr name="caption" value="Pull the Lever"/>
        </enum-item>
        <enum-item name="BrewDrink">
            <item-attr name="caption" value="Brew Drink"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="DRINK"/>
            <item-attr name="skill" value="BREWING"/>
        </enum-item>
        <enum-item/>
        <enum-item name="ExtractFromPlants">
            <item-attr name="caption" value="Extract from Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="possible_item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="BREWING"/>
        </enum-item>

        -- 150

        <enum-item name="ExtractFromRawFish">
            <item-attr name="caption" value="Extract from Raw Fish"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="possible_item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="DISSECT_FISH"/>
        </enum-item>
        <enum-item name="ExtractFromLandAnimal">
            <item-attr name="caption" value="Extract from Land Animal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="possible_item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="DISSECT_VERMIN"/>
        </enum-item>
        <enum-item name="TameVermin">
            <item-attr name="caption" value="Tame Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="TameAnimal">
            <item-attr name="caption" value="Tame ?something?"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="ChainAnimal">
            <item-attr name="caption" value="Chain Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="UnchainAnimal">
            <item-attr name="caption" value="Unchain Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="UnchainPet">
            <item-attr name="caption" value="Unchain Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="ReleaseLargeCreature">
            <item-attr name="caption" value="Release Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="ReleasePet">
            <item-attr name="caption" value="Release Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="ReleaseSmallCreature">
            <item-attr name="caption" value="Release Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>

        -- 160

        <enum-item name="HandleSmallCreature">
            <item-attr name="caption" value="Handle Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="HandleLargeCreature">
            <item-attr name="caption" value="Handle Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="CageLargeCreature">
            <item-attr name="caption" value="Cage Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="CageSmallCreature">
            <item-attr name="caption" value="Cage Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="RecoverWounded">
            <item-attr name="caption" value="Recover Wounded"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HEALTHCARE"/>
        </enum-item>
        <enum-item name="DrainAquarium">
            <item-attr name="caption" value="Drain Aquarium"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="FillAquarium">
            <item-attr name="caption" value="Fill Aquarium"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="DrainPond">
            <item-attr name="caption" value="Drain Pond"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="FillPond">
            <item-attr name="caption" value="Fill Pond"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="GiveWater">
            <item-attr name="caption" value="Give Water"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="HEALTHCARE"/>
        </enum-item>

        -- 170

        <enum-item name="GiveFood">
            <item-attr name="caption" value="Give Food"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="HEALTHCARE"/>
        </enum-item>
        <enum-item name="GiveWater2">
            <item-attr name="caption" value="Give Water"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="HEALTHCARE"/>
        </enum-item>
        <enum-item name="GiveFood2">
            <item-attr name="caption" value="Give Food"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="HEALTHCARE"/>
        </enum-item>
        <enum-item name="RecoverPet">
            <item-attr name="caption" value="Recover Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="UnpondSmallAnimal">
            <item-attr name="caption" value="Unpond Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="PondSmallAnimal">
            <item-attr name="caption" value="Pond Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="SlaughterAnimal">
            <item-attr name="caption" value="Slaughter Animal"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="BUTCHER"/>
            <item-attr name="possible_item" value="MEAT"/>
            <item-attr name="possible_item" value="CORPSEPIECE"/>
            <item-attr name="possible_item" value="GLOB"/>
        </enum-item>
        <enum-item name="MakeCharcoal">
            <item-attr name="caption" value="Make Charcoal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="COAL"/>
            <item-attr name="skill" value="WOOD_BURNING"/>
        </enum-item>
        <enum-item name="MakeAsh">
            <item-attr name="caption" value="Make Ash"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="ASH"/>
            <item-attr name="skill" value="WOOD_BURNING"/>
        </enum-item>
        <enum-item name="MakeLye">
            <item-attr name="caption" value="Make Lye"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="material" value="LYE"/>
            <item-attr name="skill" value="LYE_MAKING"/>
        </enum-item>

        -- 180

        <enum-item name="MakePotashFromLye">
            <item-attr name="caption" value="Make Potash From Lye"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="POTASH"/>
            <item-attr name="skill" value="POTASH_MAKING"/>
        </enum-item>
        <enum-item name="MakePearlash">
            <item-attr name="caption" value="Make Pearlash"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="PEARLASH"/>
            <item-attr name="skill" value="SMELT"/>
        </enum-item>
        <enum-item name="RenderFat">
            <item-attr name="caption" value="Render Fat"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="COOK"/>
        </enum-item>
        <enum-item name="MakeSoap">
            <item-attr name="caption" value="MakeSoap"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="SOAP_MAKING"/>
        </enum-item>
        <enum-item name="FertilizeField">
            <item-attr name="caption" value="Fertilize Field"/>
        </enum-item>
        <enum-item name="MakePotashFromAsh">
            <item-attr name="caption" value="Make Potash From Ash"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="POTASH"/>
            <item-attr name="skill" value="POTASH_MAKING"/>
        </enum-item>
        <enum-item name="DyeThread">
            <item-attr name="caption" value="Dye Thread"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="DYER"/>
        </enum-item>
        <enum-item name="DyeCloth">
            <item-attr name="caption" value="Dye Cloth"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="DYER"/>
        </enum-item>
        <enum-item name="SewImage">
            <item-attr name="caption" value="Sew Image"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_list_link">
        <code-helper name="describe">(describe-obj $.item)</code-helper>
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_flags" base-type="uint16_t">
        <ld:field name="repeat" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="suspend" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="working" comment="not for food, or store in sp" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fetching" comment="Actually going out to bring; corresponds to items-&gt;is_fetching" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="special" comment="Sleep/Drink/Eat/Clean; cannot be aborted via the ui" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bringing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1">
            <comment>
                When actually carrying non-last item to the workshop.
                If last, 'working' is used instead.
            </comment>
        </ld:field>
        <ld:field name="item_lost" comment="set when a Hauled item is removed; causes cancel" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="noise" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="by_manager" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="store_item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="quality" count="3" comment="set by improvement code" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="specific_dropoff" comment="for some jobs, blocks auto-restockpiling of the hauled item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="list_link" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
        <ld:field ld:subtype="enum" name="job_type" base-type="int32_t" type-name="job_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <code-helper name="describe">$.job_type</code-helper>

        <ld:field name="pos" type-name="coord32" ld:level="1" ld:meta="global"/>

        <ld:field name="completion_timer" comment="-1 per 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk4a" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="unk4b" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field name="flags" type-name="job_flags" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="item_category" type-name="item_category" ld:level="1" ld:meta="global"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="job_item_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job_item_ref"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="general_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_item_ref">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field ld:subtype="enum" base-type="int32_t" name="role" ld:level="1" ld:meta="compound" ld:typedef-name="T_role">
            <enum-item/>
            <enum-item name="Reagent"/>
            <enum-item name="Hauled"/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item name="TargetContainer"/>
        </ld:field>
        <ld:field name="is_fetching" comment="0 immediately once taken to be brought" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_item_flags1" base-type="uint32_t">
        <ld:field name="improvable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="butcherable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="millable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="buryable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unrotten" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="undisturbed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="collected" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sharpenable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="murdered" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="distillable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="empty" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bag" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cookable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="extract_bearing_plant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="extract_bearing_fish" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="extract_bearing_vermin" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_vial" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_bag" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_barrel" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="alchemical" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tameable_vermin" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="nearby" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sand_bearing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="glass" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="milk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="milkable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="finished_goods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ammo" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="furniture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="not_bin" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="lye_bearing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_item_flags2" base-type="uint32_t">
        <ld:field name="dye" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dyeable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dyed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sewn_imageless" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_item_filter">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="flags1" type-name="job_item_flags1" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="pointer" name="item_vector" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field name="use_matgloss_1" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="use_matgloss_2" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="flags2" type-name="job_item_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="use_flags2" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="manager_order">
        <ld:field ld:subtype="enum" name="job_type" base-type="int16_t" type-name="job_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="material" comment="or matgloss, depends on context" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="amount_left" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="amount_total" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        Note that item_category is NOT present here, so Encrust work orders do not work in this version
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="manager_order_template">
        <ld:field ld:subtype="enum" name="job_type" base-type="int16_t" type-name="job_type" ld:level="1" ld:meta="global"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="material" comment="or matgloss, depends on context" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="visible" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="item_category" type-name="item_category" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="mandate">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="mode" comment="0 export, 1 make, 2 guild jobs" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="amount_total" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="amount_remaining" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="timeout_counter" comment="counts once per 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timeout_limit" comment="once counter passes limit, mandate ends" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="punishments" ld:level="1" ld:meta="compound" ld:typedef-name="T_punishments">
            <ld:field name="hammerstrikes" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="prison" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="beating" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8" ld:anon-name="anon_1"/>

        <ld:field name="flags" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="guild_id">
        <enum-item name="None" value="-1"/>
        <enum-item name="Miners"/>
        <enum-item name="Carpenters"/>
        <enum-item name="Masons"/>
        <enum-item name="Metalsmiths"/>
        <enum-item name="Jewelers"/>
        <enum-item name="Craftsmen"/>
        <enum-item name="HouseFer"/>
        <enum-item name="HouseBer"/>
        <enum-item name="HouseRash"/>
        <enum-item name="OrderAxe"/>
        <enum-item name="OrderMace"/>
        <enum-item name="OrderSword"/>
        <enum-item name="OrderHammer"/>
        <enum-item name="OrderCrossbow"/>
        <enum-item name="OrderSpear"/>
        <enum-item name="Philosophers"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_demand">
        <ld:field name="unk_0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="place" ld:level="1" ld:meta="compound" ld:typedef-name="T_place">
            <enum-item name="Office"/>
            <enum-item name="Bedroom"/>
            <enum-item name="DiningRoom"/>
            <enum-item name="Tomb"/>
        </ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="timeout_counter" comment="counts once per 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timeout_limit" comment="once counter passes limit, mandate ends" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="interface_key" base-type="int32_t">
        <enum-item name="SELECT"/>
        <enum-item name="LEAVESCREEN"/>
        <enum-item name="LEAVESCREEN_TEXT"/>
        <enum-item name="OPTIONS"/>
        <enum-item name="HELP"/>
        <enum-item name="TOGGLE_FULLSCREEN"/>
        <enum-item name="MOVIES"/>
        <enum-item name="CHANGETAB"/>
        <enum-item name="STANDARDSCROLL_UP"/>
        <enum-item name="STANDARDSCROLL_DOWN"/>
        <enum-item name="STANDARDSCROLL_LEFT"/>
        <enum-item name="STANDARDSCROLL_RIGHT"/>
        <enum-item name="STANDARDSCROLL_PAGEUP"/>
        <enum-item name="STANDARDSCROLL_PAGEDOWN"/>
        <enum-item name="SECONDSCROLL_UP"/>
        <enum-item name="SECONDSCROLL_DOWN"/>
        <enum-item name="SECONDSCROLL_PAGEUP"/>
        <enum-item name="SECONDSCROLL_PAGEDOWN"/>
        <enum-item name="CURSOR_UP"/>
        <enum-item name="CURSOR_DOWN"/>
        <enum-item name="CURSOR_LEFT"/>
        <enum-item name="CURSOR_RIGHT"/>
        <enum-item name="CURSOR_UPLEFT"/>
        <enum-item name="CURSOR_UPRIGHT"/>
        <enum-item name="CURSOR_DOWNLEFT"/>
        <enum-item name="CURSOR_DOWNRIGHT"/>
        <enum-item name="CURSOR_UP_FAST"/>
        <enum-item name="CURSOR_DOWN_FAST"/>
        <enum-item name="CURSOR_LEFT_FAST"/>
        <enum-item name="CURSOR_RIGHT_FAST"/>
        <enum-item name="CURSOR_UPLEFT_FAST"/>
        <enum-item name="CURSOR_UPRIGHT_FAST"/>
        <enum-item name="CURSOR_DOWNLEFT_FAST"/>
        <enum-item name="CURSOR_DOWNRIGHT_FAST"/>
        <enum-item name="CURSOR_UP_Z"/>
        <enum-item name="CURSOR_DOWN_Z"/>
        <enum-item name="WORLDGEN_EXPORT_MAP"/>
        <enum-item name="LEGENDS_EXPORT_MAP"/>
        <enum-item name="SETUP_EMBARK"/>
        <enum-item name="ITEM_DESCRIPTION"/>
        <enum-item name="A_COMBAT_ATTACK"/>
        <enum-item name="A_COMBAT_DODGE"/>
        <enum-item name="A_COMBAT_CHARGEDEF"/>
        <enum-item name="A_STATUS"/>
        <enum-item name="A_STATUS_WRESTLE"/>
        <enum-item name="A_STATUS_CUSTOMIZE"/>
        <enum-item name="UNITVIEW_CUSTOMIZE"/>
        <enum-item name="CUSTOMIZE_UNIT_NICKNAME"/>
        <enum-item name="CUSTOMIZE_UNIT_PROFNAME"/>
        <enum-item name="A_SLEEP"/>
        <enum-item name="A_WAIT"/>
        <enum-item name="A_ATTACK"/>
        <enum-item name="A_SAMESQUARE"/>
        <enum-item name="A_LOOK"/>
        <enum-item name="A_SEARCH"/>
        <enum-item name="A_TALK"/>
        <enum-item name="A_INTERACT"/>
        <enum-item name="A_INV_LOOK"/>
        <enum-item name="A_INV_REMOVE"/>
        <enum-item name="A_INV_WEAR"/>
        <enum-item name="A_INV_EATDRINK"/>
        <enum-item name="A_INV_PUTIN"/>
        <enum-item name="A_INV_DROP"/>
        <enum-item name="A_GROUND"/>
        <enum-item name="A_THROW"/>
        <enum-item name="A_SHOOT"/>
        <enum-item name="A_ANNOUNCEMENTS"/>
        <enum-item name="A_COMBAT"/>
        <enum-item name="A_SNEAK"/>
        <enum-item name="A_CENTER"/>
        <enum-item name="A_BUILDING"/>
        <enum-item name="A_TRAVEL"/>
        <enum-item name="A_DATE"/>
        <enum-item name="A_WEATHER"/>
        <enum-item name="A_TEMPERATURE"/>
        <enum-item name="A_STANCE"/>
        <enum-item name="A_OPTION1"/>
        <enum-item name="A_OPTION2"/>
        <enum-item name="A_OPTION3"/>
        <enum-item name="A_OPTION4"/>
        <enum-item name="A_OPTION5"/>
        <enum-item name="A_OPTION6"/>
        <enum-item name="A_OPTION7"/>
        <enum-item name="A_OPTION8"/>
        <enum-item name="A_OPTION9"/>
        <enum-item name="A_OPTION10"/>
        <enum-item name="A_OPTION11"/>
        <enum-item name="A_OPTION12"/>
        <enum-item name="A_OPTION13"/>
        <enum-item name="A_OPTION14"/>
        <enum-item name="A_OPTION15"/>
        <enum-item name="A_OPTION16"/>
        <enum-item name="A_OPTION17"/>
        <enum-item name="A_OPTION18"/>
        <enum-item name="A_OPTION19"/>
        <enum-item name="A_OPTION20"/>
        <enum-item name="HOTKEY_MAKE_ASH"/>
        <enum-item name="HOTKEY_MAKE_CHARCOAL"/>
        <enum-item name="HOTKEY_SMELT_COPPER"/>
        <enum-item name="HOTKEY_SMELT_TIN"/>
        <enum-item name="HOTKEY_SMELT_BRONZE"/>
        <enum-item name="HOTKEY_SMELT_BRASS"/>
        <enum-item name="HOTKEY_SMELT_IRON"/>
        <enum-item name="HOTKEY_SMELT_PIGIRON"/>
        <enum-item name="HOTKEY_SMELT_STEEL"/>
        <enum-item name="HOTKEY_SMELT_SILVER"/>
        <enum-item name="HOTKEY_SMELT_ELECTRUM"/>
        <enum-item name="HOTKEY_SMELT_GOLD"/>
        <enum-item name="HOTKEY_SMELT_PLATINUM"/>
        <enum-item name="HOTKEY_SMELT_COAL"/>
        <enum-item name="HOTKEY_MELT_OBJECT"/>
        <enum-item name="HOTKEY_GLASS_GREEN"/>
        <enum-item name="HOTKEY_GLASS_CLEAR"/>
        <enum-item name="HOTKEY_GLASS_CRYSTAL"/>
        <enum-item name="HOTKEY_COLLECT_SAND"/>
        <enum-item name="HOTKEY_GLASS_ROUGH"/>
        <enum-item name="HOTKEY_GLASS_ARMORSTAND"/>
        <enum-item name="HOTKEY_GLASS_BOX"/>
        <enum-item name="HOTKEY_GLASS_CABINET"/>
        <enum-item name="HOTKEY_GLASS_COFFIN"/>
        <enum-item name="HOTKEY_GLASS_FLOODGATE"/>
        <enum-item name="HOTKEY_GLASS_GOBLET"/>
        <enum-item name="HOTKEY_GLASS_TOY"/>
        <enum-item name="HOTKEY_GLASS_INSTRUMENT"/>
        <enum-item name="HOTKEY_GLASS_DOOR"/>
        <enum-item name="HOTKEY_GLASS_STATUE"/>
        <enum-item name="HOTKEY_GLASS_TABLE"/>
        <enum-item name="HOTKEY_GLASS_CAGE"/>
        <enum-item name="HOTKEY_GLASS_CHAIR"/>
        <enum-item name="HOTKEY_GLASS_BLOCKS"/>
        <enum-item name="HOTKEY_GLASS_FLASK"/>
        <enum-item name="HOTKEY_GLASS_WEAPONRACK"/>
        <enum-item name="HOTKEY_GLASS_WINDOW"/>
        <enum-item name="HOTKEY_MAKE_PEARLASH"/>
        <enum-item name="HOTKEY_ASHERY_LYE"/>
        <enum-item name="HOTKEY_ASHERY_POTASH"/>
        <enum-item name="HOTKEY_ASHERY_POTASH_DIRECT"/>
        <enum-item name="HOTKEY_CARPENTER_BARREL"/>
        <enum-item name="HOTKEY_CARPENTER_BUCKET"/>
        <enum-item name="HOTKEY_CARPENTER_TRAP_ANIMAL"/>
        <enum-item name="HOTKEY_CARPENTER_CAGE"/>
        <enum-item name="HOTKEY_CARPENTER_ARMORSTAND"/>
        <enum-item name="HOTKEY_CARPENTER_BED"/>
        <enum-item name="HOTKEY_CARPENTER_CHAIR"/>
        <enum-item name="HOTKEY_CARPENTER_COFFIN"/>
        <enum-item name="HOTKEY_CARPENTER_DOOR"/>
        <enum-item name="HOTKEY_CARPENTER_FLOODGATE"/>
        <enum-item name="HOTKEY_CARPENTER_CABINET"/>
        <enum-item name="HOTKEY_CARPENTER_BIN"/>
        <enum-item name="HOTKEY_CARPENTER_BOX"/>
        <enum-item name="HOTKEY_CARPENTER_WEAPONRACK"/>
        <enum-item name="HOTKEY_CARPENTER_TABLE"/>
        <enum-item name="HOTKEY_SIEGE_BALLISTA"/>
        <enum-item name="HOTKEY_SIEGE_CATAPULT"/>
        <enum-item name="HOTKEY_LEATHER_BOX"/>
        <enum-item name="HOTKEY_LEATHER_FLASK"/>
        <enum-item name="HOTKEY_LEATHER_SHIRT"/>
        <enum-item name="HOTKEY_LEATHER_CLOAK"/>
        <enum-item name="HOTKEY_LEATHER_BACKPACK"/>
        <enum-item name="HOTKEY_LEATHER_QUIVER"/>
        <enum-item name="HOTKEY_LEATHER_IMAGE"/>
        <enum-item name="HOTKEY_CLOTHES_MAT_PLANT"/>
        <enum-item name="HOTKEY_CLOTHES_MAT_SILK"/>
        <enum-item name="HOTKEY_CLOTHES_SHIRT"/>
        <enum-item name="HOTKEY_CLOTHES_CLOAK"/>
        <enum-item name="HOTKEY_CLOTHES_BOX"/>
        <enum-item name="HOTKEY_CLOTHES_CHAIN"/>
        <enum-item name="HOTKEY_CLOTHES_IMAGE"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_STONE"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_STONE_L"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_STONE_D"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_WOOD"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_BONE"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_SHELL"/>
        <enum-item name="HOTKEY_CRAFTS_TOTEM"/>
        <enum-item name="HOTKEY_CRAFTS_CLOTH"/>
        <enum-item name="HOTKEY_CRAFTS_SILK"/>
        <enum-item name="HOTKEY_CRAFTS_SHELL"/>
        <enum-item name="HOTKEY_CRAFTS_BONE"/>
        <enum-item name="HOTKEY_CRAFTS_LEATHER"/>
        <enum-item name="HOTKEY_EXTRACT_ADAMANTINE"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_CRAFTS"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_GOBLET"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_INSTRUMENT"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_TOY"/>
        <enum-item name="HOTKEY_SMITH_WEAPON"/>
        <enum-item name="HOTKEY_SMITH_ARMOR"/>
        <enum-item name="HOTKEY_SMITH_FURNITURE"/>
        <enum-item name="HOTKEY_SMITH_SIEGE"/>
        <enum-item name="HOTKEY_SMITH_TRAP"/>
        <enum-item name="HOTKEY_SMITH_OTHER"/>
        <enum-item name="HOTKEY_SMITH_ADAMANTINE"/>
        <enum-item name="HOTKEY_BUILDING_ARMORSTAND"/>
        <enum-item name="HOTKEY_BUILDING_BED"/>
        <enum-item name="HOTKEY_BUILDING_CHAIR"/>
        <enum-item name="HOTKEY_BUILDING_COFFIN"/>
        <enum-item name="HOTKEY_BUILDING_DOOR"/>
        <enum-item name="HOTKEY_BUILDING_FLOODGATE"/>
        <enum-item name="HOTKEY_BUILDING_CABINET"/>
        <enum-item name="HOTKEY_BUILDING_BOX"/>
        <enum-item name="HOTKEY_BUILDING_KENNEL"/>
        <enum-item name="HOTKEY_BUILDING_FARMPLOT"/>
        <enum-item name="HOTKEY_BUILDING_WEAPONRACK"/>
        <enum-item name="HOTKEY_BUILDING_STATUE"/>
        <enum-item name="HOTKEY_BUILDING_TABLE"/>
        <enum-item name="HOTKEY_BUILDING_ROAD"/>
        <enum-item name="HOTKEY_BUILDING_CHANNEL"/>
        <enum-item name="HOTKEY_BUILDING_BRIDGE"/>
        <enum-item name="HOTKEY_BUILDING_AQUEDUCT"/>
        <enum-item name="HOTKEY_BUILDING_WELL"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE"/>
        <enum-item name="HOTKEY_BUILDING_WINDOW"/>
        <enum-item name="HOTKEY_BUILDING_SHOP"/>
        <enum-item name="HOTKEY_BUILDING_ANIMALTRAP"/>
        <enum-item name="HOTKEY_BUILDING_CHAIN"/>
        <enum-item name="HOTKEY_BUILDING_CAGE"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE_BALLISTA"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE_CATAPULT"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_STONE"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_WEAPON"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_LEVER"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_TRIGGER"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_CAGE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LEATHER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MILL"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LOOM"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CLOTHES"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_BOWYER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CARPENTER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_METALSMITH"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LAVAMILL"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_JEWELER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MASON"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_BUTCHER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_TANNER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_DYER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CRAFTSMAN"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_SIEGE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MECHANIC"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_STILL"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_FARMER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_KITCHEN"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_FISHERY"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LAB"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_ASHERY"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_WOOD"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_SMELTER"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_GLASS"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_KILN"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_SMELTER_LAVA"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_GLASS_LAVA"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_KILN_LAVA"/>
        <enum-item name="D_ONESTEP"/>
        <enum-item name="D_PAUSE"/>
        <enum-item name="D_GATE"/>
        <enum-item name="D_ANNOUNCE"/>
        <enum-item name="D_BUILDING"/>
        <enum-item name="D_CIVLIST"/>
        <enum-item name="D_DESIGNATE"/>
        <enum-item name="D_ARTLIST"/>
        <enum-item name="D_NOBLES"/>
        <enum-item name="D_ORDERS"/>
        <enum-item name="D_MILITARY"/>
        <enum-item name="D_ROOMS"/>
        <enum-item name="D_SQUADS"/>
        <enum-item name="D_STOCKPILES"/>
        <enum-item name="D_VIEWUNIT"/>
        <enum-item name="D_JOBLIST"/>
        <enum-item name="D_UNITLIST"/>
        <enum-item name="D_LOOK"/>
        <enum-item name="D_BUILDJOB"/>
        <enum-item name="D_STATUS"/>
        <enum-item name="D_BUILDITEM"/>
        <enum-item name="A_ENTER_NAME"/>
        <enum-item name="A_END_TRAVEL"/>
        <enum-item name="A_TRAVEL_CLOUDS"/>
        <enum-item name="A_LOG"/>
        <enum-item name="A_TRAVEL_LOG"/>
        <enum-item name="A_LOG_TASKS"/>
        <enum-item name="A_LOG_ENTITIES"/>
        <enum-item name="A_LOG_SITES"/>
        <enum-item name="A_LOG_SUBREGIONS"/>
        <enum-item name="A_LOG_ZOOM_CURRENT_LOCATION"/>
        <enum-item name="A_LOG_ZOOM_SELECTED"/>
        <enum-item name="A_LOG_LINE"/>
        <enum-item name="A_LOG_MAP"/>
        <enum-item name="ORDERS_REFUSE_GATHER"/>
        <enum-item name="ORDERS_REFUSE_OUTSIDE"/>
        <enum-item name="ORDERS_REFUSE_CHASM_CORPSE"/>
        <enum-item name="ORDERS_REFUSE_CHASM_SKULL"/>
        <enum-item name="ORDERS_REFUSE_CHASM_BONE"/>
        <enum-item name="ORDERS_REFUSE_CHASM_SHELL"/>
        <enum-item name="ORDERS_REFUSE_CHASM_SKIN"/>
        <enum-item name="ORDERS_REFUSE_CHASM_OTHER"/>
        <enum-item name="ORDERS_GATHER_FURNITURE"/>
        <enum-item name="ORDERS_GATHER_ANIMALS"/>
        <enum-item name="ORDERS_GATHER_FOOD"/>
        <enum-item name="ORDERS_GATHER_BODIES"/>
        <enum-item name="ORDERS_REFUSE"/>
        <enum-item name="ORDERS_GATHER_STONE"/>
        <enum-item name="ORDERS_GATHER_WOOD"/>
        <enum-item name="ORDERS_ALL_HARVEST"/>
        <enum-item name="ORDERS_INDOORS"/>
        <enum-item name="ORDERS_SAMEPILE"/>
        <enum-item name="ORDERS_MIXFOODS"/>
        <enum-item name="ORDERS_LOOM"/>
        <enum-item name="ORDERS_DYED_CLOTH"/>
        <enum-item name="ORDERS_EXCEPTIONS"/>
        <enum-item name="ORDERS_WORKSHOP"/>
        <enum-item name="ORDERS_COLLECT_WEB"/>
        <enum-item name="ORDERS_SLAUGHTER"/>
        <enum-item name="ORDERS_BUTCHER"/>
        <enum-item name="ORDERS_TAN"/>
        <enum-item name="DESTROYBUILDING"/>
        <enum-item name="SUSPENDBUILDING"/>
        <enum-item name="MENU_CONFIRM"/>
        <enum-item name="SAVE_BINDINGS"/>
        <enum-item name="CHANGE_BINDINGS"/>
        <enum-item name="HOTKEY_ALCHEMIST_SOAP"/>
        <enum-item name="HOTKEY_STILL_BREW"/>
        <enum-item name="HOTKEY_STILL_EXTRACT"/>
        <enum-item name="HOTKEY_LOOM_COLLECT_SILK"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_CLOTH"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_SILK"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_ADAMANTINE"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_2"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_3"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_4"/>
        <enum-item name="HOTKEY_KITCHEN_RENDER_FAT"/>
        <enum-item name="HOTKEY_FARMER_PROCESS"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_VIAL"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_BAG"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_BARREL"/>
        <enum-item name="HOTKEY_FARMER_CHEESE"/>
        <enum-item name="HOTKEY_FARMER_MILK"/>
        <enum-item name="HOTKEY_MILL_MILL"/>
        <enum-item name="HOTKEY_KENNEL_TRAIN_HUNT"/>
        <enum-item name="HOTKEY_KENNEL_CATCH_VERMIN"/>
        <enum-item name="HOTKEY_KENNEL_TAME_VERMIN"/>
        <enum-item name="HOTKEY_KENNEL_TAME_UNIT"/>
        <enum-item name="HOTKEY_KENNEL_TRAIN_WAR"/>
        <enum-item name="HOTKEY_FISHERY_PROCESS"/>
        <enum-item name="HOTKEY_FISHERY_EXTRACT"/>
        <enum-item name="HOTKEY_FISHERY_CATCH"/>
        <enum-item name="HOTKEY_BUTCHER_BUTCHER"/>
        <enum-item name="HOTKEY_BUTCHER_EXTRACT"/>
        <enum-item name="HOTKEY_BUTCHER_CATCH"/>
        <enum-item name="HOTKEY_TANNER_TAN"/>
        <enum-item name="HOTKEY_DYER_THREAD"/>
        <enum-item name="HOTKEY_DYER_CLOTH"/>
        <enum-item name="HOTKEY_JEWELER_FURNITURE"/>
        <enum-item name="HOTKEY_JEWELER_FINISHED"/>
        <enum-item name="HOTKEY_JEWELER_AMMO"/>
        <enum-item name="HOTKEY_JEWELER_CUT"/>
        <enum-item name="HOTKEY_JEWELER_ENCRUST"/>
        <enum-item name="HOTKEY_MECHANIC_PARTS"/>
        <enum-item name="HOTKEY_MASON_MAT_GRAY"/>
        <enum-item name="HOTKEY_MASON_MAT_LIGHT"/>
        <enum-item name="HOTKEY_MASON_MAT_DARK"/>
        <enum-item name="HOTKEY_MASON_ARMORSTAND"/>
        <enum-item name="HOTKEY_MASON_BLOCKS"/>
        <enum-item name="HOTKEY_MASON_CHAIR"/>
        <enum-item name="HOTKEY_MASON_COFFIN"/>
        <enum-item name="HOTKEY_MASON_DOOR"/>
        <enum-item name="HOTKEY_MASON_FLOODGATE"/>
        <enum-item name="HOTKEY_MASON_CABINET"/>
        <enum-item name="HOTKEY_MASON_BOX"/>
        <enum-item name="HOTKEY_MASON_STATUE"/>
        <enum-item name="HOTKEY_MASON_TABLE"/>
        <enum-item name="HOTKEY_MASON_WEAPONRACK"/>
        <enum-item name="HOTKEY_TRAP_BRIDGE"/>
        <enum-item name="HOTKEY_TRAP_DOOR"/>
        <enum-item name="HOTKEY_TRAP_FLOODGATE"/>
        <enum-item name="HOTKEY_TRAP_SUPPORT"/>
        <enum-item name="HOTKEY_TRAP_CHAIN"/>
        <enum-item name="HOTKEY_TRAP_CAGE"/>
        <enum-item name="HOTKEY_TRAP_PULL_LEVER"/>
        <enum-item name="HOTKEY_TRAP_TRIGGERTEMP"/>
        <enum-item name="BUILDJOB_ADD"/>
        <enum-item name="BUILDJOB_CANCEL"/>
        <enum-item name="BUILDJOB_PROMOTE"/>
        <enum-item name="BUILDJOB_REPEAT"/>
        <enum-item name="BUILDJOB_SUSPEND"/>
        <enum-item name="BUILDJOB_WORKSHOP_PROFILE"/>
        <enum-item name="BUILDJOB_WELL_FREE"/>
        <enum-item name="BUILDJOB_WELL_SIZE"/>
        <enum-item name="BUILDJOB_TARGET_FREE"/>
        <enum-item name="BUILDJOB_TARGET_SIZE"/>
        <enum-item name="BUILDJOB_TARGET_DOWN"/>
        <enum-item name="BUILDJOB_TARGET_UP"/>
        <enum-item name="BUILDJOB_TARGET_RIGHT"/>
        <enum-item name="BUILDJOB_TARGET_LEFT"/>
        <enum-item name="BUILDJOB_STATUE_ASSIGN"/>
        <enum-item name="BUILDJOB_STATUE_FREE"/>
        <enum-item name="BUILDJOB_STATUE_SIZE"/>
        <enum-item name="BUILDJOB_CAGE_JUSTICE"/>
        <enum-item name="BUILDJOB_CAGE_FREE"/>
        <enum-item name="BUILDJOB_CAGE_SIZE"/>
        <enum-item name="BUILDJOB_CAGE_ASSIGN_OCC"/>
        <enum-item name="BUILDJOB_CAGE_WATER"/>
        <enum-item name="BUILDJOB_CAGE_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIN_ASSIGN_OCC"/>
        <enum-item name="BUILDJOB_CHAIN_JUSTICE"/>
        <enum-item name="BUILDJOB_CHAIN_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIN_FREE"/>
        <enum-item name="BUILDJOB_CHAIN_SIZE"/>
        <enum-item name="BUILDJOB_SIEGE_FIRING"/>
        <enum-item name="BUILDJOB_SIEGE_ORIENT"/>
        <enum-item name="BUILDJOB_CHANNEL_ASSIGN_OCC"/>
        <enum-item name="BUILDJOB_CHANNEL_WATER"/>
        <enum-item name="BUILDJOB_DOOR_INTERNAL"/>
        <enum-item name="BUILDJOB_DOOR_LOCK"/>
        <enum-item name="BUILDJOB_DOOR_AJAR"/>
        <enum-item name="BUILDJOB_COFFIN_ASSIGN"/>
        <enum-item name="BUILDJOB_COFFIN_FREE"/>
        <enum-item name="BUILDJOB_COFFIN_SIZE"/>
        <enum-item name="BUILDJOB_COFFIN_BURIAL"/>
        <enum-item name="BUILDJOB_COFFIN_CIV"/>
        <enum-item name="BUILDJOB_COFFIN_PET"/>
        <enum-item name="BUILDJOB_CHAIR_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIR_FREE"/>
        <enum-item name="BUILDJOB_CHAIR_SIZE"/>
        <enum-item name="BUILDJOB_TABLE_ASSIGN"/>
        <enum-item name="BUILDJOB_TABLE_HALL"/>
        <enum-item name="BUILDJOB_TABLE_FREE"/>
        <enum-item name="BUILDJOB_TABLE_SIZE"/>
        <enum-item name="BUILDJOB_BED_ASSIGN"/>
        <enum-item name="BUILDJOB_BED_FREE"/>
        <enum-item name="BUILDJOB_BED_BARRACKS"/>
        <enum-item name="BUILDJOB_BED_RENT"/>
        <enum-item name="BUILDJOB_BED_SIZE"/>
        <enum-item name="BUILDJOB_DEPOT_BRING"/>
        <enum-item name="BUILDJOB_DEPOT_TRADE"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_NONE"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_MEAT"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_FISH"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_GEM"/>
        <enum-item name="BUILDJOB_FARM_FALLOW"/>
        <enum-item name="BUILDJOB_FARM_FERTILIZE"/>
        <enum-item name="BUILDJOB_FARM_SEASFERT"/>
        <enum-item name="BUILDJOB_FARM_SPRING"/>
        <enum-item name="BUILDJOB_FARM_SUMMER"/>
        <enum-item name="BUILDJOB_FARM_AUTUMN"/>
        <enum-item name="BUILDJOB_STOCKPILE_MASTER"/>
        <enum-item name="BUILDJOB_STOCKPILE_DELETE_CHILD"/>
        <enum-item name="BUILDJOB_STOCKPILE_SETTINGS"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_UP"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_DOWN"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_ZERO"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_MAX"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_UP"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_DOWN"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_ZERO"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_MAX"/>
        <enum-item name="BUILDJOB_RACK_MAT_BONE"/>
        <enum-item name="BUILDJOB_RACK_MAT_BRONZE"/>
        <enum-item name="BUILDJOB_RACK_MAT_COPPER"/>
        <enum-item name="BUILDJOB_RACK_MAT_IRON"/>
        <enum-item name="BUILDJOB_RACK_MAT_STEEL"/>
        <enum-item name="BUILDJOB_RACK_MAT_WOOD"/>
        <enum-item name="BUILDJOB_RACK_MAT_ADAMANTINE"/>
        <enum-item name="BUILDJOB_STAND_MAT_BONE"/>
        <enum-item name="BUILDJOB_STAND_MAT_LEATHER"/>
        <enum-item name="BUILDJOB_STAND_MAT_COPPER"/>
        <enum-item name="BUILDJOB_STAND_MAT_BRONZE"/>
        <enum-item name="BUILDJOB_STAND_MAT_STEEL"/>
        <enum-item name="BUILDJOB_STAND_MAT_IRON"/>
        <enum-item name="BUILDJOB_STAND_MAT_WOOD"/>
        <enum-item name="BUILDJOB_STAND_MAT_ADAMANTINE"/>
        <enum-item name="BUILDJOB_RACKSTAND_ASSIGN"/>
        <enum-item name="BUILDJOB_RACKSTAND_FREE"/>
        <enum-item name="BUILDJOB_RACKSTAND_SIZE"/>
        <enum-item name="BUILDJOB_RACKSTAND_ITEM"/>
        <enum-item name="BUILDJOB_RACKSTAND_MAT"/>
        <enum-item name="BUILDJOB_RACKSTAND_DEFAULTS1"/>
        <enum-item name="BUILDJOB_RACKSTAND_KILL1"/>
        <enum-item name="BUILDJOB_RACKSTAND_DEFAULTS2"/>
        <enum-item name="BUILDJOB_RACKSTAND_KILL2"/>
        <enum-item name="STOCKPILE_SETTINGS_ENABLE"/>
        <enum-item name="STOCKPILE_SETTINGS_DISABLE"/>
        <enum-item name="STOCKPILE_SETTINGS_PERMIT_ALL"/>
        <enum-item name="STOCKPILE_SETTINGS_FORBID_ALL"/>
        <enum-item name="STOCKPILE_SETTINGS_PERMIT_SUB"/>
        <enum-item name="STOCKPILE_SETTINGS_FORBID_SUB"/>
        <enum-item name="STOCKPILE_SETTINGS_SPECIFIC1"/>
        <enum-item name="STOCKPILE_SETTINGS_SPECIFIC2"/>
        <enum-item name="SQUAD_LOCK"/>
        <enum-item name="SQUAD_STATION"/>
        <enum-item name="SQUAD_CLEAR_PATROL"/>
        <enum-item name="SQUAD_PATROL"/>
        <enum-item name="SQUAD_ZOOM"/>
        <enum-item name="MOVIE_RECORD"/>
        <enum-item name="MOVIE_PLAY"/>
        <enum-item name="MOVIE_SAVE"/>
        <enum-item name="MOVIE_LOAD"/>
        <enum-item name="ASSIGNTRADE_VIEW"/>
        <enum-item name="A_BARTER_VIEW"/>
        <enum-item name="A_BARTER_CURRENCY_1"/>
        <enum-item name="A_BARTER_CURRENCY_2"/>
        <enum-item name="A_BARTER_CURRENCY_3"/>
        <enum-item name="A_BARTER_CURRENCY_4"/>
        <enum-item name="A_BARTER_CURRENCY_5"/>
        <enum-item name="A_BARTER_CURRENCY_6"/>
        <enum-item name="A_BARTER_CURRENCY_7"/>
        <enum-item name="A_BARTER_CURRENCY_8"/>
        <enum-item name="A_BARTER_CURRENCY_9"/>
        <enum-item name="A_BARTER_TRADE"/>
        <enum-item name="TRADE_VIEW"/>
        <enum-item name="TRADE_TRADE"/>
        <enum-item name="TRADE_OFFER"/>
        <enum-item name="TRADE_SEIZE"/>
        <enum-item name="STORES_VIEW"/>
        <enum-item name="STORES_ZOOM"/>
        <enum-item name="STORES_MELT"/>
        <enum-item name="STORES_CHASM"/>
        <enum-item name="MILITARY_ACTIVATE"/>
        <enum-item name="MILITARY_VIEW"/>
        <enum-item name="MILITARY_WEAPON"/>
        <enum-item name="SQUADINFO_FOOD"/>
        <enum-item name="SQUADINFO_SLEEP"/>
        <enum-item name="SQUADINFO_WATER"/>
        <enum-item name="SQUADINFO_STAYCLOSE"/>
        <enum-item name="SQUADINFO_ATTACKWILDS"/>
        <enum-item name="SQUADINFO_STANDDOWN"/>
        <enum-item name="SQUADINFO_ZOOM"/>
        <enum-item name="UNITJOB_REMOVE_CRE"/>
        <enum-item name="UNITJOB_ZOOM_CRE"/>
        <enum-item name="UNITJOB_ZOOM_BUILD"/>
        <enum-item name="UNITJOB_VIEW"/>
        <enum-item name="UNITJOB_MANAGER"/>
        <enum-item name="MANAGER_NEW_ORDER"/>
        <enum-item name="MANAGER_REMOVE"/>
        <enum-item name="MANAGER_PROMOTE"/>
        <enum-item name="MANAGER_MAX"/>
        <enum-item name="MANAGER_WAGES"/>
        <enum-item name="PET_BUTCHER"/>
        <enum-item name="KITCHEN_COOK"/>
        <enum-item name="KITCHEN_BREW"/>
        <enum-item name="SETUPGAME_NEW"/>
        <enum-item name="SETUPGAME_VIEW"/>
        <enum-item name="STOCKPILE_ANIMAL"/>
        <enum-item name="STOCKPILE_FOOD"/>
        <enum-item name="STOCKPILE_WEAPON"/>
        <enum-item name="STOCKPILE_ARMOR"/>
        <enum-item name="STOCKPILE_CUSTOM"/>
        <enum-item name="STOCKPILE_CUSTOM_SETTINGS"/>
        <enum-item name="STOCKPILE_FURNITURE"/>
        <enum-item name="STOCKPILE_GRAVEYARD"/>
        <enum-item name="STOCKPILE_REFUSE"/>
        <enum-item name="STOCKPILE_MINING"/>
        <enum-item name="STOCKPILE_WOOD"/>
        <enum-item name="STOCKPILE_STONE"/>
        <enum-item name="STOCKPILE_ORE"/>
        <enum-item name="STOCKPILE_GEM"/>
        <enum-item name="STOCKPILE_BARBLOCK"/>
        <enum-item name="STOCKPILE_CLOTH"/>
        <enum-item name="STOCKPILE_LEATHER"/>
        <enum-item name="STOCKPILE_AMMO"/>
        <enum-item name="STOCKPILE_COINS"/>
        <enum-item name="STOCKPILE_FINISHED"/>
        <enum-item name="STOCKPILE_NONE"/>
        <enum-item name="DESIGNATE_CLAIM"/>
        <enum-item name="DESIGNATE_DIG"/>
        <enum-item name="DESIGNATE_CHOP"/>
        <enum-item name="DESIGNATE_PLANTS"/>
        <enum-item name="DESIGNATE_DETAIL"/>
        <enum-item name="DESIGNATE_FORTIFY"/>
        <enum-item name="DESIGNATE_TOGGLE_ENGRAVING"/>
        <enum-item name="DESIGNATE_UNDO"/>
        <enum-item name="BUILDING_DIM_Y_UP"/>
        <enum-item name="BUILDING_DIM_Y_DOWN"/>
        <enum-item name="BUILDING_DIM_X_UP"/>
        <enum-item name="BUILDING_DIM_X_DOWN"/>
        <enum-item name="BUILDING_ORIENT_UP"/>
        <enum-item name="BUILDING_ORIENT_LEFT"/>
        <enum-item name="BUILDING_ORIENT_RIGHT"/>
        <enum-item name="BUILDING_ORIENT_DOWN"/>
        <enum-item name="BUILDING_ORIENT_NONE"/>
        <enum-item name="BUILDING_VIEW_ITEM"/>
        <enum-item name="BUILDING_PLACE"/>
        <enum-item name="UNITVIEW_GEN"/>
        <enum-item name="UNITVIEW_INV"/>
        <enum-item name="UNITVIEW_PRF"/>
        <enum-item name="UNITVIEW_WND"/>
        <enum-item name="UNITVIEW_NEXT"/>
        <enum-item name="UNITVIEW_SLAUGHTER"/>
        <enum-item name="UNITVIEW_PRF_PROF"/>
        <enum-item name="UNITVIEW_PRF_PET"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER"/>
        <enum-item name="UNITVIEW_PRF_CASTLE"/>
        <enum-item name="UNITVIEW_PRF_ROYAL"/>
        <enum-item name="UNITVIEW_PRF_TOGGLESQUAD"/>
        <enum-item name="UNITVIEW_PRF_PET_HUNT"/>
        <enum-item name="UNITVIEW_PRF_PET_WAR"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_UNARMED"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_AXE"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_CROSSBOW"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_HAMMER"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_MACE"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_SPEAR"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_SWORD"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_WEAPONNUM"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_ARMOR"/>
        <enum-item name="UNITVIEW_PRF_SOLDIER_SHIELD"/>
        <enum-item name="UNITVIEW_PRF_VIEW"/>
        <enum-item name="STRING_A"/>
        <enum-item name="STRING_B"/>
        <enum-item name="STRING_C"/>
        <enum-item name="STRING_D"/>
        <enum-item name="STRING_E"/>
        <enum-item name="STRING_F"/>
        <enum-item name="STRING_G"/>
        <enum-item name="STRING_H"/>
        <enum-item name="STRING_I"/>
        <enum-item name="STRING_J"/>
        <enum-item name="STRING_K"/>
        <enum-item name="STRING_L"/>
        <enum-item name="STRING_M"/>
        <enum-item name="STRING_N"/>
        <enum-item name="STRING_O"/>
        <enum-item name="STRING_P"/>
        <enum-item name="STRING_Q"/>
        <enum-item name="STRING_R"/>
        <enum-item name="STRING_S"/>
        <enum-item name="STRING_T"/>
        <enum-item name="STRING_U"/>
        <enum-item name="STRING_V"/>
        <enum-item name="STRING_W"/>
        <enum-item name="STRING_X"/>
        <enum-item name="STRING_Y"/>
        <enum-item name="STRING_Z"/>
        <enum-item name="STRING_A_CAP"/>
        <enum-item name="STRING_B_CAP"/>
        <enum-item name="STRING_C_CAP"/>
        <enum-item name="STRING_D_CAP"/>
        <enum-item name="STRING_E_CAP"/>
        <enum-item name="STRING_F_CAP"/>
        <enum-item name="STRING_G_CAP"/>
        <enum-item name="STRING_H_CAP"/>
        <enum-item name="STRING_I_CAP"/>
        <enum-item name="STRING_J_CAP"/>
        <enum-item name="STRING_K_CAP"/>
        <enum-item name="STRING_L_CAP"/>
        <enum-item name="STRING_M_CAP"/>
        <enum-item name="STRING_N_CAP"/>
        <enum-item name="STRING_O_CAP"/>
        <enum-item name="STRING_P_CAP"/>
        <enum-item name="STRING_Q_CAP"/>
        <enum-item name="STRING_R_CAP"/>
        <enum-item name="STRING_S_CAP"/>
        <enum-item name="STRING_T_CAP"/>
        <enum-item name="STRING_U_CAP"/>
        <enum-item name="STRING_V_CAP"/>
        <enum-item name="STRING_W_CAP"/>
        <enum-item name="STRING_X_CAP"/>
        <enum-item name="STRING_Y_CAP"/>
        <enum-item name="STRING_Z_CAP"/>
        <enum-item name="STRING_SPACE"/>
        <enum-item name="STRING_BACKSPACE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="language_word_flags">
        <enum-item name="FRONT_COMPOUND_NOUN_SING"/>
        <enum-item name="FRONT_COMPOUND_NOUN_PLUR"/>
        <enum-item name="FRONT_COMPOUND_ADJ"/>
        <enum-item name="FRONT_COMPOUND_PREFIX"/>
        <enum-item name="REAR_COMPOUND_NOUN_SING"/>
        <enum-item name="REAR_COMPOUND_NOUN_PLUR"/>
        <enum-item name="REAR_COMPOUND_ADJ"/>
        <enum-item name="THE_NOUN_SING"/>
        <enum-item name="THE_NOUN_PLUR"/>
        <enum-item name="THE_COMPOUND_NOUN_SING"/>
        <enum-item name="THE_COMPOUND_NOUN_PLUR"/>
        <enum-item name="THE_COMPOUND_ADJ"/>
        <enum-item name="THE_COMPOUND_PREFIX"/>
        <enum-item name="OF_NOUN_SING"/>
        <enum-item name="OF_NOUN_PLUR"/>
        <enum-item name="STANDARD_VERB"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="part_of_speech">
        <enum-item name="Noun"/>
        <enum-item name="NounPlural"/>
        <enum-item name="Adjective"/>
        <enum-item name="Prefix"/>
        <enum-item name="Verb"/>
        <enum-item name="Verb3rdPerson"/>
        <enum-item name="VerbPast"/>
        <enum-item name="VerbPassive"/>
        <enum-item name="VerbGerund"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_word" instance-vector="$global.world.raws.language.words">
        <ld:field name="word" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.word</code-helper>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="forms" count="9" index-enum="part_of_speech" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="adj_dist" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field size="7" comment="looks like garbage" ld:level="1" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="language_word_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_translation" instance-vector="$global.world.raws.language.translations">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.name</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words_pre" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trans_pre" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" index-refers-to="$global.world.raws.language.words[$]" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_symbol" instance-vector="$global.world.raws.language.symbols">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words_str" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" ld:is-container="true">
            <ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_name">
        <ld:field name="first_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="nickname" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" name="parts" count="7" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_parts">
            <ld:field name="word" ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:subtype="enum" name="part_of_speech" type-name="part_of_speech" ld:level="2" ld:meta="global"/>
        </ld:item>
            
            
        </ld:field>

        <ld:field name="language" ref-target="language_translation" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unknown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="has_name" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <code-helper name="describe">
          (when $.has_name
            (let* ((nick $.nickname)
                   (lraw $global.world.raws.language)
                   (language $lraw.translations[$.language])
                   (english $lraw.words)
                   (fname $.first_name)
                   (lwords $language.words))
              (flet ((get-words (start end)
                       (loop for i from start to end
                         for word = $.parts[i].word
                         collect $lwords[word].value))
                     (get-english (start end)
                       (loop for i from start to end
                         for word = $.parts[i].word and ps = $.parts[i].part_of_speech
                         collect $english[word].forms[ps])))
                (list
                 (fmt "Name:~:(~@[ ~A~]~@[ '~A'~]~@[ ~{~A~}~]~@[ ~{~A~}~]~@[ ~{~A~}~]~)"
                      (if (&gt; (length fname) 0) fname)
                      (if (&gt; (length nick) 0) nick)
                      (flatten (get-words 0 1))
                      (flatten (get-words 2 5))
                      (flatten (get-words 6 6)))
                 (fmt "aka~:(~@[ ~A~]~@[ ~{~A~}~]~@[ the ~A~]~@[ of ~{~A~}~]~)"
                      (if (&gt; (length fname) 0) fname)
                      (flatten (get-english 0 1))
                      (when (&gt;= $.parts[5].word 0)
                        (apply #'format nil "~@[~A ~]~@[~A ~]~@[~A-~]~A" (get-english 2 5)))
                      (flatten (get-english 6 6)))))))
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_word_table">
        <ld:field ld:level="1" ld:meta="static-array" name="words" count="6" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" index-refers-to="$$._parent._parent.parts[$$._key][$]" ld:is-container="true">
                <ld:item ref-target="language_word" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="parts" count="6" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="part_of_speech" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="language_name_category">
        <enum-item name="Unit"/>
        <enum-item name="Artifact"/>
        <enum-item name="ArtifactEvil" comment="for Macabre/Fell moods"/>
        <enum-item name="Swamp"/>
        <enum-item name="Desert"/>
        <enum-item name="Forest"/>
        <enum-item name="Mountains"/>
        <enum-item name="Lake"/>
        <enum-item name="Ocean"/>
        <enum-item name="Glacier"/>

        <enum-item name="Tundra"/>
        <enum-item name="Grassland"/>
        <enum-item name="Hills"/>
        <enum-item name="Region" comment="for generated Worlds"/>
        <enum-item name="Cave"/>
        <enum-item name="SwampEvil"/>
        <enum-item name="DesertEvil"/>
        <enum-item name="ForestEvil"/>
        <enum-item name="MountainsEvil"/>
        <enum-item name="LakeEvil"/>

        <enum-item name="OceanEvil"/>
        <enum-item name="GlacierEvil"/>
        <enum-item name="TundraEvil"/>
        <enum-item name="GrasslandEvil"/>
        <enum-item name="HillsEvil"/>
        <enum-item name="SwampGood"/>
        <enum-item name="DesertGood"/>
        <enum-item name="ForestGood"/>
        <enum-item name="MountainsGood"/>
        <enum-item name="LakeGood"/>

        <enum-item name="OceanGood"/>
        <enum-item name="GlacierGood"/>
        <enum-item name="TundraGood"/>
        <enum-item name="GrasslandGood"/>
        <enum-item name="HillsGood"/>
        <enum-item name="ArtImage"/>
        <enum-item name="DemonEvil" comment="Lesser demons pick between these two randomly"/>
        <enum-item name="DemonGood"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="nemesis_flags">
        <enum-item/>
        <enum-item/>
        <enum-item name="Adventurer"/>
        <enum-item name="ImportantCivMember"/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="nemesis_record" key-field="id" instance-vector="$global.world.nemesis.all">
        <ld:field name="id" comment="sequential index in the array" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="save_file_id" init-value="-1" comment="unit-*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="member_idx" comment="index in the file" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="pointer" name="figure" type-name="historical_figure" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_figure"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <code-helper name="describe">
            (describe-obj $.figure)
        </code-helper>

        <ld:field name="group_leader_id" ref-target="nemesis_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="companions" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unk10" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk11" ref-target="nemesis_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk12" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="nemesis_flags" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="artifact_flags">
        <enum-item name="Discovered"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="artifact_record" key-field="id" instance-vector="$global.world.artifacts.all">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <ld:field name="action_timer" comment="how long before the artifact maker becomes nervous" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="artifact_flags" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">(fmt "(~A,~A)" $.x $.y)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A)" $.x[i] $.y[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d32" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">(fmt "(~A,~A)" $.x $.y)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d32_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A)" $.x[i] $.y[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="z" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">(fmt "(~A,~A,~A)" $.x $.y $.z)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="z" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A,~A)" $.x[i] $.y[i] $.z[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord32" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">(fmt "(~A,~A,~A)" $.x $.y $.z)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord32_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="z" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A,~A)" $.x[i] $.y[i] $.z[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="mineral_cluster">
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_color" base-type="uint8_t">
        <ld:field name="color" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="mud" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rain" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="snow" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dry" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_designation" base-type="uint32_t">
        <ld:field name="pile" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="smooth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dig" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="fortification" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="water_flood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="magma_flood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="geolayer_index" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="light" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="subterranean" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="outside" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_building_occ" base-type="uint32_t">
        <enum-item name="None" comment="no building"/>
        <enum-item name="Planned" comment="nothing built yet"/>
        <enum-item name="Passable"/>
        <enum-item name="Impassable"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_occupancy">
        <ld:field name="unit" comment="standing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unit_grounded" comment="prone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="building" count="2" type-name="tile_building_occ" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="moss" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="water" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vomit" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="arrow_color" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_g" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_b" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="pus" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_m" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_c" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ichor" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="goo" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="slime" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="arrow_variant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="lava" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="block_flags">
        <enum-item name="designated" comment="for jobs etc"/>
        <enum-item name="update_temperature"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tile_bitmask" custom-methods="true" comment="not in DF">
        <ld:field ld:level="1" ld:meta="static-array" name="bits" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_block">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="block_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="flows" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="flow_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item>
        </ld:field>

        <ld:field name="flow_pool" type-name="flow_reuse_pool" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" name="color" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_color" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="designation" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_designation" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="chr" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="uint8_t" type-name="tile_chr" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="occupancy" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_occupancy" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="fog_of_war" count="16" comment="for adventure mode" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="path_cost" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="walkable" count="16" ld:is-container="true">
            <comment>0 = non-walkable; same nonzero at A and B = walkable from A to B</comment>
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="elevation" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="temperature_1" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="temperature_2" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" count="16" ld:is-container="true" ld:anon-name="anon_1">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field name="map_pos" type-name="coord" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="biome_type">
        <enum-item name="MOUNTAIN"/>
        <enum-item name="GLACIER"/>
        <enum-item name="TUNDRA"/>
        <enum-item name="SWAMP_TEMPERATE_FRESHWATER"/>
        <enum-item name="SWAMP_TEMPERATE_SALTWATER"/>
        <enum-item name="MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="SWAMP_MANGROVE"/>
        <enum-item name="MARSH_TROPICAL_FRESHWATER"/>
        <enum-item name="MARSH_TROPICAL_SALTWATER"/>
        <enum-item name="FOREST_TAIGA"/>
        <enum-item name="FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="FOREST_TROPICAL_CONIFER"/>
        <enum-item name="FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="FOREST_TROPICAL_MOIST_BROADLEAF"/>
        <enum-item name="GRASSLAND_TEMPERATE"/>
        <enum-item name="SAVANNA_TEMPERATE"/>
        <enum-item name="SHRUBLAND_TEMPERATE"/>
        <enum-item name="GRASSLAND_TROPICAL"/>
        <enum-item name="SAVANNA_TROPICAL"/>
        <enum-item name="SHRUBLAND_TROPICAL"/>
        <enum-item name="DESERT_BADLAND"/>
        <enum-item name="DESERT_ROCK"/>
        <enum-item name="DESERT_SAND"/>
        <enum-item name="OCEAN"/>
        <enum-item name="INLAND_FRESHWATER"/>
        <enum-item name="INLAND_BRACKISHWATER"/>
        <enum-item name="INLAND_SALTWATER"/>
        <enum-item name="SUBTERRANEAN_RIVER"/>
        <enum-item name="SUBTERRANEAN_CHASM"/>
        <enum-item name="SUBTERRANEAN_LAVA"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="flow_type" base-type="int16_t">
        <enum-item name="Miasma"/>
        <enum-item name="Steam" comment="only if material=1"/>
        <enum-item name="Mist"/>
        <enum-item name="BloodyMist"/>
        <enum-item name="Dust"/>
        <enum-item name="RiverFlood"/>
        <enum-item name="Flood"/> material = liquid type
        <enum-item name="Antiflood"/> material = liquid type
        <enum-item name="MagmaInitialFlood"/>
        <enum-item name="MagmaMist"/>
        <enum-item name="Smoke"/>
        <enum-item name="Dragonfire"/>
        <enum-item name="Fire"/>
        <enum-item name="Web"/>
        <enum-item name="MaterialGas"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="flow_info">
        <ld:field ld:subtype="enum" type-name="flow_type" base-type="int16_t" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="density" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field type-name="coord" name="dest" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int8_t" count="10" name="blood_types" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="expanding" init-value="1" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="reuse" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="flow_reuse_pool">
        <ld:field name="reuse_idx" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="active" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="effect_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="job" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field name="type" comment="2 = falling into chasm" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="foreground" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="background" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bright" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field type-name="coord32" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="drink_area">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field name="type" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="in_use" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="material_type" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="is_builtin" type-name="bool" comment="Has no matgloss (or is Coal)"/>
        <enum-attr name="is_wood" type-name="bool" comment="Matgloss is wood"/>
        <enum-attr name="is_stone" type-name="bool" comment="Matgloss is stone"/>
        <enum-attr name="is_gem" type-name="bool" comment="Matgloss is gem"/>
        <enum-attr name="is_plant" type-name="bool" comment="Matgloss is plant"/>
        <enum-attr name="is_creature" type-name="bool" comment="Matgloss is creature"/>
        <enum-attr name="weight_divisor" type-name="int8_t" default-value="1" comment=""/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="WOOD">
            <item-attr name="caption" value="wood"/>
            <item-attr name="is_wood" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="STONE_GRAY">
            <item-attr name="caption" value="rock"/>
            <item-attr name="is_stone" value="true"/>
        </enum-item>
        <enum-item name="STONE_LIGHT">
            <item-attr name="caption" value="light stone"/>
            <item-attr name="is_stone" value="true"/>
        </enum-item>
        <enum-item name="STONE_DARK">
            <item-attr name="caption" value="dark stone"/>
            <item-attr name="is_stone" value="true"/>
        </enum-item>
        <enum-item name="GOLD">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="IRON">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="SILVER">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="COPPER">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="GEM_ORNAMENTAL">
            <item-attr name="is_gem" value="true"/>
        </enum-item>
        <enum-item name="GEM_SEMI">
            <item-attr name="is_gem" value="true"/>
        </enum-item>
        <enum-item name="GEM_PRECIOUS">
            <item-attr name="is_gem" value="true"/>
        </enum-item>
        <enum-item name="GEM_RARE">
            <item-attr name="is_gem" value="true"/>
        </enum-item>
        <enum-item name="BONE">
            <item-attr name="caption" value="bone"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="IVORY">
            <item-attr name="caption" value="ivory"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="JADE">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="HORN">
            <item-attr name="caption" value="horn"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="AMBER">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="CORAL">
            <item-attr name="is_builtin" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="PEARL">
            <item-attr name="caption" value="pearl"/>
            <item-attr name="is_creature" value="true"/>
        </enum-item>
        <enum-item name="SHELL">
            <item-attr name="caption" value="shell"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="LEATHER">
            <item-attr name="caption" value="leather"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="ADAMANTINE">
            <item-attr name="is_builtin" value="true"/>
            <item-attr name="weight_divisor" value="8"/>
        </enum-item>
        <enum-item name="SILK">
            <item-attr name="caption" value="silk"/>
            <item-attr name="is_creature" value="true"/>
            <item-attr name="weight_divisor" value="8"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="plant"/>
            <item-attr name="is_plant" value="true"/>
            <item-attr name="weight_divisor" value="2"/>
        </enum-item>
        <enum-item name="GLASS_GREEN">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="GLASS_CLEAR">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="GLASS_CRYSTAL">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="SAND">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="WATER">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="ZINC">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="TIN">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="COAL">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="BRONZE">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="BRASS">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="STEEL">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="PIGIRON">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="PLATINUM">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="ELECTRUM">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="POTASH">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="ASH">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="PEARLASH">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="LYE">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="RENDERED_FAT">
            <item-attr name="caption" value="tallow"/>
            <item-attr name="is_creature" value="true"/>
        </enum-item>
        <enum-item name="SOAP_ANIMAL">
            <item-attr name="caption" value="tallow soap"/>
            <item-attr name="is_creature" value="true"/>
        </enum-item>
        <enum-item name="FAT">
            <item-attr name="caption" value="fat"/>
            <item-attr name="is_creature" value="true"/>
        </enum-item>
        <enum-item name="MUD">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="VOMIT">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="BLOOD">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
        <enum-item name="SLIME">
            <item-attr name="is_builtin" value="true"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="matgloss_stone_flags" base-type="uint32_t">
        <ld:field name="LIGHT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="DARK" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="LAVA" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SHARP" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="RIVER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="FLUX" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="matgloss_stone" instance-vector="$global.world.raws.matgloss.stone">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>

        <ld:field name="flags" type-name="matgloss_stone_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="spec_heat" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="heatdam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="colddam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="ignite_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="melting_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="boiling_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fixed_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="matgloss_gem_flags" base-type="uint32_t">
        <ld:field name="ORNAMENTAL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SEMI" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="PRECIOUS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="RARE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="GLASS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="matgloss_gem" instance-vector="$global.world.raws.matgloss.gem">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>

        <ld:field name="flags" type-name="matgloss_gem_flags" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="spec_heat" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="heatdam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="colddam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="ignite_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="melting_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="boiling_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fixed_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="matgloss_plant_flags" base-type="uint32_t">
        <ld:field name="SWAMP" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="RIVER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="CAVE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="FOREST" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SPRING" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SUMMER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="AUTUMN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="WINTER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SEED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EDIBLE_RAW" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EDIBLE_VERMIN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="LEAVES" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EXTRACT_VIAL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EXTRACT_BAG" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EXTRACT_BARREL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="THREAD" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MILL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EXTRACT_STILL_VIAL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="DRINK" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EXTRACT_COOKABLE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="EDIBLE_WHENCOOKED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="COOKABLE_WHEN_MILLED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MILL_DYE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="matgloss_plant" instance-vector="$global.world.raws.matgloss.plant">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>

        <ld:field name="flags" type-name="matgloss_plant_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="drink_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="seedname" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="mill_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="extract_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" count="5" name="temperatures" ld:is-container="true"> // plant, CLOTH, EXTRACT, DRINK, CHEESE
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_temperatures"> // plant, CLOTH, EXTRACT, DRINK, CHEESE
            <ld:field name="spec_heat" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="heatdam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="colddam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="ignite_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="melting_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="boiling_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="fixed_temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        </ld:item> // plant, CLOTH, EXTRACT, DRINK, CHEESE
            
            
            
            
            
            
            
        </ld:field>

        <ld:field name="mill_dye" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="mill_dye_color" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="leaves" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="growdur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="drinkvalue" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="extractvalue" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mill_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="seed_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="drink_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="extract_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="mill_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="genpower" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="frequency" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="clustersize" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="prefstring" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="matgloss_wood_flags">
        <enum-item name="AUTUMNCOLOR"/>
        <enum-item name="WET"/>
        <enum-item name="DRY"/>
        <enum-item name="BIOME_MOUNTAIN"/>
        <enum-item name="BIOME_GLACIER"/>
        <enum-item name="BIOME_TUNDRA"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_SALTWATER"/>

        <enum-item name="BIOME_MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_MANGROVE"/>
        <enum-item name="BIOME_MARSH_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_FOREST_TAIGA"/>

        <enum-item name="BIOME_FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_CONIFER"/>
        <enum-item name="BIOME_FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_MOIST_BROADLEAF"/>
        <enum-item name="BIOME_GRASSLAND_TEMPERATE"/>
        <enum-item name="BIOME_SAVANNA_TEMPERATE"/>
        <enum-item name="BIOME_SHRUBLAND_TEMPERATE"/>

        <enum-item name="BIOME_GRASSLAND_TROPICAL"/>
        <enum-item name="BIOME_SAVANNA_TROPICAL"/>
        <enum-item name="BIOME_SHRUBLAND_TROPICAL"/>
        <enum-item name="BIOME_DESERT_BADLAND"/>
        <enum-item name="BIOME_DESERT_ROCK"/>
        <enum-item name="BIOME_DESERT_SAND"/>
        <enum-item name="BIOME_OCEAN"/>
        <enum-item name="BIOME_INLAND_FRESHWATER"/>

        <enum-item name="BIOME_INLAND_BRACKISHWATER"/>
        <enum-item name="BIOME_INLAND_SALTWATER"/>
        <enum-item name="BIOME_SUBTERRANEAN_RIVER"/>
        <enum-item name="BIOME_SUBTERRANEAN_CHASM"/>
        <enum-item name="BIOME_SUBTERRANEAN_LAVA"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="matgloss_wood" instance-vector="$global.world.raws.matgloss.wood">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="matgloss_wood_flags" ld:is-container="true"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adj" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="prefstring" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item>
        </ld:field>

        <ld:field name="spec_heat" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="heatdam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="colddam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="ignite_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="melting_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="boiling_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fixed_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="material_vec_ref">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="matgloss" ld:is-container="true">
            <ld:item refers-to="(matgloss-target $$._parent._parent.material[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="contaminant">
        <ld:field name="type" comment="0 = creature extract, 1 = liquid" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="creature_id" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>
        <ld:field name="amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dipscript_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="script_file" comment="data/dipscript/dwarf_liaison" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="script_steps" pointer-type="script_stepst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="script_stepst"><ld:item ld:level="3" ld:meta="global" type-name="script_stepst"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="script_vars" pointer-type="script_varst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="script_varst"><ld:item ld:level="3" ld:meta="global" type-name="script_varst"/></ld:item></ld:field>
        <ld:field name="code" comment="DWARF_LIAISON etc" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.code</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dipscript_popup">
        <ld:field ld:level="1" ld:meta="pointer" name="meeting_holder" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="activity" type-name="activity_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="close_screen" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="new_screen" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_stepst">
        <ld:field name="next_step_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" name="setNextStep" ret-type="bool">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="idx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="execute" ret-type="int32_t">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="context" type-name="meeting_context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_context"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="skip" ret-type="int32_t">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="context" type-name="meeting_context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_context"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_setvarst" inherits-from="script_stepst">
        <ld:field name="dest_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="dest_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="src_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="src_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_simpleactionst" inherits-from="script_stepst">
        <ld:field name="type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="subtype" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_conditionalst" inherits-from="script_stepst">
        <ld:field name="condition" ld:level="1" ld:meta="compound" ld:typedef-name="T_condition">
            <ld:field name="var1_type" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var1_name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="comparison" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var2_type" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var2_name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:field>
        <ld:field name="conditional_next_step_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_textviewerst" inherits-from="script_stepst">
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="outvar_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_diphistoryst" inherits-from="script_stepst">
        <ld:field name="event" size="80" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_discussst" inherits-from="script_stepst">
        <ld:field name="event" size="12" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_topicdiscussionst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_constructtopiclistst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_dipeventst" inherits-from="script_step_eventst">
        <ld:field name="parm1" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm2" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm3" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm4" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm5" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_invasionst" inherits-from="script_step_eventst">
        <ld:field name="parm" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_eventst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_varst">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <virtual-methods>
            <vmethod ld:level="1" name="instantiate">
                <ret-type ld:level="3" ld:meta="pointer" type-name="active_script_varst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="active_script_varst"/></ret-type>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_var_unitst" inherits-from="script_varst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_var_longst" inherits-from="script_varst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_varst">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <virtual-methods>
            <vmethod ld:level="1" name="setColor"/>
            <vmethod ld:level="1" name="formatString">
                <ld:field ld:level="2" ld:meta="pointer" type-name="static-string" name="output" ld:is-container="true"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="format" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getValue">
                <ld:field ld:level="2" ld:meta="pointer" name="int_value" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="ref_value" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="setValue">
                <ld:field ld:level="2" ld:meta="pointer" name="var" type-name="meeting_variable" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_variable"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="removeUnit">
                <ld:field ld:level="2" ld:meta="pointer" name="ref_value" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_var_unitst" inherits-from="active_script_varst">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_var_longst" inherits-from="active_script_varst">
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_variable">
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ref" type-name="specific_ref" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="pointer" name="active_var" type-name="active_script_varst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="active_script_varst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_context">
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_diplomat_info">
        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="is_first_contact" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="diplomat_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="associate_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="topic_list" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int32_t" type-name="meeting_topic" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="topic_parms" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_requests" name="sell_requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_requests" name="buy_requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="dipscript" type-name="dipscript_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_info"/></ld:field>
        <ld:field name="cur_step" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="active_script_vars" pointer-type="active_script_varst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="active_script_varst"><ld:item ld:level="3" ld:meta="global" type-name="active_script_varst"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_3"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="dynamic_load" comment="destroy dipscript_info in destructor" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="failure" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="success" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="meeting_event" name="events" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_event"><ld:item ld:level="3" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_entity" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_topic" type-name="meeting_topic" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_topic"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_season" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_season_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_outcome" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_entity" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_season" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_season_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="meeting_topic" base-type="int16_t">
        <enum-item name="DiscussCurrent"/>
        <enum-item name="RequestPeace"/>
        <enum-item name="TreeQuota"/>
        <enum-item name="ExportAgreement"/>
        <enum-item name="ImportAgreement"/>
        <enum-item name="MakeLiaisonRequest"/>
        <enum-item name="PleasantPlace"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="meeting_event_type" base-type="int16_t">
        <enum-item name="AcceptAgreement"/>
        <enum-item name="RejectAgreement"/>
        <enum-item name="AcceptPeace"/>
        <enum-item name="RejectPeace"/>
        <enum-item name="ExportAgreement"/>
        <enum-item name="ImportAgreement"/>
        <enum-item name="LiaisonRequest"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_event">
        <ld:field ld:subtype="enum" name="type" base-type="int16_t" type-name="meeting_event_type" ld:level="1" ld:meta="global"/>
        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field ld:subtype="enum" name="topic" base-type="int16_t" type-name="meeting_topic" ld:level="1" ld:meta="global"/>
            <ld:field ld:subtype="enum" name="item_type" base-type="int16_t" type-name="item_type" comment="weapon, anvil, or seeds" ld:level="1" ld:meta="global"/>
        </ld:field>
        <ld:field name="topic_parm" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="quota_total" comment="item_priority for liaison requests" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="quota_remaining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="season_tick" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="pointer" name="sell_prices" type-name="entity_sell_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="buy_prices" type-name="entity_buy_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="activity_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="unit_actor" type-name="unit" comment="diplomat" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unit_noble" type-name="unit" comment="meeting recipient" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="place" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="next_step" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="checked_building" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="add_delay" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="topic_discussed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="meeting_done" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="state" comment="3" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="delay" comment="0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="tree_quota" comment="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="pet_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pet_item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pet_unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="owner_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="party_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="location" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field name="timer" comment="-1 per 10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="room_rent_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elements" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item>
        </ld:field>
        <ld:field name="rent_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="eviction_underway" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="move_underway" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="schedule_info" key-field="id" instance-vector="$global.world.schedules.all">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="slots" pointer-type="schedule_slot" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="schedule_slot"><ld:item ld:level="3" ld:meta="global" type-name="schedule_slot"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="schedule_slot">
        <ld:field name="type" comment="0:Eat, 1:Sleep, 2-4:???" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="start_time" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="end_time" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="processed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="crime_info">
        <ld:field ld:subtype="enum" name="mode" base-type="int16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="ViolateProductionOrder"/>
            <enum-item name="ViolateExportBan"/>
            <enum-item name="ViolateJobOrder"/>
            <enum-item name="ConspiracyToSlowLabor"/>
            <enum-item name="Murder"/>
            <enum-item name="DisorderlyConduct"/>
            <enum-item name="BuildingDestruction"/>
            <enum-item name="Vandalism"/>
            <enum-item name="ViolateMiningOrder"/>
        </ld:field>

        <ld:field name="punishments" ld:level="1" ld:meta="compound" ld:typedef-name="T_punishments">
            <ld:field name="hammerstrikes" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="prison" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="beating" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="criminal" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="victim" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="punishment_assigned" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="punishment_info">
        <ld:field ld:level="1" ld:meta="pointer" name="criminal" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="officer" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="beating" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="hammer_strikes" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="prison_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="delay" comment="10080" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="pointer" name="jail" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="victims" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="plant_flags" base-type="int32_t">
        <enum-item name="tree_outdoor_wet"/>
        <enum-item name="tree_outdoor_dry"/>
        <enum-item name="tree_indoor_dry"/>
        <enum-item name="tree_indoor_wet"/>
        <enum-item name="shrub_forest"/>
        <enum-item name="shrub_swamp"/>
        <enum-item name="shrub_river"/>
        <enum-item name="shrub_cave"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="plant" instance-vector="$global.world.plants.all" original-name="vegst" key-field="pos">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" type-name="plant_flags" name="flags" ld:level="1" ld:meta="global"/>
        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="plant_id" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="wood_id" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="grow_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="damage_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_damage_flags">
            <ld:field name="is_burning" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contaminants" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="contaminant" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="contaminant"/></ld:item>
        </ld:field>
        <ld:field name="temp_updated_frame" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" name="addContaminant">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
                <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminantByIdx">
                <ld:field name="index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminantByType">
                <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global"/>
                <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="projectile_type">
        <enum-item name="Item"/>
        <enum-item name="Unit"/>
        <enum-item name="Magic"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="proj_list_link">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="projectile" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="projectile"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="projectile_flags" base-type="uint8_t">
        <ld:field name="no_destroy_on_impact" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_hit_ground" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bouncing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="high_flying" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="pierces" comment="also destroys trees" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="to_be_deleted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="projectile" original-name="projst" key-field="id">
        <ld:field ld:level="1" ld:meta="pointer" name="link" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="firer" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="origin_pos" type-name="coord32" ld:level="1" ld:meta="global"/>
        <ld:field name="target_pos" type-name="coord32" ld:level="1" ld:meta="global"/>
        <ld:field name="cur_pos" type-name="coord32" ld:level="1" ld:meta="global"/>
        <ld:field name="distance_flown" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fall_threshold" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_hit_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_ground_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="prev_pos" type-name="coord32" ld:level="1" ld:meta="global"/>

        <ld:field name="flags" type-name="projectile_flags" ld:level="1" ld:meta="global"/>

        <ld:field name="fall_counter" comment="counts down from delay to 0, then it moves" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fall_delay" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="skill_level" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="throw_strength" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="projectile_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="projectile_type"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkImpact">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="noDamageFloor" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkMovement"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="drawSelf"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_itemst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_unitst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_magicst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_raws">
        <ld:field name="matgloss" ld:level="1" ld:meta="compound" ld:typedef-name="T_matgloss">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wood" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="matgloss_wood" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="matgloss_wood"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="stone" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="matgloss_stone" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="matgloss_stone"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gem" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="matgloss_gem" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="matgloss_gem"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plant" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="matgloss_plant" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="matgloss_plant"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="body" ld:level="1" ld:meta="compound" ld:typedef-name="T_body">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="templates" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="body_template" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="body_template"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="glosses" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" key-field="id" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" key-field="id" ld:typedef-name="T_glosses">
                    <ld:field name="id" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field name="oldtext" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field name="newtext" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                </ld:item>
                    
                    
                    
                </ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creatures" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="creature_raw" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="creature_raw"/></ld:item>
        </ld:field>

        <ld:field name="itemdefs" ld:level="1" ld:meta="compound" ld:typedef-name="T_itemdefs">

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef"/></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapons" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_weaponst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_weaponst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomps" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_trapcompst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_trapcompst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toys" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_toyst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_toyst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instruments" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_instrumentst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_instrumentst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_armorst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_armorst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_ammost" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_ammost"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_siegeammost" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_siegeammost"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_glovesst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_glovesst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_shoesst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_shoesst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shields" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_shieldst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_shieldst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helms" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_helmst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_helmst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_pantsst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_pantsst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="food" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="itemdef_foodst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_foodst"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="entity_raw" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="entity_raw"/></ld:item>
        </ld:field>

        <ld:field name="language" ld:level="1" ld:meta="compound" ld:typedef-name="T_language">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="words" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="language_word" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_word"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="symbols" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="language_symbol" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_symbol"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="translations" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="language_translation" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_translation"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="word_table" count="2" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="language_word_table" index-enum="language_name_category" count="38" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_word_table"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="descriptors" ld:level="1" ld:meta="compound" ld:typedef-name="T_descriptors">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="colors" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="descriptor_color" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="descriptor_color"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shapes" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="descriptor_shape" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="descriptor_shape"/></ld:item>
            </ld:field>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="general_ref_type">
        <enum-item name="ARTIFACT"/>
        <enum-item name="ITEM_TYPE"/>
        <enum-item name="COINBATCH"/>
        <enum-item name="MAPSQUARE"/>
        <enum-item name="ENTITY_ART_IMAGE"/>
        <enum-item name="UNIT"/>
        <enum-item name="CONTAINS_UNIT"/>
        <enum-item name="ITEM"/>
        <enum-item name="CONTAINS_ITEM"/>
        <enum-item name="PROJECTILE"/>
        <enum-item name="UNIT_TRAINEE"/>
        <enum-item name="UNIT_ITEMOWNER"/>
        <enum-item name="UNIT_TRADEBRINGER"/>
        <enum-item name="CONTAINED_IN_ITEM"/>
        <enum-item name="UNIT_HOLDER"/>
        <enum-item name="UNIT_WORKER"/>
        <enum-item name="BUILDING"/>
        <enum-item name="BUILDING_CIVZONE_ASSIGNED"/>
        <enum-item name="BUILDING_TRIGGER"/>
        <enum-item name="BUILDING_TRIGGERTARGET"/>
        <enum-item name="BUILDING_CHAIN"/>
        <enum-item name="BUILDING_CAGED"/>
        <enum-item name="BUILDING_CHANNELED"/>
        <enum-item name="BUILDING_HOLDER"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref" original-name="general_refst">
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="general_ref_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="general_ref_type"/></vmethod>
            <vmethod ld:level="1" name="getItem">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getUnit">
                <ret-type ld:level="3" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getProjectile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="projectile" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="projectile"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getBuilding">
                <ret-type ld:level="3" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="setID"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getID"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="general_ref" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="general_ref"/></ret-type>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_artifact" inherits-from="general_ref" original-name="general_ref_artifactst">
        <ld:field name="artifact_id" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_item_type" inherits-from="general_ref" original-name="general_ref_item_typest">
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="item_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="subtype" refers-to="(item-subtype-target $$._parent.type $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_coinbatch" inherits-from="general_ref" original-name="general_ref_coinbatchst">
        <ld:field name="batch" ref-target="coin_batch" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_mapsquare" inherits-from="general_ref" original-name="general_ref_mapsquarest">
        <ld:field ld:subtype="enum" base-type="uint8_t" type-name="tile_chr" name="tile" ld:level="1" ld:meta="global"/>
        <ld:field name="color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_art_image" inherits-from="general_ref" original-name="general_ref_entity_art_imagest">
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="index" comment="lookup in entity.resources.art_image_*" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_projectile" inherits-from="general_ref" original-name="general_ref_projectilest">
        <ld:field name="projectile_id" ref-target="projectile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit" inherits-from="general_ref" original-name="general_ref_unitst">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building" inherits-from="general_ref" original-name="general_ref_buildingst">
        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_item" inherits-from="general_ref" original-name="general_ref_itemst">
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contains_unitst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contains_itemst" inherits-from="general_ref_item"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_traineest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_itemownerst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_tradebringerst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contained_in_itemst" inherits-from="general_ref_item"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_holderst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_workerst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_civzone_assignedst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_triggerst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_triggertargetst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_chainst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_cagedst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_channeledst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_holderst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="specific_ref_type">
        <enum-item name="BUILDING_GENERAL" comment="obsolete"/>
        <enum-item name="UNIT_INVENTORY"/>
        <enum-item name="JOB"/>
        <enum-item name="BUILDING_PARTY"/>
        <enum-item name="UNIT_TRAINEE" comment="obsolete"/>
        <enum-item name="UNIT_ITEMOWNER" comment="obsolete"/>
        <enum-item name="UNIT_TRADEBRINGER" comment="obsolete"/>
        <enum-item name="UNIT_CAGEE"/>
        <enum-item name="UNIT_BEATEE"/>
        <enum-item name="UNIT_FOODRECEIVER"/>

        <enum-item name="UNIT_KIDNAPEE"/>
        <enum-item name="UNIT_PATIENT"/>
        <enum-item name="UNIT_INFANT"/>
        <enum-item name="ENTITY_ITEMOWNER"/>
        <enum-item name="ENTITY_STOLEN"/>
        <enum-item name="ENTITY_OFFERED"/>
        <enum-item name="ACTIVITY"/>
        <enum-item name="ITEM_GENERAL"/>
        <enum-item name="CONTAINS_ITEM" comment="obsolete"/>
        <enum-item name="CONTAINED_IN_ITEM" comment="obsolete"/>

        <enum-item name="CONTAINS_UNIT" comment="obsolete"/>
        <enum-item name="EFFECT"/>
        <enum-item name="DRINK_AREA"/>
        <enum-item name="BUILDING_TRIGGER" comment="obsolete"/>
        <enum-item name="BUILDING_TRIGGERTARGET" comment="obsolete"/>
        <enum-item name="BUILDING_CHAIN" comment="obsolete"/>
        <enum-item name="BUILDING_CAGED" comment="obsolete"/>
        <enum-item name="BUILDING_CIVZONE_ASSIGNED" comment="obsolete"/>
        <enum-item name="BUILDING_CHANNELED" comment="obsolete"/>
        <enum-item name="PETINFO_PET"/>

        <enum-item name="PETINFO_OWNER"/>
        <enum-item name="VERMIN_EVENT"/>
        <enum-item name="VERMIN_ESCAPED_PET"/>
        <enum-item name="ENTITY"/>
        <enum-item name="PLOT_INFO"/>
        <enum-item name="VIEWSCREEN"/>
        <enum-item name="IS_NEMESIS"/>
        <enum-item name="UNIT_ITEM_WRESTLE"/>
        <enum-item name="IS_ARTIFACT"/>
        <enum-item name="NULL_REF"/>

        <enum-item name="DEFAULT"/>
        <enum-item name="UNIT_SLAUGHTEREE"/>
        <enum-item name="HIST_FIG"/>
        <enum-item name="SITE"/>
        <enum-item name="ARTIFACT"/>
        <enum-item name="ITEM_IMPROVEMENT"/>
        <enum-item name="COIN_FRONT"/>
        <enum-item name="COIN_BACK"/>
        <enum-item name="DETAIL_EVENT"/>
        <enum-item name="SUBREGION"/>

        <enum-item name="ART_IMAGE"/>
        <enum-item name="CREATURE_DEF"/>
        <enum-item name="PROJECTILE" comment="obsolete"/>
        <enum-item name="GENERAL_REF"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="specific_ref">
        <ld:field ld:subtype="enum" type-name="specific_ref_type" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field ld:level="1" ld:meta="pointer" name="object" ld:is-container="true"/>
            <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="party" type-name="party_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="party_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="activity" type-name="activity_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="effect" type-name="effect_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="effect_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="drink_area" type-name="drink_area" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="drink_area"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="pet" type-name="pet_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="pet_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="vermin" type-name="vermin" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="vermin"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="screen" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="nemesis" type-name="nemesis_record" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="nemesis_record"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="artifact" type-name="artifact_record" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="artifact_record"/></ld:field>
        </ld:field>
        <ld:field is-union="true" name="arg2" ld:level="1" ld:meta="compound" ld:typedef-name="T_arg2" ld:in-union="true">
            <ld:field ld:level="2" ld:meta="pointer" name="wrestle" ld:is-container="true"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_entity_link_type">
        <enum-item name="LEADER"/>
        <enum-item name="GUARD"/>
        <enum-item name="MEMBER"/>
        <enum-item name="MERCENARY"/>
        <enum-item name="ENEMY"/>
        <enum-item name="CRIMINAL"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="histfig_entity_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="histfig_entity_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="entity_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="link_strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_site_link_type">
        <enum-item name="SHOPKEEPER"/>
        <enum-item name="SEAT_OF_POWER"/>
        <enum-item name="HANGOUT"/>
        <enum-item name="HOME"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="histfig_site_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="histfig_site_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="site_id" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_hf_link_type">
        <enum-item name="MOTHER"/>
        <enum-item name="FATHER"/>
        <enum-item name="SPOUSE"/>
        <enum-item name="CHILD"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="histfig_hf_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="histfig_hf_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="target_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_entity_link_type">
        <enum-item name="PARENT"/>
        <enum-item name="CHILD"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_entity_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="entity_entity_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="target" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_site_link_type">
        <enum-item name="GOV_CAPITAL" comment="uncertain"/>
        <enum-item name="CIV_CAPITAL" comment="uncertain"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_site_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="entity_site_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="profession" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="military" type-name="bool" default-value="false"/>
        <enum-attr name="parent" type-name="profession" default-value="NONE"/>
        <enum-attr name="can_assign_labor" type-name="bool" default-value="true" comment="Can be assigned any labors, i.e. not child or baby"/>
        <enum-attr name="color" type-name="int8_t" default-value="-1"/>
        <enum-attr name="moodable" type-name="bool" default-value="false"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINER">
            <item-attr name="caption" value="Miner"/>
            <item-attr name="color" value="7"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CARPENTER">
            <item-attr name="caption" value="Carpenter"/>
            <item-attr name="color" value="14"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MASON">
            <item-attr name="caption" value="Mason"/>
            <item-attr name="color" value="15"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TRAPPER">
            <item-attr name="caption" value="Trapper"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="METALSMITH">
            <item-attr name="caption" value="Metalsmith"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="JEWELER">
            <item-attr name="caption" value="Jeweler"/>
            <item-attr name="color" value="10"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CRAFTSMAN">
            <item-attr name="caption" value="Craftsman"/>
            <item-attr name="color" value="9"/>
        </enum-item>
        <enum-item name="KING">
            <item-attr name="caption" value="King"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="13"/>
        </enum-item>
        <enum-item name="KING_CONSORT">
            <item-attr name="caption" value="King Consort"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="11"/>
        </enum-item>
        <enum-item name="FISHERMAN">
            <item-attr name="caption" value="Fisherman"/>
            <item-attr name="color" value="1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 10

        <enum-item name="FARMER">
            <item-attr name="caption" value="Farmer"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MECHANIC">
            <item-attr name="caption" value="Mechanic"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MANAGER">
            <item-attr name="caption" value="Manager"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="MAYOR">
            <item-attr name="caption" value="Mayor"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GOVERNOR">
            <item-attr name="caption" value="Governor"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="BROKER">
            <item-attr name="caption" value="Broker"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="MINISTER_TRADE">
            <item-attr name="caption" value="Trade Minister"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILDMASTER">
            <item-attr name="caption" value="Guildmaster"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="BOOKKEEPER">
            <item-attr name="caption" value="Bookkeeper"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="TREASURER">
            <item-attr name="caption" value="Treasurer"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>

        -- 20

        <enum-item name="HOARDMASTER">
            <item-attr name="caption" value="Hoardmaster"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="TAXCOLLECTOR">
            <item-attr name="caption" value="Tax Collector"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="14"/>
        </enum-item>
        <enum-item name="EXECUTIONER">
            <item-attr name="caption" value="Hammerer"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="SHERIFF">
            <item-attr name="caption" value="Sheriff"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="9"/>
        </enum-item>
        <enum-item name="BARON">
            <item-attr name="caption" value="Baron"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="COUNT">
            <item-attr name="caption" value="Count"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="DUKE">
            <item-attr name="caption" value="Duke"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="BARON_CONSORT">
            <item-attr name="caption" value="Baron Consort"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="COUNT_CONSORT">
            <item-attr name="caption" value="Count Consort"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="DUKE_CONSORT">
            <item-attr name="caption" value="Duke Consort"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>

        -- 30

        <enum-item name="GUILD_MINER">
            <item-attr name="caption" value="Miners Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILD_CARPENTER">
            <item-attr name="caption" value="Carpenters Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILD_MASON">
            <item-attr name="caption" value="Masons Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILD_METALSMITH">
            <item-attr name="caption" value="Metalsmiths Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILD_JEWELER">
            <item-attr name="caption" value="Jewelers Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="GUILD_CRAFTSMAN">
            <item-attr name="caption" value="Craftsmen Guild"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="HOUSE_DEATH">
            <item-attr name="caption" value="House Rash"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="HOUSE_ANIMAL">
            <item-attr name="caption" value="House Fer"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="HOUSE_FARMER">
            <item-attr name="caption" value="House Ber"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="PHILOSOPHER">
            <item-attr name="caption" value="Philosopher"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>

        -- 40

        <enum-item name="ADVISOR">
            <item-attr name="caption" value="Advisor"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_AXE">
            <item-attr name="caption" value="Order of the Axe"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_MACE">
            <item-attr name="caption" value="Order of the Mace"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_SWORD">
            <item-attr name="caption" value="Order of the Sword"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_HAMMER">
            <item-attr name="caption" value="Order of the Hammer"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_CROSSBOW">
            <item-attr name="caption" value="Order of the Crossbow"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="CULT_SPEAR">
            <item-attr name="caption" value="Order of the Spear"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="ALCHEMIST">
            <item-attr name="caption" value="Alchemist"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="DUNGEONMASTER">
            <item-attr name="caption" value="Dungeon Master"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="MERCHANT">
            <item-attr name="caption" value="Merchant"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="7"/>
        </enum-item>

        -- 50

        <enum-item name="DIPLOMAT">
            <item-attr name="caption" value="Diplomat"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="GUILDREP">
            <item-attr name="caption" value="Guild Representative"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="MERCHANTBARON">
            <item-attr name="caption" value="Merchant Baron"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="MERCHANTPRINCE">
            <item-attr name="caption" value="Merchant Prince"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="OUTPOSTLIAISON">
            <item-attr name="caption" value="Outpost Liaison"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="DRUID">
            <item-attr name="caption" value="Druid"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="11"/>
        </enum-item>
        <enum-item name="CHAMPION">
            <item-attr name="caption" value="Champion"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="HAMMERMAN">
            <item-attr name="caption" value="Hammerman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="MASTER_HAMMERMAN">
            <item-attr name="caption" value="Hammer Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="13"/>
        </enum-item>
        <enum-item name="SPEARMAN">
            <item-attr name="caption" value="Spearman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="6"/>
        </enum-item>

        -- 60

        <enum-item name="MASTER_SPEARMAN">
            <item-attr name="caption" value="Spearmaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="14"/>
        </enum-item>
        <enum-item name="CROSSBOWMAN">
            <item-attr name="caption" value="Crossbowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="2"/>
        </enum-item>
        <enum-item name="MASTER_CROSSBOWMAN">
            <item-attr name="caption" value="Elite Crossbowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="10"/>
        </enum-item>
        <enum-item name="WRESTLER">
            <item-attr name="caption" value="Wrestler"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="7"/>
        </enum-item>
        <enum-item name="MASTER_WRESTLER">
            <item-attr name="caption" value="Elite Wrestler"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="AXEMAN">
            <item-attr name="caption" value="Axeman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="1"/>
        </enum-item>
        <enum-item name="MASTER_AXEMAN">
            <item-attr name="caption" value="Axe Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="9"/>
        </enum-item>
        <enum-item name="SWORDSMAN">
            <item-attr name="caption" value="Swordsman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="3"/>
        </enum-item>
        <enum-item name="MASTER_SWORDSMAN">
            <item-attr name="caption" value="Swordmaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="11"/>
        </enum-item>
        <enum-item name="MACEMAN">
            <item-attr name="caption" value="Maceman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="4"/>
        </enum-item>

        -- 70

        <enum-item name="MASTER_MACEMAN">
            <item-attr name="caption" value="Mace Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="12"/>
        </enum-item>
        <enum-item name="PIKEMAN">
            <item-attr name="caption" value="Pikeman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="6"/>
        </enum-item>
        <enum-item name="MASTER_PIKEMAN">
            <item-attr name="caption" value="Pikemaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="14"/>
        </enum-item>
        <enum-item name="BOWMAN">
            <item-attr name="caption" value="Bowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="2"/>
        </enum-item>
        <enum-item name="MASTER_BOWMAN">
            <item-attr name="caption" value="Elite Bowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="10"/>
        </enum-item>
        <enum-item name="BLOWGUNMAN">
            <item-attr name="caption" value="Blowgunner"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="2"/>
        </enum-item>
        <enum-item name="MASTER_BLOWGUNMAN">
            <item-attr name="caption" value="Master Blowgunner"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="10"/>
        </enum-item>
        <enum-item name="RECRUIT">
            <item-attr name="caption" value="Recruit"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TRAINED_HUNTER">
            <item-attr name="caption" value="Hunting Animal"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="TRAINED_WAR">
            <item-attr name="caption" value="War Animal"/>
            <item-attr name="color" value="8"/>
        </enum-item>

        -- 80

        <enum-item name="MASTER_THIEF">
            <item-attr name="caption" value="Master Thief"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="THIEF">
            <item-attr name="caption" value="Thief"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="STANDARD">
            <item-attr name="caption" value="Peasant"/>
            <item-attr name="color" value="-1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CHILD">
            <item-attr name="caption" value="Child"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="4"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BABY">
            <item-attr name="caption" value="Baby"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="4"/>
        </enum-item>
        <enum-item name="DRUNK">
            <item-attr name="caption" value="Drunk"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="6"/>
        </enum-item>
        <enum-item name="LASHER">
            <item-attr name="caption" value="Lasher"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="MASTER_LASHER">
            <item-attr name="caption" value="Master Lasher"/>
            <item-attr name="military" value="true"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="color" value="8"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_labor">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINE">
            <item-attr name="caption" value="Mining"/>
        </enum-item>
        <enum-item name="HAUL_STONE">
            <item-attr name="caption" value="Stone Hauling"/>
        </enum-item>
        <enum-item name="HAUL_WOOD">
            <item-attr name="caption" value="Wood Hauling"/>
        </enum-item>
        <enum-item name="HAUL_BODY">
            <item-attr name="caption" value="Burial"/>
        </enum-item>
        <enum-item name="HAUL_FOOD">
            <item-attr name="caption" value="Food Hauling"/>
        </enum-item>
        <enum-item name="HAUL_REFUSE">
            <item-attr name="caption" value="Refuse Hauling"/>
        </enum-item>
        <enum-item name="HAUL_ITEM">
            <item-attr name="caption" value="Item Hauling"/>
        </enum-item>
        <enum-item name="HAUL_FURNITURE">
            <item-attr name="caption" value="Furniture Hauling"/>
        </enum-item>
        <enum-item name="HAUL_ANIMAL">
            <item-attr name="caption" value="Animal Hauling"/>
        </enum-item>
        <enum-item name="CLEAN">
            <item-attr name="caption" value="Cleaning"/>
        </enum-item>

        -- 10

        <enum-item name="CUTWOOD">
            <item-attr name="caption" value="Wood Cutting"/>
        </enum-item>
        <enum-item name="CARPENTER">
            <item-attr name="caption" value="Carpentry"/>
        </enum-item>
        <enum-item name="DETAIL">
            <item-attr name="caption" value="Stone Detailing"/>
        </enum-item>
        <enum-item name="MASON">
            <item-attr name="caption" value="Masonry"/>
        </enum-item>
        <enum-item name="ARCHITECT">
            <item-attr name="caption" value="Architecture"/>
        </enum-item>
        <enum-item name="ANIMALTRAIN">
            <item-attr name="caption" value="Animal Training"/>
        </enum-item>
        <enum-item name="ANIMALCARE">
            <item-attr name="caption" value="Animal Care"/>
        </enum-item>
        <enum-item name="HEALTHCARE">
            <item-attr name="caption" value="Health Care"/>
        </enum-item>
        <enum-item name="BUTCHER">
            <item-attr name="caption" value="Butchery"/>
        </enum-item>
        <enum-item name="TRAPPER">
            <item-attr name="caption" value="Trapping"/>
        </enum-item>

        -- 20

        <enum-item name="LEATHER">
            <item-attr name="caption" value="Leatherworking"/>
        </enum-item>
        <enum-item name="TANNER">
            <item-attr name="caption" value="Tanning"/>
        </enum-item>
        <enum-item name="BREWER">
            <item-attr name="caption" value="Brewing"/>
        </enum-item>
        <enum-item name="ALCHEMIST">
            <item-attr name="caption" value="Alchemy"/>
        </enum-item>
        <enum-item name="WEAVER">
            <item-attr name="caption" value="Weaving"/>
        </enum-item>
        <enum-item name="CLOTHESMAKER">
            <item-attr name="caption" value="Clothesmaking"/>
        </enum-item>
        <enum-item name="MILLER">
            <item-attr name="caption" value="Milling"/>
        </enum-item>
        <enum-item name="FARMING_WORKSHOP">
            <item-attr name="caption" value="Farming (Workshop)"/>
        </enum-item>
        <enum-item name="COOK">
            <item-attr name="caption" value="Cooking"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="Farming (Fields)"/>
        </enum-item>

        -- 30

        <enum-item name="HERBALIST">
            <item-attr name="caption" value="Plant Gathering"/>
        </enum-item>
        <enum-item name="FISH">
            <item-attr name="caption" value="Fishing"/>
        </enum-item>
        <enum-item name="CLEAN_FISH">
            <item-attr name="caption" value="Fish Cleaning"/>
        </enum-item>
        <enum-item name="HUNT">
            <item-attr name="caption" value="Hunting"/>
        </enum-item>
        <enum-item name="SMELT">
            <item-attr name="caption" value="Furnace Operating"/>
        </enum-item>
        <enum-item name="EXTRACT_ADAMANTINE">
            <item-attr name="caption" value="Adamantine Extraction"/>
        </enum-item>
        <enum-item name="WORK_ADAMANTINE">
            <item-attr name="caption" value="Adamantine Working"/>
        </enum-item>
        <enum-item name="FORGE">
            <item-attr name="caption" value="Metalsmithing"/>
        </enum-item>
        <enum-item name="GEM">
            <item-attr name="caption" value="Jeweling"/>
        </enum-item>
        <enum-item name="CRAFT">
            <item-attr name="caption" value="Craftsworking"/>
        </enum-item>

        -- 40

        <enum-item name="GLASSMAKER">
            <item-attr name="caption" value="Glassmaking"/>
        </enum-item>
        <enum-item name="AXE">
            <item-attr name="caption" value="Axe-fighting"/>
        </enum-item>
        <enum-item name="SWORD">
            <item-attr name="caption" value="Sword-fighting"/>
        </enum-item>
        <enum-item name="MACE">
            <item-attr name="caption" value="Mace-fighting"/>
        </enum-item>
        <enum-item name="HAMMER">
            <item-attr name="caption" value="Hammer-fighting"/>
        </enum-item>
        <enum-item name="SPEAR">
            <item-attr name="caption" value="Spear-fighting"/>
        </enum-item>
        <enum-item name="DAGGER">
            <item-attr name="caption" value="Dagger-fighting"/>
        </enum-item>
        <enum-item name="CROSSBOW">
            <item-attr name="caption" value="Crossbow-fighting"/>
        </enum-item>
        <enum-item name="BOW">
            <item-attr name="caption" value="Bow-fighting"/>
        </enum-item>
        <enum-item name="BLOWGUN">
            <item-attr name="caption" value="Blowgun-fighting"/>
        </enum-item>

        -- 50

        <enum-item name="PIKE">
            <item-attr name="caption" value="Pike-fighting"/>
        </enum-item>
        <enum-item name="WHIP">
            <item-attr name="caption" value="Whip-fighting"/>
        </enum-item>
        <enum-item name="SHIELD">
            <item-attr name="caption" value="Shield Using"/>
        </enum-item>
        <enum-item name="ARMOR">
            <item-attr name="caption" value="Armor Using"/>
        </enum-item>
        <enum-item name="SIEGECRAFT">
            <item-attr name="caption" value="Siege Engineering"/>
        </enum-item>
        <enum-item name="SIEGEOPERATE">
            <item-attr name="caption" value="Siege Operating"/>
        </enum-item>
        <enum-item name="BOWYER">
            <item-attr name="caption" value="Crossbow-making"/>
        </enum-item>
        <enum-item name="MECHANIC">
            <item-attr name="caption" value="Mechanics"/>
        </enum-item>
        <enum-item name="WEAPON_NUMBER">
            <item-attr name="caption" value="Weapon Number"/>
        </enum-item>
        <enum-item name="ASHERY">
            <item-attr name="caption" value="Ashery Operating"/>
        </enum-item>

        -- 60

        <enum-item name="DYER">
            <item-attr name="caption" value="Dyeing"/>
        </enum-item>
        <enum-item name="BURN_WOOD">
            <item-attr name="caption" value="Wood Burning"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_skill_class" comment="not in DF">
        <enum-item name="Normal"/>
        <enum-item name="Medical"/>
        <enum-item name="Personal"/>
        <enum-item name="MilitaryWeapon"/>
        <enum-item name="MilitaryAttack"/>
        <enum-item name="MilitaryDefense"/>
        <enum-item name="MilitaryMisc"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_skill" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="caption_noun"/>
        <enum-attr name="profession" type-name="profession" default-value="NONE"/>
        <enum-attr name="labor" type-name="unit_labor" default-value="NONE"/>
        <enum-attr name="type" type-name="job_skill_class" default-value="Normal"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINING">
            <item-attr name="caption" value="Mining"/>
            <item-attr name="caption_noun" value="Miner"/>
            <item-attr name="profession" value="MINER"/>
            <item-attr name="labor" value="MINE"/>
        </enum-item>
        <enum-item name="WOODCUTTING">
            <item-attr name="caption" value="Wood Cutting"/>
            <item-attr name="caption_noun" value="Wood Cutter"/>
            <item-attr name="labor" value="CUTWOOD"/>
        </enum-item>
        <enum-item name="CARPENTRY">
            <item-attr name="caption" value="Carpentry"/>
            <item-attr name="caption_noun" value="Carpenter"/>
            <item-attr name="profession" value="CARPENTER"/>
            <item-attr name="labor" value="CARPENTER"/>
        </enum-item>
        <enum-item name="DETAILSTONE">
            <item-attr name="caption" value="Engraving"/>
            <item-attr name="caption_noun" value="Engraver"/>
            <item-attr name="profession" value="MASON"/>
            <item-attr name="labor" value="DETAIL"/>
        </enum-item>
        <enum-item name="MASONRY">
            <item-attr name="caption" value="Masonry"/>
            <item-attr name="caption_noun" value="Mason"/>
            <item-attr name="profession" value="MASON"/>
            <item-attr name="labor" value="MASON"/>
        </enum-item>
        <enum-item name="ANIMALTRAIN">
            <item-attr name="caption" value="Animal Training"/>
            <item-attr name="caption_noun" value="Animal Trainer"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="ANIMALCARE">
            <item-attr name="caption" value="Animal Caretaking"/>
            <item-attr name="caption_noun" value="Animal Caretaker"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="ANIMALCARE"/>
        </enum-item>
        <enum-item name="DISSECT_FISH">
            <item-attr name="caption" value="Fish Dissection"/>
            <item-attr name="caption_noun" value="Fish Dissector"/>
            <item-attr name="profession" value="FISHERMAN"/>
            <item-attr name="labor" value="CLEAN_FISH"/>
        </enum-item>
        <enum-item name="DISSECT_VERMIN">
            <item-attr name="caption" value="Animal Dissection"/>
            <item-attr name="caption_noun" value="Animal Dissector"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="TRAPPER"/>
        </enum-item>
        <enum-item name="PROCESSFISH">
            <item-attr name="caption" value="Fish Cleaning"/>
            <item-attr name="caption_noun" value="Fish Cleaner"/>
            <item-attr name="profession" value="FISHERMAN"/>
            <item-attr name="labor" value="CLEAN_FISH"/>
        </enum-item>

        -- 10

        <enum-item name="BUTCHER">
            <item-attr name="caption" value="Butchery"/>
            <item-attr name="caption_noun" value="Butcher"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="BUTCHER"/>
        </enum-item>
        <enum-item name="TRAPPING">
            <item-attr name="caption" value="Trapping"/>
            <item-attr name="caption_noun" value="Trapper"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="TRAPPER"/>
        </enum-item>
        <enum-item name="TANNER">
            <item-attr name="caption" value="Tanning"/>
            <item-attr name="caption_noun" value="Tanner"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="TANNER"/>
        </enum-item>
        <enum-item name="WEAVING">
            <item-attr name="caption" value="Weaving"/>
            <item-attr name="caption_noun" value="Weaver"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="WEAVER"/>
        </enum-item>
        <enum-item name="BREWING">
            <item-attr name="caption" value="Brewing"/>
            <item-attr name="caption_noun" value="Brewer"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="BREWER"/>
        </enum-item>
        <enum-item name="ALCHEMY">
            <item-attr name="caption" value="Alchemy"/>
            <item-attr name="caption_noun" value="Alchemist"/>
            <item-attr name="labor" value="ALCHEMIST"/>
        </enum-item>
        <enum-item name="CLOTHESMAKING">
            <item-attr name="caption" value="Clothes Making"/>
            <item-attr name="caption_noun" value="Clothes Maker"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="CLOTHESMAKER"/>
        </enum-item>
        <enum-item name="MILLING">
            <item-attr name="caption" value="Milling"/>
            <item-attr name="caption_noun" value="Miller"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="MILLER"/>
        </enum-item>
        <enum-item name="PROCESSPLANTS">
            <item-attr name="caption" value="Threshing"/>
            <item-attr name="caption_noun" value="Thresher"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="FARMING_WORKSHOP"/>
        </enum-item>
        <enum-item name="CHEESEMAKING">
            <item-attr name="caption" value="Cheese Making"/>
            <item-attr name="caption_noun" value="Cheese Maker"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="FARMING_WORKSHOP"/>
        </enum-item>

        -- 20

        <enum-item name="MILK">
            <item-attr name="caption" value="Milking"/>
            <item-attr name="caption_noun" value="Milker"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="FARMING_WORKSHOP"/>
        </enum-item>
        <enum-item name="COOK">
            <item-attr name="caption" value="Cooking"/>
            <item-attr name="caption_noun" value="Cook"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="COOK"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="Growing"/>
            <item-attr name="caption_noun" value="Grower"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="PLANT"/>
        </enum-item>
        <enum-item name="HERBALISM">
            <item-attr name="caption" value="Herbalism"/>
            <item-attr name="caption_noun" value="Herbalist"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="HERBALIST"/>
        </enum-item>
        <enum-item name="FISH">
            <item-attr name="caption" value="Fishing"/>
            <item-attr name="caption_noun" value="Fisherman"/>
            <item-attr name="profession" value="FISHERMAN"/>
            <item-attr name="labor" value="FISH"/>
        </enum-item>
        <enum-item name="SMELT">
            <item-attr name="caption" value="Furnace Operation"/>
            <item-attr name="caption_noun" value="Furnace Operator"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="SMELT"/>
        </enum-item>
        <enum-item name="EXTRACT_ADAMANTINE">
            <item-attr name="caption" value="Adamantine Extraction"/>
            <item-attr name="caption_noun" value="Adamantine Extractor"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="EXTRACT_ADAMANTINE"/>
        </enum-item>
        <enum-item name="FORGE_WEAPON">
            <item-attr name="caption" value="Weaponsmithing"/>
            <item-attr name="caption_noun" value="Weaponsmith"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="FORGE"/>
        </enum-item>
        <enum-item name="FORGE_ARMOR">
            <item-attr name="caption" value="Armorsmithing"/>
            <item-attr name="caption_noun" value="Armorsmith"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="FORGE"/>
        </enum-item>
        <enum-item name="FORGE_FURNITURE">
            <item-attr name="caption" value="Metalsmithing"/>
            <item-attr name="caption_noun" value="Metalsmith"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="FORGE"/>
        </enum-item>

        -- 30

        <enum-item name="CUTGEM">
            <item-attr name="caption" value="Gem Cutting"/>
            <item-attr name="caption_noun" value="Gem Cutter"/>
            <item-attr name="profession" value="JEWELER"/>
            <item-attr name="labor" value="GEM"/>
        </enum-item>
        <enum-item name="ENCRUSTGEM">
            <item-attr name="caption" value="Gem Setting"/>
            <item-attr name="caption_noun" value="Jeweler"/>
            <item-attr name="profession" value="JEWELER"/>
            <item-attr name="labor" value="GEM"/>
        </enum-item>
        <enum-item name="WOODCRAFT">
            <item-attr name="caption" value="Wood Crafting"/>
            <item-attr name="caption_noun" value="Wood Crafter"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="CRAFT"/>
        </enum-item>
        <enum-item name="STONECRAFT">
            <item-attr name="caption" value="Stone Crafting"/>
            <item-attr name="caption_noun" value="Stone Crafter"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="CRAFT"/>
        </enum-item>
        <enum-item name="METALCRAFT">
            <item-attr name="caption" value="Metal Crafting"/>
            <item-attr name="caption_noun" value="Metal Crafter"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="FORGE"/>
        </enum-item>
        <enum-item name="GLASSMAKER">
            <item-attr name="caption" value="Glassmaking"/>
            <item-attr name="caption_noun" value="Glassmaker"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="GLASSMAKER"/>
        </enum-item>
        <enum-item name="ADAMANTINE_WORK">
            <item-attr name="caption" value="Adamantine Working"/>
            <item-attr name="caption_noun" value="Adamantine Worker"/>
            <item-attr name="profession" value="METALSMITH"/>
            <item-attr name="labor" value="WORK_ADAMANTINE"/>
        </enum-item>
        <enum-item name="ADAMANTINE_SMELT">
            <item-attr name="caption" value="Adamantine Smelting"/>
            <item-attr name="caption_noun" value="Adamantine Smelter"/>
            <item-attr name="labor" value="WORK_ADAMANTINE"/>
        </enum-item>
        <enum-item name="ADAMANTINE_WEAVE">
            <item-attr name="caption" value="Adamantine Weaving"/>
            <item-attr name="caption_noun" value="Adamantine Weaver"/>
            <item-attr name="labor" value="WORK_ADAMANTINE"/>
        </enum-item>
        <enum-item name="LEATHERWORK">
            <item-attr name="caption" value="Leatherworking"/>
            <item-attr name="caption_noun" value="Leatherworker"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="LEATHER"/>
        </enum-item>

        -- 40

        <enum-item name="BONECARVE">
            <item-attr name="caption" value="Bone Carving"/>
            <item-attr name="caption_noun" value="Bone Carver"/>
            <item-attr name="profession" value="CRAFTSMAN"/>
            <item-attr name="labor" value="CRAFT"/>
        </enum-item>
        <enum-item name="UNARMED">
            <item-attr name="caption" value="Wrestling"/>
            <item-attr name="caption_noun" value="Wrestler"/>
            <item-attr name="profession" value="WRESTLER"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="AXE">
            <item-attr name="caption" value="Axe"/>
            <item-attr name="caption_noun" value="Axeman"/>
            <item-attr name="profession" value="AXEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SWORD">
            <item-attr name="caption" value="Sword"/>
            <item-attr name="caption_noun" value="Swordsman"/>
            <item-attr name="profession" value="SWORDSMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="DAGGER">
            <item-attr name="caption" value="Knife"/>
            <item-attr name="caption_noun" value="Knife User"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="MACE">
            <item-attr name="caption" value="Mace"/>
            <item-attr name="caption_noun" value="Maceman"/>
            <item-attr name="profession" value="MACEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="HAMMER">
            <item-attr name="caption" value="Hammer"/>
            <item-attr name="caption_noun" value="Hammerman"/>
            <item-attr name="profession" value="HAMMERMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SPEAR">
            <item-attr name="caption" value="Spear"/>
            <item-attr name="caption_noun" value="Spearman"/>
            <item-attr name="profession" value="SPEARMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="CROSSBOW">
            <item-attr name="caption" value="Crossbow"/>
            <item-attr name="caption_noun" value="Crossbowman"/>
            <item-attr name="profession" value="CROSSBOWMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SHIELD">
            <item-attr name="caption" value="Shield"/>
            <item-attr name="caption_noun" value="Shield User"/>
            <item-attr name="type" value="MilitaryDefense"/>
        </enum-item>

        -- 50

        <enum-item name="ARMOR">
            <item-attr name="caption" value="Armor"/>
            <item-attr name="caption_noun" value="Armor User"/>
            <item-attr name="type" value="MilitaryDefense"/>
        </enum-item>
        <enum-item name="SIEGECRAFT">
            <item-attr name="caption" value="Siege Engineering"/>
            <item-attr name="caption_noun" value="Engineer"/>
            <item-attr name="profession" value="CARPENTER"/>
            <item-attr name="labor" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="SIEGEOPERATE">
            <item-attr name="caption" value="Siege Operation"/>
            <item-attr name="caption_noun" value="Operator"/>
            <item-attr name="labor" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="BOWYER">
            <item-attr name="caption" value="Bowmaking"/>
            <item-attr name="caption_noun" value="Bowyer"/>
            <item-attr name="profession" value="CARPENTER"/>
            <item-attr name="labor" value="BOWYER"/>
        </enum-item>
        <enum-item name="PIKE">
            <item-attr name="caption" value="Pike"/>
            <item-attr name="caption_noun" value="Pikeman"/>
            <item-attr name="profession" value="PIKEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="WHIP">
            <item-attr name="caption" value="Lash"/>
            <item-attr name="caption_noun" value="Lasher"/>
            <item-attr name="profession" value="LASHER"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="BOW">
            <item-attr name="caption" value="Bow"/>
            <item-attr name="caption_noun" value="Bowman"/>
            <item-attr name="profession" value="BOWMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="BLOWGUN">
            <item-attr name="caption" value="Blowgun"/>
            <item-attr name="caption_noun" value="Blowgunner"/>
            <item-attr name="profession" value="BLOWGUNMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="THROW">
            <item-attr name="caption" value="Throwing"/>
            <item-attr name="caption_noun" value="Thrower"/>
            <item-attr name="type" value="MilitaryAttack"/>
        </enum-item>
        <enum-item name="MECHANICS">
            <item-attr name="caption" value="Machinery"/>
            <item-attr name="caption_noun" value="Mechanic"/>
            <item-attr name="profession" value="MECHANIC"/>
            <item-attr name="labor" value="MECHANIC"/>
        </enum-item>

        -- 60

        <enum-item name="MAGIC_NATURE">
            <item-attr name="caption" value="Nature"/>
            <item-attr name="caption_noun" value="Druid"/>
        </enum-item>
        <enum-item name="SNEAK">
            <item-attr name="caption" value="Ambush"/>
            <item-attr name="caption_noun" value="Ambusher"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="HUNT"/>
        </enum-item>
        <enum-item name="DESIGNBUILDING">
            <item-attr name="caption" value="Building Design"/>
            <item-attr name="caption_noun" value="Building Designer"/>
            <item-attr name="labor" value="ARCHITECT"/>
        </enum-item>
        <enum-item name="WOOD_BURNING">
            <item-attr name="caption" value="Wood Burning"/>
            <item-attr name="caption_noun" value="Wood Burner"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="BURN_WOOD"/>
        </enum-item>
        <enum-item name="LYE_MAKING">
            <item-attr name="caption" value="Lye Making"/>
            <item-attr name="caption_noun" value="Lye Maker"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="ASHERY"/>
        </enum-item>
        <enum-item name="SOAP_MAKING">
            <item-attr name="caption" value="Soap Making"/>
            <item-attr name="caption_noun" value="Soaper"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="ALCHEMIST"/>
        </enum-item>
        <enum-item name="POTASH_MAKING">
            <item-attr name="caption" value="Potash Making"/>
            <item-attr name="caption_noun" value="Potash Maker"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="ASHERY"/>
        </enum-item>
        <enum-item name="DYER">
            <item-attr name="caption" value="Dyeing"/>
            <item-attr name="caption_noun" value="Dyer"/>
            <item-attr name="profession" value="FARMER"/>
            <item-attr name="labor" value="DYER"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="hauler_type">
        <enum-item name="Any"/>
        <enum-item name="Stone"/>
        <enum-item name="Wood"/>
        <enum-item name="Item"/>
        <enum-item name="Bin"/>
        <enum-item name="Body"/>
        <enum-item name="Food"/>
        <enum-item name="Refuse"/>
        <enum-item name="Furniture"/>
        <enum-item name="Animal"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="stockpile_settings_food">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="meat_fish" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="unprepared_fish" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="plants" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="drink_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="drink_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="cheese_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="cheese_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="seeds" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="leaves" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="powder_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="powder_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="glob" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="extract_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="extract_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" name="liquid_misc" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="stockpile_category" base-type="int16_t">
        <enum-item name="Remove"/>
        <enum-item name="Animal"/>
        <enum-item name="Food"/>
        <enum-item name="Furniture"/>
        <enum-item name="Graveyard"/>
        <enum-item name="Refuse"/>
        <enum-item name="Stone"/>
        <enum-item name="Ore"/>
        <enum-item name="Mining"/>
        <enum-item name="Ammo"/>
        <enum-item name="Coins"/>
        <enum-item name="BarBlock"/>
        <enum-item name="Gem"/>
        <enum-item name="FinishedGoods"/>
        <enum-item name="Leather"/>
        <enum-item name="Cloth"/>
        <enum-item name="Wood"/>
        <enum-item name="Weapons"/>
        <enum-item name="Armor"/>
        <enum-item name="Custom"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="item_category" base-type="uint32_t">
        <ld:field name="animals" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="food" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="furniture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="graveyard" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="refuse" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ore" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ammo" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="coins" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bars" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="gems" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="finished_goods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="leather" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cloth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="weapons" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="armor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="stockpile_settings">
        <ld:field name="item_categories" type-name="item_category" ld:level="1" ld:meta="global"/>

        <ld:field name="animals" ld:level="1" ld:meta="compound" ld:typedef-name="T_animals">
            <ld:field name="empty_cages" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="empty_traps" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="enabled" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="food" ld:level="1" ld:meta="compound" ld:typedef-name="T_food">
            <ld:field type-name="stockpile_settings_food" name="type" ld:level="2" ld:meta="global"/>
            <ld:field name="prepared_meals" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="furniture" ld:level="1" ld:meta="compound" ld:typedef-name="T_furniture">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="sand_bags" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field name="refuse" ld:level="1" ld:meta="compound" ld:typedef-name="T_refuse">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="stone" ld:level="1" ld:meta="compound" ld:typedef-name="T_stone">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="$global.world.raws.matgloss_stone[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="ore" ld:level="1" ld:meta="compound" ld:typedef-name="T_ore">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="ammo" ld:level="1" ld:meta="compound" ld:typedef-name="T_ammo">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-refers-to="$global.world.raws.itemdefs.ammo[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="coins" ld:level="1" ld:meta="compound" ld:typedef-name="T_coins">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="bars_blocks" ld:level="1" ld:meta="compound" ld:typedef-name="T_bars_blocks">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="bars_mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="blocks_mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="gems" ld:level="1" ld:meta="compound" ld:typedef-name="T_gems">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="rough_mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cut_mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="finished_goods" ld:level="1" ld:meta="compound" ld:typedef-name="T_finished_goods">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="leather" ld:level="1" ld:meta="compound" ld:typedef-name="T_leather">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="cloth" ld:level="1" ld:meta="compound" ld:typedef-name="T_cloth">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_silk" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_silk" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="thread_adamantine" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="cloth_adamantine" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="wood" ld:level="1" ld:meta="compound" ld:typedef-name="T_wood">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="$global.world.raws.matgloss_wood[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="weapons" ld:level="1" ld:meta="compound" ld:typedef-name="T_weapons">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="weapon_type" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="trapcomp_type" index-refers-to="$global.world.raws.itemdefs.trapcomps[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="foreign" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="armor" ld:level="1" ld:meta="compound" ld:typedef-name="T_armor">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="body" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="head" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="feet" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="hands" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="legs" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="shield" index-refers-to="$global.world.raws.itemdefs.shields[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="foreign" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="stockpile_list" base-type="int32_t">
        <enum-attr name="is_category" type-name="bool"/>

        <enum-item name="Animals">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Food">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="FoodMeatFish"/>
        <enum-item name="FoodUnpreparedFish"/>
        <enum-item name="FoodPlants"/>
        <enum-item name="FoodDrinkPlant"/>
        <enum-item name="FoodDrinkAnimal"/>
        <enum-item name="FoodCheesePlant"/>
        <enum-item name="FoodCheeseAnimal"/>
        <enum-item name="FoodSeeds"/>
        <enum-item name="FoodLeaves"/>
        <enum-item name="FoodMilledPlant"/>
        <enum-item name="FoodBoneMeal"/>
        <enum-item name="FoodFat"/>
        <enum-item name="FoodExtractPlant"/>
        <enum-item name="FoodExtractAnimal"/>
        <enum-item name="FoodMiscLiquid"/>
        <enum-item name="Furniture">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="FurnitureType"/>
        <enum-item name="FurnitureMaterial"/>
        <enum-item name="Graveyard">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Refuse">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Stone">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Ore">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Ammo">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="AmmoType"/>
        <enum-item name="AmmoMaterial"/>
        <enum-item name="Coins">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="BarsBlocks">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="BarsMaterial"/>
        <enum-item name="BlocksMaterial"/>
        <enum-item name="Gems">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="RoughMaterial"/>
        <enum-item name="CutMaterial"/>
        <enum-item name="Goods">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="GoodsType"/>
        <enum-item name="GoodsMaterial"/>
        <enum-item name="Leather">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Cloth">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="ThreadSilk"/>
        <enum-item name="ThreadPlant"/>
        <enum-item name="ClothSilk"/>
        <enum-item name="ClothPlant"/>
        <enum-item name="Wood">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Weapons">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="WeaponsType"/>
        <enum-item name="WeaponsTrapcomp"/>
        <enum-item name="WeaponsMaterial"/>
        <enum-item name="Armor">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="ArmorBody"/>
        <enum-item name="ArmorHead"/>
        <enum-item name="ArmorFeet"/>
        <enum-item name="ArmorHands"/>
        <enum-item name="ArmorLegs"/>
        <enum-item name="ArmorShield"/>
        <enum-item name="ArmorMaterial"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_chr" base-type="uint8_t">
        <enum-item name="Void"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Gem"/>

        -- 0x10

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item name="Tree"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x20

        <enum-item name="OpenSpace"/>
        <enum-item/>
        <enum-item name="Shrub"/>
        <enum-item name="Chasm"/>
        <enum-item name="RampTop"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Floor1"/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="FloorSmooth"/>
        <enum-item name="Floor2"/>
        <enum-item/>
        <enum-item name="Floor4"/>
        <enum-item/>

        -- 0x30

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="StairU"/>
        <enum-item/>
        <enum-item name="StairD"/>
        <enum-item/>

        -- 0x40

        <enum-item/>
        <enum-item name="Fortification"/>
        <enum-item/>
        <enum-item name="Campfire"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Fire"/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Pillar"/>

        -- 0x50

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Waterfall"/>

        <enum-item name="StairUD"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Channel"/>

        -- 0x60

        <enum-item name="Floor3"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x70

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Ashes3"/>
        <enum-item/>

        -- 0x80

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x90

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Ore"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0xA0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0xB0

        <enum-item name="WallWorn1"/>
        <enum-item name="WallWorn2"/>
        <enum-item name="WallWorn3"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="WallSmoothLD2"/>

        <enum-item name="WallSmoothL2D"/>
        <enum-item name="WallSmoothLUD"/>
        <enum-item name="WallSmoothUD"/>
        <enum-item name="WallSmoothLD"/>
        <enum-item name="WallSmoothLU"/>
        <enum-item name="WallSmoothLU2"/>
        <enum-item name="WallSmoothL2U"/>
        <enum-item/>

        -- 0xC0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item name="WallSmoothRU"/>
        <enum-item name="WallSmoothRD"/>
        <enum-item name="WallSmoothLRU"/>
        <enum-item name="WallSmoothLRD"/>
        <enum-item name="WallSmoothRUD"/>
        <enum-item name="WallSmoothLR"/>
        <enum-item name="WallSmoothLRUD"/>
        <enum-item/>

        -- 0xD0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="WallSmoothRU2"/>
        <enum-item name="WallSmoothR2U"/>
        <enum-item name="WallSmoothR2D"/>
        <enum-item name="WallSmoothRD2"/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Wall"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0xE0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Sapling"/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0xF0

        <enum-item name="Ramp"/>
        <enum-item/>
        <enum-item name="Ashes1"/>
        <enum-item name="Ashes2"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="River"/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_shape_basic" comment="Basic tile shape (not in DF)">
        <enum-item name="None" value="-1"/>
        <enum-item name="Open"/>
        <enum-item name="Floor"/>
        <enum-item name="Ramp"/>
        <enum-item name="Wall"/>
        <enum-item name="Stair"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_shape" comment="Tile shape (not in DF)">
        <enum-attr name="caption"/>
        <enum-attr name="basic_shape" type-name="tiletype_shape_basic" default-value="None"/>
        <enum-attr name="passable_low" type-name="bool" default-value="false" comment="tile is missing a floor"/>
        <enum-attr name="passable_high" type-name="bool" default-value="false" comment="tile is missing a roof"/>
        <enum-attr name="passable_flow" type-name="bool" default-value="false" comment="tile is non-solid"/>
        <enum-attr name="passable_flow_down" type-name="bool" default-value="false" comment="floor is non-solid"/>
        <enum-attr name="walkable" type-name="bool" default-value="false" comment="can be walked into"/>
        <enum-attr name="walkable_up" type-name="bool" default-value="false" comment="can walk to ceiling"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="EMPTY">
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
        </enum-item>
        <enum-item name="FLOOR">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="WALL">
            <item-attr name="basic_shape" value="Wall"/>
        </enum-item>
        <enum-item name="FORTIFICATION">
            <item-attr name="basic_shape" value="Wall"/>
            <item-attr name="passable_flow" value="true"/>
        </enum-item>
        <enum-item name="STAIR_UP">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="STAIR_DOWN">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="STAIR_UPDOWN">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="RAMP">
            <item-attr name="caption" value="ramps have no direction"/>
            <item-attr name="basic_shape" value="Ramp"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="RAMP_TOP">
            <item-attr name="caption" value="used for pathing?"/>
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="TREE">
            <item-attr name="basic_shape" value="Floor"/>
        </enum-item>
        <enum-item name="SAPLING">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="SHRUB">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="ENDLESS_PIT">
            <item-attr name="caption" value="a fake endless pit"/>
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="LIQUID">
            <item-attr name="caption" value="river, magma flow"/>
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
        </enum-item>
        <enum-item name="CHANNEL">
            <item-attr name="caption" value="channel"/>
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_material" comment="Tile material (not in DF)">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="AIR">
            <item-attr name="caption" value="empty"/>
        </enum-item>
        <enum-item name="DIRT">
            <item-attr name="caption" value="dirt"/>
        </enum-item>
        <enum-item name="MUD">
            <item-attr name="caption" value="mud"/>
        </enum-item>
        <enum-item name="SAND">
            <item-attr name="caption" value="sand"/>
        </enum-item>
        <enum-item name="STONE">
            <item-attr name="caption" value="stone"/>
        </enum-item>
        <enum-item name="STONE_LIGHT">
            <item-attr name="caption" value="light stone"/>
        </enum-item>
        <enum-item name="STONE_DARK">
            <item-attr name="caption" value="dark stone"/>
        </enum-item>
        <enum-item name="WOOD">
            <item-attr name="caption" value="brown 'stone' used by Human buildings"/>
        </enum-item>
        <enum-item name="ORE">
            <item-attr name="caption" value="ore/coal"/>
        </enum-item>
        <enum-item name="GEM">
            <item-attr name="caption" value="gemstone"/>
        </enum-item>
        <enum-item name="GRASS_LIGHT">
            <item-attr name="caption" value="light grass"/>
        </enum-item>
        <enum-item name="GRASS_DARK">
            <item-attr name="caption" value="dark grass"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="plant"/>
        </enum-item>
        <enum-item name="HFS">
            <item-attr name="caption" value="the stuff eerie pits are made of - this makes them different from ordinary chasms"/>
        </enum-item>
        <enum-item name="CAMPFIRE">
            <item-attr name="caption" value="human armies make them when they siege. original tile is lost?"/>
        </enum-item>
        <enum-item name="FIRE">
            <item-attr name="caption" value="burning grass"/>
        </enum-item>
        <enum-item name="ASHES">
            <item-attr name="caption" value="what remains from a fire"/>
        </enum-item>
        <enum-item name="MAGMA">
            <item-attr name="caption" value="material for magma flow tiles"/>
        </enum-item>
        <enum-item name="POOL">
            <item-attr name="caption" value="A pool. Gathers water while it's raining."/>
        </enum-item>
        <enum-item name="RIVER">
            <item-attr name="caption" value="material for river tiles."/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_variant" comment="Cosmetic tile variant (not in DF)">
        <enum-item name="NONE" value="-1"/>
        <enum-item name="VAR_1"/>
        <enum-item name="VAR_2"/>
        <enum-item name="VAR_3"/>
        <enum-item name="VAR_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_special" comment="Functional tile variant (not in DF)">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="NORMAL">
            <item-attr name="caption" value="default for all tiles, nothing special about it"/>
        </enum-item>
        <enum-item name="WATERFALL">
            <item-attr name="caption" value="waterfall source, bottom"/>
        </enum-item>
        <enum-item name="DRAIN_0">
            <item-attr name="caption" value="waterfall drain, top (white)"/>
        </enum-item>
        <enum-item name="DRAIN_1">
            <item-attr name="caption" value="waterfall drain, upper (light)"/>
        </enum-item>
        <enum-item name="DRAIN_2">
            <item-attr name="caption" value="waterfall drain, mid (gray)"/>
        </enum-item>
        <enum-item name="DRAIN_3">
            <item-attr name="caption" value="waterfall drain, lower (dark)"/>
        </enum-item>
        <enum-item name="SMOOTH">
            <item-attr name="caption" value="smooth walls and floors, including constructions"/>
        </enum-item>
        <enum-item name="TRAMPLED">
            <item-attr name="caption" value="trampled dirt, left by roads"/>
        </enum-item>
        <enum-item name="DEAD">
            <item-attr name="caption" value="dead, used by plants"/>
        </enum-item>
        <enum-item name="WORN_1">
            <item-attr name="caption" value="partially (25%) mined walls"/>
        </enum-item>
        <enum-item name="WORN_2">
            <item-attr name="caption" value="partially (50%) mined walls"/>
        </enum-item>
        <enum-item name="WORN_3">
            <item-attr name="caption" value="partially (75%) mined walls"/>
        </enum-item>
        <enum-item name="BRIGHT">
            <item-attr name="caption" value="distinguishes light/dark tiles of murky pools and magma flows"/>
        </enum-item>
        <enum-item name="IRON">
            <item-attr name="caption" value="makes ore into Hematite"/>
        </enum-item>
        <enum-item name="COPPER">
            <item-attr name="caption" value="makes ore into Malachite"/>
        </enum-item>
        <enum-item name="TIN">
            <item-attr name="caption" value="makes ore into Cassiterite"/>
        </enum-item>
        <enum-item name="ZINC">
            <item-attr name="caption" value="makes ore into Sphalerite"/>
        </enum-item>
        <enum-item name="SILVER">
            <item-attr name="caption" value="makes ore into Galena"/>
        </enum-item>
        <enum-item name="GOLD">
            <item-attr name="caption" value="makes ore into Native Gold"/>
        </enum-item>
        <enum-item name="PLATINUM">
            <item-attr name="caption" value="makes ore into Native Platinum"/>
        </enum-item>
        <enum-item name="ADAMANTINE">
            <item-attr name="caption" value="makes ore into Raw Adamantine"/>
        </enum-item>
        <enum-item name="COAL">
            <item-attr name="caption" value="makes gems into Bituminous Coal"/>
        </enum-item>
        <enum-item name="RED">
            <item-attr name="caption" value="makes gems Red"/>
        </enum-item>
        <enum-item name="GREEN">
            <item-attr name="caption" value="makes gems Green"/>
        </enum-item>
        <enum-item name="BLUE">
            <item-attr name="caption" value="makes gems Blue"/>
        </enum-item>
        <enum-item name="WHITE">
            <item-attr name="caption" value="makes gems White"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype" base-type="int16_t">
        -- Declare attributes:

        <enum-attr name="caption"/>
        <enum-attr name="shape" type-name="tiletype_shape" default-value="NONE"/>
        <enum-attr name="material" type-name="tiletype_material" default-value="NONE"/>
        <enum-attr name="variant" type-name="tiletype_variant" default-value="NONE"/>
        <enum-attr name="special" type-name="tiletype_special" default-value="NONE"/>
        <enum-attr name="direction" default-value="--------"/>

        <enum-attr name="tile_chr" type-name="tile_chr" default-value="Void"/>
        <enum-attr name="tile_color" type-name="int8_t" default-value="0"/>

        <enum-item name="Void">
            <item-attr name="caption" value="void"/>
        </enum-item>

        <enum-item name="GemWallRed">
            <item-attr name="caption" value="gem cluster (red)"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="GEM"/>
            <item-attr name="special" value="RED"/>
            <item-attr name="tile_chr" value="Gem"/>
            <item-attr name="tile_color" value="12"/>
        </enum-item>
        <enum-item name="GemWallGreen">
            <item-attr name="caption" value="gem cluster (green)"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="GEM"/>
            <item-attr name="special" value="GREEN"/>
            <item-attr name="tile_chr" value="Gem"/>
            <item-attr name="tile_color" value="10"/>
        </enum-item>
        <enum-item name="GemWallBlue">
            <item-attr name="caption" value="gem cluster (blue)"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="GEM"/>
            <item-attr name="special" value="BLUE"/>
            <item-attr name="tile_chr" value="Gem"/>
            <item-attr name="tile_color" value="9"/>
        </enum-item>
        <enum-item name="GemWallWhite">
            <item-attr name="caption" value="gem cluster (white)"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="GEM"/>
            <item-attr name="special" value="WHITE"/>
            <item-attr name="tile_chr" value="Gem"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="CoalWall">
            <item-attr name="caption" value="coal pocket"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="COAL"/>
            <item-attr name="tile_chr" value="Gem"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>

        <enum-item name="Tree">
            <item-attr name="caption" value="tree"/>
            <item-attr name="shape" value="TREE"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Tree"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="TreeDead">
            <item-attr name="caption" value="dead tree"/>
            <item-attr name="shape" value="TREE"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
            <item-attr name="tile_chr" value="Tree"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="OpenSpace">
            <item-attr name="caption" value="open space"/>
            <item-attr name="shape" value="EMPTY"/>
            <item-attr name="material" value="AIR"/>
            <item-attr name="tile_chr" value="OpenSpace"/>
            <item-attr name="tile_color" value="0"/>
        </enum-item>

        <enum-item name="Shrub">
            <item-attr name="caption" value="shrub"/>
            <item-attr name="shape" value="SHRUB"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Shrub"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="ShrubDead">
            <item-attr name="caption" value="dead shrub"/>
            <item-attr name="shape" value="SHRUB"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
            <item-attr name="tile_chr" value="Shrub"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="Chasm">
            <item-attr name="caption" value="chasm"/>
            <item-attr name="shape" value="ENDLESS_PIT"/>
            <item-attr name="material" value="AIR"/>
            <item-attr name="tile_chr" value="Chasm"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="ChasmDead">
            <item-attr name="caption" value="chasm (dead)"/>
            <item-attr name="shape" value="ENDLESS_PIT"/>
            <item-attr name="material" value="AIR"/>
            <item-attr name="special" value="DEAD"/>
            <item-attr name="tile_chr" value="Chasm"/>
            <item-attr name="tile_color" value="4"/>
        </enum-item>
        <enum-item name="EeriePit">
            <item-attr name="caption" value="eerie pit"/>
            <item-attr name="shape" value="ENDLESS_PIT"/>
            <item-attr name="material" value="HFS"/>
            <item-attr name="tile_chr" value="Chasm"/>
            <item-attr name="tile_color" value="12"/>
        </enum-item>

        <enum-item name="StoneRampTop">
            <item-attr name="caption" value="stone ramp top"/>
            <item-attr name="shape" value="RAMP_TOP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="RampTop"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneRampTop">
            <item-attr name="caption" value="dark stone ramp top"/>
            <item-attr name="shape" value="RAMP_TOP"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="RampTop"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneRampTop">
            <item-attr name="caption" value="light stone ramp top"/>
            <item-attr name="shape" value="RAMP_TOP"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="RampTop"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodRampTop">
            <item-attr name="caption" value="wood ramp top"/>
            <item-attr name="shape" value="RAMP_TOP"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="tile_chr" value="RampTop"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneFloor1">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneFloor2">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneFloor3">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneFloor4">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneFloor1">
            <item-attr name="caption" value="dark stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneFloor2">
            <item-attr name="caption" value="dark stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneFloor3">
            <item-attr name="caption" value="dark stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneFloor4">
            <item-attr name="caption" value="dark stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneFloor1">
            <item-attr name="caption" value="light stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneFloor2">
            <item-attr name="caption" value="light stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneFloor3">
            <item-attr name="caption" value="light stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneFloor4">
            <item-attr name="caption" value="light stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="GrassDarkFloor1">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="GrassDarkFloor2">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="GrassDarkFloor3">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="GrassDarkFloor4">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="GrassLightFloor1">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="10"/>
        </enum-item>
        <enum-item name="GrassLightFloor2">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="10"/>
        </enum-item>
        <enum-item name="GrassLightFloor3">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="10"/>
        </enum-item>
        <enum-item name="GrassLightFloor4">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="10"/>
        </enum-item>
        <enum-item name="DirtFloor1">
            <item-attr name="caption" value="dirt floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor1"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="DirtFloor2">
            <item-attr name="caption" value="dirt floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="DirtFloor3">
            <item-attr name="caption" value="dirt floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor3"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="DirtFloor4">
            <item-attr name="caption" value="dirt floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Floor4"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneFloorSmooth">
            <item-attr name="caption" value="smooth stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="FloorSmooth"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneFloorSmooth">
            <item-attr name="caption" value="smooth dark stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="FloorSmooth"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneFloorSmooth">
            <item-attr name="caption" value="smooth light stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="FloorSmooth"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodFloorSmooth">
            <item-attr name="caption" value="smooth wood floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="FloorSmooth"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneStairU">
            <item-attr name="caption" value="stone stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="StairU"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneStairD">
            <item-attr name="caption" value="stone stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="StairD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneStairUD">
            <item-attr name="caption" value="stone stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="StairUD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneStairU">
            <item-attr name="caption" value="dark stone stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="StairU"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneStairD">
            <item-attr name="caption" value="dark stone stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="StairD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneStairUD">
            <item-attr name="caption" value="dark stone stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="StairUD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneStairU">
            <item-attr name="caption" value="light stone stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="StairU"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneStairD">
            <item-attr name="caption" value="light stone stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="StairD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneStairUD">
            <item-attr name="caption" value="light stone stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="StairUD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodStairU">
            <item-attr name="caption" value="wood stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="tile_chr" value="StairU"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodStairD">
            <item-attr name="caption" value="wood stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="tile_chr" value="StairD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodStairUD">
            <item-attr name="caption" value="wood stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="tile_chr" value="StairUD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneFortification">
            <item-attr name="caption" value="stone fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="Fortification"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneFortification">
            <item-attr name="caption" value="dark stone fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="Fortification"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneFortification">
            <item-attr name="caption" value="light stone fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="Fortification"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>

        <enum-item name="Campfire">
            <item-attr name="caption" value="campfire"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CAMPFIRE"/>
            <item-attr name="tile_chr" value="Campfire"/>
            <item-attr name="tile_color" value="12"/>
        </enum-item>

        <enum-item name="Fire">
            <item-attr name="caption" value="fire"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FIRE"/>
            <item-attr name="tile_chr" value="Fire"/>
            <item-attr name="tile_color" value="12"/>
        </enum-item>

        <enum-item name="StonePillar">
            <item-attr name="caption" value="stone pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="Pillar"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStonePillar">
            <item-attr name="caption" value="dark stone pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="Pillar"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStonePillar">
            <item-attr name="caption" value="light stone pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="Pillar"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodPillar">
            <item-attr name="caption" value="wood pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="tile_chr" value="Pillar"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="WaterfallDrain1">
            <item-attr name="caption" value="waterfall drain (1)"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="DRAIN_1"/>
            <item-attr name="tile_chr" value="Waterfall"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WaterfallDrain2">
            <item-attr name="caption" value="waterfall drain (2)"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="DRAIN_2"/>
            <item-attr name="tile_chr" value="Waterfall"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="WaterfallDrain3">
            <item-attr name="caption" value="waterfall drain (3)"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="DRAIN_3"/>
            <item-attr name="tile_chr" value="Waterfall"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>

        <enum-item name="StoneChannel">
            <item-attr name="caption" value="stone channel"/>
            <item-attr name="shape" value="CHANNEL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="tile_chr" value="Channel"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneChannel">
            <item-attr name="caption" value="dark stone channel"/>
            <item-attr name="shape" value="CHANNEL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="tile_chr" value="Channel"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneChannel">
            <item-attr name="caption" value="light stone channel"/>
            <item-attr name="shape" value="CHANNEL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="tile_chr" value="Channel"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="DirtChannel">
            <item-attr name="caption" value="dirt channel"/>
            <item-attr name="shape" value="CHANNEL"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="tile_chr" value="Channel"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="Ashes1">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="tile_chr" value="Ashes1"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="Ashes2">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="tile_chr" value="Ashes2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="Ashes3">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="tile_chr" value="Ashes3"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="TrampledDirt">
            <item-attr name="caption" value="trampled dirt"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DIRT"/>
            <item-attr name="special" value="TRAMPLED"/>
            <item-attr name="tile_chr" value="Ashes3"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="SphaleriteWall">
            <item-attr name="caption" value="sphalerite vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="ZINC"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="0"/>
        </enum-item>
        <enum-item name="MalachiteWall">
            <item-attr name="caption" value="malachite vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="COPPER"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="HematiteWall">
            <item-attr name="caption" value="hematite vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="IRON"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="4"/>
        </enum-item>
        <enum-item name="CassiteriteWall">
            <item-attr name="caption" value="cassiterite vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="TIN"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="GalenaWall">
            <item-attr name="caption" value="galena vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="SILVER"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="AdamantineWall">
            <item-attr name="caption" value="raw adamantine vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="ADAMANTINE"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="11"/>
        </enum-item>
        <enum-item name="GoldWall">
            <item-attr name="caption" value="gold vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="GOLD"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="14"/>
        </enum-item>
        <enum-item name="PlatinumWall">
            <item-attr name="caption" value="platinum vein"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="ORE"/>
            <item-attr name="special" value="PLATINUM"/>
            <item-attr name="tile_chr" value="Ore"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>

        <enum-item name="StoneWallWorn1">
            <item-attr name="caption" value="worn 1 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_1"/>
            <item-attr name="tile_chr" value="WallWorn1"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallWorn2">
            <item-attr name="caption" value="worn 2 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_2"/>
            <item-attr name="tile_chr" value="WallWorn2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallWorn3">
            <item-attr name="caption" value="worn 3 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_3"/>
            <item-attr name="tile_chr" value="WallWorn3"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneWallWorn1">
            <item-attr name="caption" value="worn 1 dark stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="WORN_1"/>
            <item-attr name="tile_chr" value="WallWorn1"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallWorn2">
            <item-attr name="caption" value="worn 2 dark stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="WORN_2"/>
            <item-attr name="tile_chr" value="WallWorn2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallWorn3">
            <item-attr name="caption" value="worn 3 dark stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="WORN_3"/>
            <item-attr name="tile_chr" value="WallWorn3"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneWallWorn1">
            <item-attr name="caption" value="worn 1 light stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="WORN_1"/>
            <item-attr name="tile_chr" value="WallWorn1"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallWorn2">
            <item-attr name="caption" value="worn 2 light stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="WORN_2"/>
            <item-attr name="tile_chr" value="WallWorn2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallWorn3">
            <item-attr name="caption" value="worn 3 light stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="WORN_3"/>
            <item-attr name="tile_chr" value="WallWorn3"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodWallWorn1">
            <item-attr name="caption" value="worn 1 wood wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="WORN_1"/>
            <item-attr name="tile_chr" value="WallWorn1"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallWorn2">
            <item-attr name="caption" value="worn 2 wood wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="WORN_2"/>
            <item-attr name="tile_chr" value="WallWorn2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallWorn3">
            <item-attr name="caption" value="worn 3 wood wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="WORN_3"/>
            <item-attr name="tile_chr" value="WallWorn3"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneWallSmoothRD2">
            <item-attr name="caption" value="smooth stone wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothR2D">
            <item-attr name="caption" value="smooth stone wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2D"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothR2U">
            <item-attr name="caption" value="smooth stone wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2U"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRU2">
            <item-attr name="caption" value="smooth stone wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothL2U">
            <item-attr name="caption" value="smooth stone wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2U"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLU2">
            <item-attr name="caption" value="smooth stone wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothL2D">
            <item-attr name="caption" value="smooth stone wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2D"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLD2">
            <item-attr name="caption" value="smooth stone wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
            <item-attr name="tile_chr" value="WallSmoothLD2"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRUD">
            <item-attr name="caption" value="smooth stone wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRUD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRUD">
            <item-attr name="caption" value="smooth stone wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRUD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRD">
            <item-attr name="caption" value="smooth stone wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRU">
            <item-attr name="caption" value="smooth stone wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRU"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLUD">
            <item-attr name="caption" value="smooth stone wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLUD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRD">
            <item-attr name="caption" value="smooth stone wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRU">
            <item-attr name="caption" value="smooth stone wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLU">
            <item-attr name="caption" value="smooth stone wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLD">
            <item-attr name="caption" value="smooth stone wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothUD">
            <item-attr name="caption" value="smooth stone wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
            <item-attr name="tile_chr" value="WallSmoothUD"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLR">
            <item-attr name="caption" value="smooth stone wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLR"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothRD2">
            <item-attr name="caption" value="smooth dark stone wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothR2D">
            <item-attr name="caption" value="smooth dark stone wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2D"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothR2U">
            <item-attr name="caption" value="smooth dark stone wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2U"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothRU2">
            <item-attr name="caption" value="smooth dark stone wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothL2U">
            <item-attr name="caption" value="smooth dark stone wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2U"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLU2">
            <item-attr name="caption" value="smooth dark stone wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothL2D">
            <item-attr name="caption" value="smooth dark stone wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2D"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLD2">
            <item-attr name="caption" value="smooth dark stone wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
            <item-attr name="tile_chr" value="WallSmoothLD2"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLRUD">
            <item-attr name="caption" value="smooth dark stone wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRUD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothRUD">
            <item-attr name="caption" value="smooth dark stone wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRUD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLRD">
            <item-attr name="caption" value="smooth dark stone wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLRU">
            <item-attr name="caption" value="smooth dark stone wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRU"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLUD">
            <item-attr name="caption" value="smooth dark stone wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLUD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothRD">
            <item-attr name="caption" value="smooth dark stone wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothRU">
            <item-attr name="caption" value="smooth dark stone wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLU">
            <item-attr name="caption" value="smooth dark stone wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLD">
            <item-attr name="caption" value="smooth dark stone wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothUD">
            <item-attr name="caption" value="smooth dark stone wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
            <item-attr name="tile_chr" value="WallSmoothUD"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="DarkStoneWallSmoothLR">
            <item-attr name="caption" value="smooth dark stone wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLR"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothRD2">
            <item-attr name="caption" value="smooth light stone wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothR2D">
            <item-attr name="caption" value="smooth light stone wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2D"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothR2U">
            <item-attr name="caption" value="smooth light stone wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2U"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothRU2">
            <item-attr name="caption" value="smooth light stone wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothL2U">
            <item-attr name="caption" value="smooth light stone wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2U"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLU2">
            <item-attr name="caption" value="smooth light stone wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothL2D">
            <item-attr name="caption" value="smooth light stone wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2D"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLD2">
            <item-attr name="caption" value="smooth light stone wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
            <item-attr name="tile_chr" value="WallSmoothLD2"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLRUD">
            <item-attr name="caption" value="smooth light stone wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRUD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothRUD">
            <item-attr name="caption" value="smooth light stone wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRUD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLRD">
            <item-attr name="caption" value="smooth light stone wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLRU">
            <item-attr name="caption" value="smooth light stone wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRU"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLUD">
            <item-attr name="caption" value="smooth light stone wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLUD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothRD">
            <item-attr name="caption" value="smooth light stone wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothRU">
            <item-attr name="caption" value="smooth light stone wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLU">
            <item-attr name="caption" value="smooth light stone wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLD">
            <item-attr name="caption" value="smooth light stone wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothUD">
            <item-attr name="caption" value="smooth light stone wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
            <item-attr name="tile_chr" value="WallSmoothUD"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="LightStoneWallSmoothLR">
            <item-attr name="caption" value="smooth light stone wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLR"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodWallSmoothRD2">
            <item-attr name="caption" value="smooth wood wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothR2D">
            <item-attr name="caption" value="smooth wood wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2D"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothR2U">
            <item-attr name="caption" value="smooth wood wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
            <item-attr name="tile_chr" value="WallSmoothR2U"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothRU2">
            <item-attr name="caption" value="smooth wood wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothL2U">
            <item-attr name="caption" value="smooth wood wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2U"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLU2">
            <item-attr name="caption" value="smooth wood wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothL2D">
            <item-attr name="caption" value="smooth wood wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
            <item-attr name="tile_chr" value="WallSmoothL2D"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLD2">
            <item-attr name="caption" value="smooth wood wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
            <item-attr name="tile_chr" value="WallSmoothLD2"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLRUD">
            <item-attr name="caption" value="smooth wood wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRUD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothRUD">
            <item-attr name="caption" value="smooth wood wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRUD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLRD">
            <item-attr name="caption" value="smooth wood wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLRU">
            <item-attr name="caption" value="smooth wood wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLRU"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLUD">
            <item-attr name="caption" value="smooth wood wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLUD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothRD">
            <item-attr name="caption" value="smooth wood wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
            <item-attr name="tile_chr" value="WallSmoothRD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothRU">
            <item-attr name="caption" value="smooth wood wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
            <item-attr name="tile_chr" value="WallSmoothRU"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLU">
            <item-attr name="caption" value="smooth wood wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
            <item-attr name="tile_chr" value="WallSmoothLU"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLD">
            <item-attr name="caption" value="smooth wood wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
            <item-attr name="tile_chr" value="WallSmoothLD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothUD">
            <item-attr name="caption" value="smooth wood wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
            <item-attr name="tile_chr" value="WallSmoothUD"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="WoodWallSmoothLR">
            <item-attr name="caption" value="smooth wood wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
            <item-attr name="tile_chr" value="WallSmoothLR"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneWall">
            <item-attr name="caption" value="stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Wall"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneWall">
            <item-attr name="caption" value="dark stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Wall"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneWall">
            <item-attr name="caption" value="light stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Wall"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodWall">
            <item-attr name="caption" value="wood wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Wall"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="Sapling">
            <item-attr name="caption" value="sapling"/>
            <item-attr name="shape" value="SAPLING"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Sapling"/>
            <item-attr name="tile_color" value="2"/>
        </enum-item>
        <enum-item name="SaplingDead">
            <item-attr name="caption" value="dead sapling"/>
            <item-attr name="shape" value="SAPLING"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
            <item-attr name="tile_chr" value="Sapling"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="StoneRamp">
            <item-attr name="caption" value="stone ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Ramp"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="DarkStoneRamp">
            <item-attr name="caption" value="dark stone ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE_DARK"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Ramp"/>
            <item-attr name="tile_color" value="8"/>
        </enum-item>
        <enum-item name="LightStoneRamp">
            <item-attr name="caption" value="light stone ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE_LIGHT"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Ramp"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WoodRamp">
            <item-attr name="caption" value="wood ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="WOOD"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="Ramp"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>

        <enum-item name="MurkyPool">
            <item-attr name="caption" value="murky pool"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="POOL"/>
            <item-attr name="special" value="BRIGHT"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="11"/>
        </enum-item>
        <enum-item name="MurkyPool2">
            <item-attr name="caption" value="murky pool dark"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="POOL"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="3"/>
        </enum-item>
        <enum-item name="MagmaFlow">
            <item-attr name="caption" value="magma flow"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MAGMA"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="4"/>
        </enum-item>
        <enum-item name="MagmaFlowBright">
            <item-attr name="caption" value="magma flow"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MAGMA"/>
            <item-attr name="special" value="BRIGHT"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="12"/>
        </enum-item>
        <enum-item name="River">
            <item-attr name="caption" value="river"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="1"/>
        </enum-item>
        <enum-item name="Waterfall">
            <item-attr name="caption" value="waterfall"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="WATERFALL"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="15"/>
        </enum-item>
        <enum-item name="WaterfallDrain0">
            <item-attr name="caption" value="waterfall drain (0)"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="DRAIN_0"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="7"/>
        </enum-item>
        <enum-item name="Mud">
            <item-attr name="caption" value="mud"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MUD"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="6"/>
        </enum-item>
        <enum-item name="Sand">
            <item-attr name="caption" value="sand"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SAND"/>
            <item-attr name="tile_chr" value="River"/>
            <item-attr name="tile_color" value="14"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_build_selector">
        <ld:field name="criteria" ld:level="1" ld:meta="compound" ld:typedef-name="T_criteria">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="item_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="materials" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="quantities" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_vecs" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="item"><ld:item ld:level="6" ld:meta="global" type-name="item"/></ld:item></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="improved" ld:level="1" ld:meta="compound" ld:typedef-name="T_improved">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="category" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field name="unimproved" ld:level="1" ld:meta="compound" ld:typedef-name="T_unimproved">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="category" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field name="visible" ld:level="1" ld:meta="compound" ld:typedef-name="T_visible">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="selected" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="quantity" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="selected_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>

        <ld:field name="categories_required" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="categories_total" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_position" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_category" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="min_items_needed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button" original-name="interface_buttonst">
        <ld:field name="hotkey_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="is_hidden" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <virtual-methods>
            <vmethod ld:level="1" name="getLabel">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="click"/>
            <vmethod ld:level="1" name="setColor">
                <ld:field name="selected" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="hide"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_buildingst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_category_selectorst" inherits-from="interface_button_buildingst">
        <ld:field name="category_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_material_selectorst" inherits-from="interface_button_buildingst">
        <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_new_jobst" inherits-from="interface_button_buildingst">
        <ld:field ld:subtype="enum" name="job_type" base-type="int32_t" type-name="job_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_category" type-name="item_category" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_permit_foreign_armorst" inherits-from="interface_button_buildingst">
        <ld:field ld:level="1" ld:meta="pointer" type-name="bool" name="permit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_permit_foreign_siegeammost" inherits-from="interface_button_buildingst">
        <ld:field ld:level="1" ld:meta="pointer" type-name="bool" name="permit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_permit_foreign_weaponst" inherits-from="interface_button_buildingst">
        <ld:field ld:level="1" ld:meta="pointer" type-name="bool" name="permit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_permit_itemst" inherits-from="interface_button_buildingst">
        <ld:field ld:subtype="enum" base-type="int32_t" type-name="item_type" ld:level="1" ld:meta="global" ld:anon-name="anon_1" ld:enum-size-forced="true"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="bool" name="permit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_permit_trapcompst" inherits-from="interface_button_buildingst">
        <ld:field ld:level="1" ld:meta="pointer" type-name="bool" name="permit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_constructionst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="pointer" name="unused_c" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_donest" inherits-from="interface_button_constructionst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_category_selectorst" inherits-from="interface_button_constructionst">
        <ld:field name="category_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_building_selectorst" inherits-from="interface_button_constructionst">
        <ld:field ld:subtype="enum" base-type="int16_t" name="building_type" type-name="building_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="building_subtype" is-union="true" ld:level="1" ld:meta="compound" ld:typedef-name="T_building_subtype" ld:in-union="true">
            <ld:field ld:subtype="enum" base-type="int16_t" name="furnace_type" type-name="furnace_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="workshop_type" type-name="workshop_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="siegeengine_type" type-name="siegeengine_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="trap_type" type-name="trap_type" ld:level="2" ld:meta="global"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_buttonst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_light_up_selectorst" inherits-from="interface_button_buttonst">
        <ld:field name="description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="pointer" name="ui_sidebar_mode" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" name="new_sidebar_mode" type-name="ui_sidebar_mode" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_donest" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_designate_selectst" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_sidebar_menus">
        <ld:field name="workshop_job" ld:level="1" ld:meta="compound" ld:typedef-name="T_workshop_job">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_all" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="interface_button_buildingst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buildingst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_visible" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="interface_button_buildingst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buildingst"/></ld:item>
            </ld:field>

            <ld:field name="cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="category_id" comment="weapons, armor, etc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:subtype="enum" base-type="int32_t" name="material" type-name="material_type" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>

        <ld:field name="building" ld:level="1" ld:meta="compound" ld:typedef-name="T_building">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_all" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="interface_button_constructionst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_constructionst"/></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_visible" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="interface_button_constructionst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_constructionst"/></ld:item>
            </ld:field>

            <ld:field name="category_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="designation" ld:level="1" ld:meta="compound" ld:typedef-name="T_designation">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="interface_button_buttonst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buttonst"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        </ld:field>

        <ld:field name="unit" ld:level="1" ld:meta="compound" ld:typedef-name="T_unit">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" ld:is-container="true">
                <ld:item refers-to="$global.world.units.other[0][$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
        </ld:field>

        <ld:field name="minimap" ld:level="1" ld:meta="compound" ld:typedef-name="T_minimap">
            <ld:field ld:level="2" ld:meta="static-array" name="tiles" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="23" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field name="need_update" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        </ld:field>

        <ld:field name="command_line" ld:level="1" ld:meta="compound" ld:typedef-name="T_command_line">
            <ld:field name="original" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" name="arg_vect" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field name="gen_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="num_speech_tokens" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_look_list">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_items">
                <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="3" ld:meta="compound" ld:typedef-name="T_type">
                    <enum-item name="Item"/>
                    <enum-item name="Floor"/>
                    <enum-item name="Unit"/>
                    <enum-item name="Building"/>
                    <enum-item name="Vermin"/>
                    <enum-item name="Flow"/>
                    <enum-item name="Campfire"/>
                    <enum-item name="Blood"/>
                    <enum-item name="Vomit"/>
                    <enum-item name="Slime"/>
                    <enum-item name="Pus"/>
                    <enum-item name="Ichor"/>
                    <enum-item name="Goo"/>
                    <enum-item name="ItemInBuilding"/>
                    <enum-item name="Fire"/>
                </ld:field>
                <ld:field ld:anon-compound="true" is-union="true" ld:level="3" ld:meta="compound">
                    <ld:field ld:level="3" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="vermin" type-name="vermin" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="vermin"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="flow" type-name="flow_info" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="flow_info"/></ld:field>
                    <ld:field name="amount" comment="for spatters" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                </ld:field>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_unit_view_mode">
        <ld:field ld:subtype="enum" name="value" ld:level="1" ld:meta="compound" ld:typedef-name="T_value">
            <enum-item name="General"/>
            <enum-item name="Inventory"/>
            <enum-item name="Preferences"/>
            <enum-item name="Wounds"/>
            <enum-item name="PrefLabor"/>
            <enum-item name="PrefPet"/>
            <enum-item name="PrefSoldier"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ui_sidebar_mode">
        <enum-item name="Default"/>
        <enum-item name="Squads"/>
        <enum-item name="DesignateMine"/>
        <enum-item name="DesignateGatherPlants"/>
        <enum-item name="DesignateRemoveDesignation"/>
        <enum-item name="DesignateDetailStone"/>
        <enum-item name="DesignateCarveFortification"/>
        <enum-item name="Stockpiles"/>
        <enum-item name="Build"/>
        <enum-item name="QueryBuilding"/>
        <enum-item name="Orders"/>
        <enum-item name="OrdersRefuse"/>
        <enum-item name="OrdersWorkshop"/>
        <enum-item name="BuildingItems"/>
        <enum-item name="ViewUnits"/>
        <enum-item name="LookAround"/>
        <enum-item name="DesignateReclaim"/>
        <enum-item name="DesignateChopTrees"/>
        <enum-item name="DesignateToggleEngravings"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui">
        <ld:field name="gameover_type" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="gameover_sieger" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tax_collection" ld:level="1" ld:meta="compound" ld:typedef-name="T_tax_collection">
            <ld:field name="state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="check_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="rooms" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item>
            </ld:field>
            <ld:field name="reach_room_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="tc_protect_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard1_reach_tc_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard2_reach_tc_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="collected" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="quota" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="tc_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="tc_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="tc_z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard1_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard2_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard1_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard2_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard1_z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="guard2_z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="collector" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="guard1" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="guard2" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field name="guard_lack_complained" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caravans" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="caravan_state" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:item>
        </ld:field>
        <ld:field name="firstCaravan" comment="display special screens on arrival/departure of first caravan" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field type-name="coord32_path" name="dwarfArrivalTiles" ld:level="1" ld:meta="global"/>
        <ld:field type-name="coord32_path" name="roadInfo" ld:level="1" ld:meta="global"/>
        <ld:field name="progress_population" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="progress_trade" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="progress_production" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="king_arrived" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="king_hasty" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="anvil_arrived" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="economy_active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="ignore_labor_shortage" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="justice_active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="manager_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="incoming_king" ld:level="1" ld:meta="compound" ld:typedef-name="T_incoming_king">
            <ld:field name="desired_architecture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="desired_roads" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="desired_offerings" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="nobles_enabled" type-name="int16_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="nobles_arrived" type-name="int16_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="units_killed" type-name="int16_t" count="88" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="guild_wages" type-name="int32_t" count="16" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="guild_happiness" type-name="int16_t" count="16" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="labor_slowdown_timer" type-name="int16_t" count="16" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="currency_value" type-name="int32_t" count="64" index-enum="material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="trees_removed" comment="used by elves" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adamantine_seasons" comment="increases quantity in adamantine goods mandates" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adamantine_mined" comment="triggers Too Deep" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fortress_age" comment="increments every 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field type-name="entity_activity_statistics" name="tasks" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="meeting_requests" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="activities" pointer-type="activity_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="activity_info"><ld:item ld:level="3" ld:meta="global" type-name="activity_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dip_meeting_info" pointer-type="meeting_diplomat_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_diplomat_info"><ld:item ld:level="3" ld:meta="global" type-name="meeting_diplomat_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="royal_guards" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="fortress_guards" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="aid_requesters" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="game_over" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="siege" ld:level="1" ld:meta="compound" ld:typedef-name="T_siege">
            <ld:field name="attacker" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="active_size1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="active_size2" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="timeout" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="2" ld:meta="compound" ld:typedef-name="T_flags">
                <ld:field name="active" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="siege" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="history" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="crimes" pointer-type="crime_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="crime_info"><ld:item ld:level="3" ld:meta="global" type-name="crime_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="punishments" pointer-type="punishment_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="punishment_info"><ld:item ld:level="3" ld:meta="global" type-name="punishment_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pet_info" pointer-type="pet_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="pet_info"><ld:item ld:level="3" ld:meta="global" type-name="pet_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parties" pointer-type="party_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="party_info"><ld:item ld:level="3" ld:meta="global" type-name="party_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_rent" pointer-type="room_rent_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="room_rent_info"><ld:item ld:level="3" ld:meta="global" type-name="room_rent_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dipscripts" pointer-type="dipscript_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="dipscript_info"><ld:item ld:level="3" ld:meta="global" type-name="dipscript_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dipscript_popups" pointer-type="dipscript_popup" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="dipscript_popup"><ld:item ld:level="3" ld:meta="global" type-name="dipscript_popup"/></ld:item></ld:field>

        <ld:field name="kitchen" ld:level="1" ld:meta="compound" ld:typedef-name="T_kitchen">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="item_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_subtypes" ld:is-container="true">
                <ld:item refers-to="(item-subtype-target $$._parent._parent.item_type[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="materials" comment="for certain item types, these are creature/plant IDs" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="material_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="matglosses" ld:is-container="true">
                <ld:item refers-to="(matgloss-target $$._parent._parent.material[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="exc_types" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field ld:subtype="bitfield" base-type="uint32_t" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="first_year" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="recalc_entrypoints" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="clear_aid_timeouts" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="unit_action_divisor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_dig_depth" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="min_dig_depth" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mood_cooldown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="main" ld:level="1" ld:meta="compound" ld:typedef-name="T_main">
            <ld:field ld:subtype="enum" base-type="int16_t" name="mode" type-name="ui_sidebar_mode" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field name="unk1" comment="set to 0 when finding nearest building to query, never modified" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="baron_needed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="count_needed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="duke_needed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_id" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="farm_crops" type-name="int16_t" ref-target="matgloss_plant" ld:is-container="true"><ld:item ref-target="matgloss_plant" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="farm_seasons" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="feature_attack_counts" type-name="int16_t" count="3" comment="maxes at 10, increases feature attack group sizes" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="feature_initial_flood" type-name="int8_t" count="3" comment="1 if you triggered a flood upon discovering the river or magma flow" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field name="economy_prices" ld:level="1" ld:meta="compound" ld:typedef-name="T_economy_prices">
            <ld:field name="price_adjustment" ld:level="2" ld:meta="compound" ld:typedef-name="T_price_adjustment">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="general_items" index-enum="item_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="weapons" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="armor" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="handwear" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="footwear" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="headgear" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="legwear" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="prepared_food" index-refers-to="$global.world.raws.itemdefs.food[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="potions" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="materials" index-enum="material_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="wood" index-refers-to="$global.world.raws.matgloss_wood[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="cloth" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="bone" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="ivory" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="horn" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="pearl" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="shell" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="leather" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="silk" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="gems" index-refers-to="$global.world.raws.matgloss_gem[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="stone" index-refers-to="$global.world.raws.matgloss_stone[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="meat_fish" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="plants" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="drinks" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="extract_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="extract_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="mill_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="mill_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="cheese_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="cheese_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="pets" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:field>
            <ld:field name="price_setter" ld:level="2" ld:meta="compound" ld:typedef-name="T_price_setter">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="general_items" index-enum="item_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="weapons" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="armor" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="handwear" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="footwear" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="headgear" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="legwear" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="prepared_food" index-refers-to="$global.world.raws.itemdefs.food[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="potions" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="materials" index-enum="material_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wood" index-refers-to="$global.world.raws.matgloss_wood[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="cloth" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="bone" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="ivory" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="horn" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pearl" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="shell" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="leather" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="silk" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="gems" index-refers-to="$global.world.raws.matgloss_gem[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="stone" index-refers-to="$global.world.raws.matgloss_stone[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="meat_fish" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="plants" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="drinks" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="extract_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="extract_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mill_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mill_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="cheese_animal" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="cheese_plant" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pets" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            </ld:field>
        </ld:field>

        <ld:field name="stockpile" ld:level="1" ld:meta="compound" ld:typedef-name="T_stockpile">
            <ld:field name="reserved_bins" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="reserved_barrels" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="custom_settings" type-name="stockpile_settings" ld:level="2" ld:meta="global"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="timed_event_type" base-type="int16_t">
        <enum-item name="Caravan"/>
        <enum-item name="Migrants"/>
        <enum-item name="Diplomat"/>
        <enum-item name="CivAttack"/>
        <enum-item name="RiverAttack"/>
        <enum-item name="ChasmAttack"/>
        <enum-item name="MagmaAttack"/>
        <enum-item name="TooDeep"/>
        <enum-item name="Megabeast"/>
        <enum-item name="CuriousBeasts"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="timed_event">
        <ld:field ld:subtype="enum" type-name="timed_event_type" name="type" ld:level="1" ld:meta="global"/>
        <ld:field name="season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="season_ticks" comment="1 tick = 10 frames; 0 = end of season" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_renderer">
        <ld:field ld:level="1" ld:meta="static-array" name="entity" count="80" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="25" type-name="uint8_t" comment="|=1 building, |=2 ramp/stair" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cursor_units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_guts" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="multiple_guts" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_corpse" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_corpse_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_corpsepiece" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_corpsepiece_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_bones" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_bones_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_skulls" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_skulls_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_other" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_other_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="allow_rotate" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="rotate_mode" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="cur_tick_count" comment="GetTickCount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tick_phase" comment="cur_year_tick%10080" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dim_colors" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_thought_type">
        <enum-attr name="value"/>
        <enum-attr name="caption"/>

        <enum-item name="Miscarriage">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="had a miscarriage recently"/>
        </enum-item>
        <enum-item name="Evicted">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="has been evicted lately"/>
        </enum-item>
        <enum-item name="Tired">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been tired lately"/>
        </enum-item>
        <enum-item name="Exhausted">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been exhausted lately"/>
        </enum-item>
        <enum-item name="Hunger">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has complained of hunger lately"/>
        </enum-item>
        <enum-item name="Thirst">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has complained of thirst lately"/>
        </enum-item>
        <enum-item name="Starving">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been starving lately"/>
        </enum-item>
        <enum-item name="Dehydrated">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been dehydrated lately"/>
        </enum-item>
        <enum-item name="ScarceRoyalGuards">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of royal guards lately"/>
        </enum-item>
        <enum-item name="ScarceFortressGuards">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of fortress guards lately"/>
        </enum-item>

        <enum-item name="ScarceCageChain">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of cages and chains lately"/>
        </enum-item>
        <enum-item name="Attacked">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="has been attacked lately"/>
        </enum-item>
        <enum-item name="AttackedByDead">
            <item-attr name="value" value="-100/-60/-40/-20"/>
            <item-attr name="caption" value="has been attacked by a dead (pet/spouse/mother/...) lately"/>
        </enum-item>
        <enum-item name="TaxRoomUnreachable">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was unable to reach a room for tax collection lately"/>
        </enum-item>
        <enum-item name="TaxRoomMisinformed">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was misinformed about a room for tax collection lately"/>
        </enum-item>
        <enum-item name="TaxCollectionRough">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was upset that the tax collection didnt go smoothly lately"/>
        </enum-item>
        <enum-item name="Taxed">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been taxed recently"/>
        </enum-item>
        <enum-item name="TaxedLostProperty">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="has lost property to the Royal Guard recently"/>
        </enum-item>
        <enum-item name="DisappointedNoble">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was upset to have disappointed a noble lately"/>
        </enum-item>
        <enum-item name="LackChairs">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="has complained of the lack of chairs lately"/>
        </enum-item>

        <enum-item name="CrowdedTables">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="has complained of the crowded tables lately"/>
        </enum-item>
        <enum-item name="LackTables">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="has complained of the lack of dining tables lately"/>
        </enum-item>
        <enum-item name="EatVermin">
            <item-attr name="value" value="-30/-20/-10"/>
            <item-attr name="caption" value="was forced to eat vermin to survive lately"/>
        </enum-item>
        <enum-item name="EatLikedCreature">
            <item-attr name="value" value="-50"/>
            <item-attr name="caption" value="was forced to eat a beloved creature to survive lately"/>
        </enum-item>
        <enum-item name="EatPet">
            <item-attr name="value" value="-1000"/>
            <item-attr name="caption" value="was forced to eat a treasured pet to survive lately"/>
        </enum-item>
        <enum-item name="LackWell">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="has complained of the lack of a well lately"/>
        </enum-item>
        <enum-item name="NastyWater">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="has complained of the nasty water lately"/>
        </enum-item>
        <enum-item name="DrinkSlime">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink slime lately"/>
        </enum-item>
        <enum-item name="DrinkVomit">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink vomit lately"/>
        </enum-item>
        <enum-item name="DrinkBlood">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink bloody water lately"/>
        </enum-item>

        <enum-item name="SleepNoise">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="slept uneasily due to noise lately"/>
        </enum-item>
        <enum-item name="SleepNoiseMajor">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="slept very uneasily due to noise lately"/>
        </enum-item>
        <enum-item name="SleepNoiseWake">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was woken by noise while sleeping lately"/>
        </enum-item>
        <enum-item name="LackProtection">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried not to have adequate protection lately"/>
        </enum-item>
        <enum-item name="Drafted">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has complained about the draft lately"/>
        </enum-item>
        <enum-item name="Relieved">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="was upset about being relieved from duty"/>
        </enum-item>
        <enum-item name="ExpelledRoyalGuard">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="was upset about being expelled from the Royal Guard"/>
        </enum-item>
        <enum-item name="ExpelledFortressGuard">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="was upset about being expelled from the Fortress Guard"/>
        </enum-item>
        <enum-item name="ArtDefacement">
            <item-attr name="value" value="-200/x"/>
            <item-attr name="caption" value="has suffered the travesty of art defacement"/>
        </enum-item>
        <enum-item name="AnnoyedFlies">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="has been annoyed by flies"/>
        </enum-item>

        <enum-item name="AnnoyedVermin">
            <item-attr name="value" value="-30/-20/-10"/>
            <item-attr name="caption" value="has been accosted by terrible vermin"/>
        </enum-item>
        <enum-item name="AnnoyedCage">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="saw something unpleasant in a cage recently"/>
        </enum-item>
        <enum-item name="AnnoyedPond">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="saw something unpleasant in a pond recently"/>
        </enum-item>
        <enum-item name="WitnessDeath">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="has witnessed death"/>
        </enum-item>
        <enum-item name="LostPet">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a pet recently"/>
        </enum-item>
        <enum-item name="LostPet2">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a pet recently"/>
        </enum-item>
        <enum-item name="RageKill">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="accidentally killed somebody in a fit of rage recently"/>
        </enum-item>
        <enum-item name="SparringAccident">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="killed somebody by accident while sparring recently"/>
        </enum-item>
        <enum-item name="LostSpouse">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a spouse to tragedy recently"/>
        </enum-item>
        <enum-item name="LostFriend">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a friend to tragedy recently"/>
        </enum-item>

        <enum-item name="LostSibling">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a sibling to tragedy recently"/>
        </enum-item>
        <enum-item name="LostChild">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a child to tragedy recently"/>
        </enum-item>
        <enum-item name="LostMother">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a mother to tragedy recently"/>
        </enum-item>
        <enum-item name="LostFather">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a father to tragedy recently"/>
        </enum-item>
        <enum-item name="Decay">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was forced to endure the decay of a (pet/spouse/mother..)"/>
        </enum-item>
        <enum-item name="AteRotten">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="ate rotten food lately"/>
        </enum-item>
        <enum-item name="DrankSpoiled">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="drank something spoiled lately"/>
        </enum-item>
        <enum-item name="LongPatrol">
            <item-attr name="value" value="-2/-3/-5-/10"/>
            <item-attr name="caption" value="was (grumbling/depressed/angered/enraged) about long patrol duty lately"/>
        </enum-item>
        <enum-item name="BloodyMist">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="was disgusted by a bloody mist lately"/>
        </enum-item>
        <enum-item name="Miasma">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="was disgusted by a miasma lately"/>
        </enum-item>

        <enum-item name="Smoke">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="choked on smoke underground lately"/>
        </enum-item>
        <enum-item name="Dust">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="choked on dust underground lately"/>
        </enum-item>
        <enum-item name="Cavein">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was knocked out during a cave-in lately"/>
        </enum-item>
        <enum-item name="MeetingInDiningRoom">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was embarrassed to have to conduct an official meeting in a dining room"/>
        </enum-item>
        <enum-item name="MeetingInBedroom">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was very embarrassed to have to conduct an official meeting in a bedroom"/>
        </enum-item>
        <enum-item name="NoRooms">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was incredibly embarrassed not to have any rooms lately"/>
        </enum-item>
        <enum-item name="MajorInjuries">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="sustained major injuries recently"/>
        </enum-item>
        <enum-item name="MinorInjuries">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="sustained minor injuries recently"/>
        </enum-item>
        <enum-item name="SleptMud">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the mud recently"/>
        </enum-item>
        <enum-item name="SleptGrass">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the grass recently"/>
        </enum-item>

        <enum-item name="SleptDirt">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the dirt recently"/>
        </enum-item>
        <enum-item name="SleptRocks">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on rocks recently"/>
        </enum-item>
        <enum-item name="SleptRoughFloor">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on a rough cave floor recently"/>
        </enum-item>
        <enum-item name="SleptFloor">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on the floor recently"/>
        </enum-item>
        <enum-item name="BedroomNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept without a proper room recently"/>
        </enum-item>
        <enum-item name="BedroomBad5">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="slept in a horribly substandard bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad4">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="slept in a horrible bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad3">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="slept in an awful bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad2">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="slept in a very poor bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad1">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="slept in a poor bedroom recently"/>
        </enum-item>

        <enum-item name="OfficeBad5">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="conducted a meeting in a horribly substandard setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad4">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="conducted a meeting in a horrible setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="conducted a meeting in an awful setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="conducted a meeting in a very poor setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="conducted a meeting in a poor setting recently"/>
        </enum-item>
        <enum-item name="DiningBad5">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="dined in a horribly substandard dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad4">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="dined in a horrible dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad3">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="dined in an awful dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad2">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="dined in a very poor dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad1">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="dined in a poor dining room recently"/>
        </enum-item>

        <enum-item name="DiningNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="dined without a proper dining room recently"/>
        </enum-item>
        <enum-item name="TombNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="worried greatly about not having a tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad5">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="worried about having a horribly substandard tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad4">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="worried about having a horrible tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="worried about having an awful tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="worried about having a very poor tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="worried about having a poor tomb after gaining another year"/>
        </enum-item>
        <enum-item name="DemandsAngry3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was greatly angered at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsAngry2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was very angered at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsAngry1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was angered at the state of demands recently"/>
        </enum-item>

        <enum-item name="MoreChests">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough chests lately"/>
        </enum-item>
        <enum-item name="MoreCabinets">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough cabinets lately"/>
        </enum-item>
        <enum-item name="MoreArmorStands">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough armor stands lately"/>
        </enum-item>
        <enum-item name="MoreWeaponRacks">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough weapon racks lately"/>
        </enum-item>
        <enum-item name="OldClothing">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was upset to be wearing old clothing lately"/>
        </enum-item>
        <enum-item name="TatteredClothing">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="was upset to be wearing tattered clothing lately"/>
        </enum-item>
        <enum-item name="RottedClothing">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was very upset to have worn clothes rot away lately"/>
        </enum-item>
        <enum-item name="Uncovered">
            <item-attr name="value" value="-20/-10/-5"/>
            <item-attr name="caption" value="was very embarrassed to be uncovered lately"/>
        </enum-item>
        <enum-item name="NoShirt">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was embarrassed to have no shirt lately"/>
        </enum-item>
        <enum-item name="NoShoes"> and i still get service
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was embarrassed to have no shoes lately"/>
        </enum-item>

        <enum-item name="NoCloak">
            <item-attr name="value" value="-20/-10/-5"/>
            <item-attr name="caption" value="was very embarrassed to be uncloaked lately"/>
        </enum-item>
        <enum-item name="Rain">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was caught in the rain recently"/>
        </enum-item>
        <enum-item name="SnowStorm">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was caught in a snow storm recently"/>
        </enum-item>
        <enum-item name="RoomPretension">
            <item-attr name="value" value="-4*x"/>
            <item-attr name="caption" value="was (put off/flustered/upset/very upset/greatly upset/angered/enraged/shattered/traumatized/utterly traumatized) by a lessers pretentious (office/sleeping/dining/burial) arrangements lately"/>
        </enum-item>
        <enum-item name="NoHammer">
            <item-attr name="value" value="-50"/>
            <item-attr name="caption" value="was unable to find an available hammer lately"/>
        </enum-item>
        <enum-item name="MandateIgnored">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by having a mandate ignored lately"/>
        </enum-item>
        <enum-item name="MandateDeadlineMissed">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by having a mandate deadline missed lately"/>
        </enum-item>
        <enum-item name="RequestIgnored">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by having a request ignored lately"/>
        </enum-item>
        <enum-item name="NoPunishment">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was angered that nobody could be punished for a recent failure"/>
        </enum-item>
        <enum-item name="ImproperPunishment">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset that a criminal could not be properly punished"/>
        </enum-item>

        <enum-item name="DelayedPunishment">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by the delayed punishment of a criminal"/>
        </enum-item>
        <enum-item name="GotBeaten">
            <item-attr name="value" value="-10/-5/-3/-2"/>
            <item-attr name="caption" value="was beaten recently"/>
        </enum-item>
        <enum-item name="GotHammered">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was beaten with a hammer recently"/>
        </enum-item>
        <enum-item name="Jailed">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="is depressed about being confined"/>
        </enum-item>
        <enum-item name="LackWork">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was unhappy with the lack of work last season"/>
        </enum-item>
        <enum-item name="Nightmare">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="had a terrifying nightmare about an army of the dead"/>
        </enum-item>
        <enum-item name="AdmireBuilding">
            <item-attr name="value" value="+x"/>
            <item-attr name="caption" value="admired a (fine/very fine/splendid/wonderful/completely sublime) (building) lately"/>
        </enum-item>
        <enum-item name="AdmireOwnBuilding">
            <item-attr name="value" value="+2x"/>
            <item-attr name="caption" value="admired own (fine/very fine/splendid/wonderful/completely sublime) (building) lately"/>
        </enum-item>
        <enum-item name="AdmireArrangedBuilding">
            <item-attr name="value" value="+2x"/>
            <item-attr name="caption" value="admired a (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately"/>
        </enum-item>
        <enum-item name="AdmireOwnArrangedBuilding">
            <item-attr name="value" value="+4x"/>
            <item-attr name="caption" value="admired own (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately"/>
        </enum-item>

        <enum-item name="ComfortedCage">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was comforted by a wonderful creature in a cage recently"/>
        </enum-item>
        <enum-item name="ComfortedPond">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was comforted by a wonderful creature in a pond recently"/>
        </enum-item>
        <enum-item name="RequestApproved">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was pleased by having a request approved lately"/>
        </enum-item>
        <enum-item name="PunishmentReduced">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="was glad to have punishment reduced recently"/>
        </enum-item>
        <enum-item name="PunishmentDelayed">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="was glad to have punishment delayed recently"/>
        </enum-item>
        <enum-item name="GaveBeating">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="beat somebody recently"/>
        </enum-item>
        <enum-item name="GaveHammering">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="beat somebody with a hammer recently"/>
        </enum-item>
        <enum-item name="JoinedRoyalGuard">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="was honored to join the Royal Guard"/>
        </enum-item>
        <enum-item name="JoinedFortressGuard">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was honored to join the Fortress Guard"/>
        </enum-item>
        <enum-item name="SatisfiedAtWork">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="has been satisfied at work lately"/>
        </enum-item>

        <enum-item name="PleasedNoble">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was happy to have pleased a noble lately"/>
        </enum-item>
        <enum-item name="MadeArtifact">
            <item-attr name="value" value="+1000"/>
            <item-attr name="caption" value="is quite pleased with making an artifact"/>
        </enum-item>
        <enum-item name="AcquiredItem">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="made a satisfying acquisition lately"/>
        </enum-item>
        <enum-item name="AdoptedPet">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="adopted a new pet recently"/>
        </enum-item>
        <enum-item name="JoyInSlaughter">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="took joy in slaughter lately"/>
        </enum-item>
        <enum-item name="GoodFood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="ate a pretty decent meal lately"/>
        </enum-item>
        <enum-item name="GoodFood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="ate a fine dish lately"/>
        </enum-item>
        <enum-item name="GoodFood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="ate a wonderful dish lately"/>
        </enum-item>
        <enum-item name="GoodFood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="ate a truly decadent dish lately"/>
        </enum-item>
        <enum-item name="GoodFood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="ate a legendary meal lately"/>
        </enum-item>

        <enum-item name="GoodDrink1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="had a pretty decent drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="had a fine drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="had a wonderful drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="had a truly decadent drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="had a legendary drink lately"/>
        </enum-item>
        <enum-item name="ComfortedPet">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was comforted by a pet lately"/>
        </enum-item>
        <enum-item name="ComfortedCreature">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="saw a beloved creature lately"/>
        </enum-item>
        <enum-item name="MandateDeadlineMet">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was pleased to have a mandate deadline met lately"/>
        </enum-item>
        <enum-item name="Talked">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="talked with (somebody/a pet/a spouse/...) lately"/>
        </enum-item>
        <enum-item name="MadeFriend">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="made a friend recently"/>
        </enum-item>

        <enum-item name="TaxCollectionSmooth">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was pleased that the tax collection went smoothly lately"/>
        </enum-item>
        <enum-item name="Waterfall">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was comforted by a lovely waterfall lately"/>
        </enum-item>
        <enum-item name="OfficeGood5">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="conducted a meeting in a setting worthy of legends recently"/>
        </enum-item>
        <enum-item name="OfficeGood4">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="conducted a meeting in a fantastic setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="conducted a meeting in a great setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="conducted a meeting in a very good setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="conducted a meeting in a good setting recently"/>
        </enum-item>
        <enum-item name="DiningGood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="dined in a legendary dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="dined in a fantastic dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="dined in a great dining room recently"/>
        </enum-item>

        <enum-item name="DiningGood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="dined in a very good dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="dined in a good dining room recently"/>
        </enum-item>
        <enum-item name="BedroomGood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="slept in a bedroom like a personal palace recently"/>
        </enum-item>
        <enum-item name="BedroomGood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="slept in a fantastic bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="slept in a great bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="slept in a very good bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="slept in a good bedroom recently"/>
        </enum-item>
        <enum-item name="DemandsPleased3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was greatly pleased at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsPleased2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was very pleased at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsPleased1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was pleased at the state of demands recently"/>
        </enum-item>

        <enum-item name="TombGood5">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="celebrated having a legendary tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood4">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="celebrated having a fantastic tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="celebrated having a great tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="celebrated having a very good tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="celebrated having a good tomb after gaining another year"/>
        </enum-item>
        <enum-item name="FistFight">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="enjoyed starting a fist fight recently"/>
        </enum-item>
        <enum-item name="SmashedBuilding">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="enjoyed smashing up a building recently"/>
        </enum-item>
        <enum-item name="ToppledStuff">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="enjoyed toppling something over recently"/>
        </enum-item>
        <enum-item name="ThrownStuff">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="enjoyed throwing something recently"/>
        </enum-item>
        <enum-item name="Spar">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="had a satisfying sparring session recently"/>
        </enum-item>

        <enum-item name="Free">
            <item-attr name="value" value="+1000"/>
            <item-attr name="caption" value="is happy to be free"/>
        </enum-item>
        <enum-item name="SunNausea">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="was nauseated by the sun lately"/>
        </enum-item>
        <enum-item name="SunIrritated">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was irritated by the sun lately"/>
        </enum-item>
        <enum-item name="Rest">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was able to rest and recuperate lately"/>
        </enum-item>
        <enum-item name="ReceivedWater">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="received water recently"/>
        </enum-item>
        <enum-item name="ReceivedFood">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="received food recently"/>
        </enum-item>
        <enum-item name="Rescued">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was rescued recently"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_flags1" base-type="uint32_t">
        <ld:field name="move_state" comment="Can the dwarf move or are they waiting for their movement timer" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dead" comment="Dead (might also be set for incoming/leaving critters that are alive)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_mood" comment="Currently in mood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="had_mood" comment="Had a mood already" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="marauder" comment="wide class of invader/inside creature attackers" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="drowning" comment="Is currently drowning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="merchant" comment="An active merchant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="forest" comment="used for units no longer linked to merchant/diplomacy, they just try to leave mostly" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="left" comment="left the map" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rider" comment="Is riding an another creature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="incoming" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="diplomat" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="zombie" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="skeleton" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="can_swap" comment="Can swap tiles during movement (prevents multiple swaps)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="on_ground" comment="The creature is laying on the floor, can be conscious" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="projectile" comment="Launched into the air? Funny." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="active_invader" comment="Active invader (for organized ones)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden_in_ambush" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="invader_origin" comment="Invader origin (could be inactive and fleeing)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="coward" comment="Will flee if invasion turns around" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden_ambusher" comment="Active marauder/invader moving inward?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="invades" comment="Marauder resident/invader moving in all the way" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="check_flows" comment="Check against flows next time you get a chance" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="ridden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="caged" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tame" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="chained" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="royal_guard" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fortress_guard" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="suppress_wield" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="important_historical_figure" comment="Is an important historical figure" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_flags2" base-type="uint32_t">
        <ld:field name="swimming" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sparring" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="no_notify" comment="Do not notify about level gains (for embark etc)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unused" comment="Has its own allocated copy of body_info, rather than a direct pointer to the creature raws" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="calculated_nerves" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="calculated_bodyparts" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="important_historical_figure" comment="Is important historical figure (slight variation)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="killed" comment="Has been killed by kill function (slightly different from dead, not necessarily violent death)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="cleanup_1" comment="Must be forgotten by forget function (just cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cleanup_2" comment="Must be deleted (cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cleanup_3" comment="Recently forgotten (cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="for_trade" comment="Offered for trade" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="trade_resolved" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_breaks" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="gutted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="circulatory_spray" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="locked_in_for_trading" comment="Locked in for trading (it's a projectile on the other set of flags, might be what the flying was)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="slaughter" comment="marked for slaughter" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="underworld" comment="Underworld creature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="resident" comment="Current resident" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="cleanup_4" comment="Marked for special cleanup as unused load from unit block on disk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="calculated_insulation" comment="Insulation from clothing calculated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="visitor_uninvited" comment="Uninvited guest" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="visitor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="calculated_inventory" comment="Inventory order calculated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_good" comment="Vision -- have good part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_damaged" comment="Vision -- have damaged part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_missing" comment="Vision -- have missing part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="breathing_good" comment="Breathing -- have good part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="breathing_problem" comment="Breathing -- having a problem" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="roaming_wilderness_population_source" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="roaming_wilderness_population_source_not_a_map_feature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="mood_type" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="Fey"/>
        <enum-item name="Secretive"/>
        <enum-item name="Possessed"/>
        <enum-item name="Macabre"/>
        <enum-item name="Fell"/>
        <enum-item name="Melancholy"/>
        <enum-item name="Raving"/>
        <enum-item name="Berserk"/>
        <enum-item name="Baby"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="skill_rating" base-type="int16_t">
        <enum-attr name="xp_threshold" type-name="uint32_t"/>
        <enum-attr name="caption"/>

        <enum-item name="Dabbling">
            <item-attr name="xp_threshold" value="500"/>
            <item-attr name="caption" value="Dabbling"/>
        </enum-item>
        <enum-item name="Novice">
            <item-attr name="xp_threshold" value="600"/>
            <item-attr name="caption" value="Novice"/>
        </enum-item>
        <enum-item name="Adequate">
            <item-attr name="xp_threshold" value="700"/>
            <item-attr name="caption" value="Adequate"/>
        </enum-item>
        <enum-item name="Competent">
            <item-attr name="xp_threshold" value="800"/>
            <item-attr name="caption" value="Competent"/>
        </enum-item>
        <enum-item name="Skilled">
            <item-attr name="xp_threshold" value="900"/>
            <item-attr name="caption" value="Skilled"/>
        </enum-item>
        <enum-item name="Proficient">
            <item-attr name="xp_threshold" value="1000"/>
            <item-attr name="caption" value="Proficient"/>
        </enum-item>
        <enum-item name="Talented">
            <item-attr name="xp_threshold" value="1100"/>
            <item-attr name="caption" value="Talented"/>
        </enum-item>
        <enum-item name="Adept">
            <item-attr name="xp_threshold" value="1200"/>
            <item-attr name="caption" value="Adept"/>
        </enum-item>
        <enum-item name="Expert">
            <item-attr name="xp_threshold" value="1300"/>
            <item-attr name="caption" value="Expert"/>
        </enum-item>
        <enum-item name="Professional">
            <item-attr name="xp_threshold" value="1400"/>
            <item-attr name="caption" value="Professional"/>
        </enum-item>
        <enum-item name="Accomplished">
            <item-attr name="xp_threshold" value="1500"/>
            <item-attr name="caption" value="Accomplished"/>
        </enum-item>
        <enum-item name="Great">
            <item-attr name="xp_threshold" value="1600"/>
            <item-attr name="caption" value="Great"/>
        </enum-item>
        <enum-item name="Master">
            <item-attr name="xp_threshold" value="1700"/>
            <item-attr name="caption" value="Master"/>
        </enum-item>
        <enum-item name="HighMaster">
            <item-attr name="xp_threshold" value="1800"/>
            <item-attr name="caption" value="High Master"/>
        </enum-item>
        <enum-item name="GrandMaster">
            <item-attr name="xp_threshold" value="1900"/>
            <item-attr name="caption" value="Grand Master"/>
        </enum-item>
        <enum-item name="Legendary">
            <item-attr name="xp_threshold" value="2000"/>
            <item-attr name="caption" value="Legendary"/>
        </enum-item>
        <enum-item name="Legendary1">
            <item-attr name="xp_threshold" value="2100"/>
            <item-attr name="caption" value="Legendary+1"/>
        </enum-item>
        <enum-item name="Legendary2">
            <item-attr name="xp_threshold" value="2200"/>
            <item-attr name="caption" value="Legendary+2"/>
        </enum-item>
        <enum-item name="Legendary3">
            <item-attr name="xp_threshold" value="2300"/>
            <item-attr name="caption" value="Legendary+3"/>
        </enum-item>
        <enum-item name="Legendary4">
            <item-attr name="xp_threshold" value="2400"/>
            <item-attr name="caption" value="Legendary+4"/>
        </enum-item>
        <enum-item name="Legendary5">
            <item-attr name="caption" value="Legendary+5"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_relationship_type" base-type="int16_t" comment="Used in unit.relations">
        <enum-item name="Pet"/>
        <enum-item name="Spouse"/>
        <enum-item name="Mother"/>
        <enum-item name="Father"/>
        <enum-item name="LastAttacker"/>
        <enum-item name="GroupLeader"/>
        <enum-item name="Dragee"/>
        <enum-item name="Dragger"/>
        <enum-item name="RiderMount"/>
        <enum-item name="unk9"/>
        <enum-item name="Sibling"/>
        <enum-item name="Child"/>
        <enum-item name="Friend"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit" key-field="id" instance-vector="$global.world.units.all">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
              (fmt "(~A)" $it.creature_id))
        </code-helper>

        <ld:field name="custom_profession" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="profession" type-name="profession" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="profession2" type-name="profession" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_matgloss" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pos" type-name="coord32" ld:level="1" ld:meta="global"/>
        <ld:field name="idle_area" type-name="coord32" ld:level="1" ld:meta="global">
            <comment>
                E.g. for a dead miner, holds the place where he
                was likely hanging around when he got the command
                to mine in an aquifer.
            </comment>
        </ld:field>
        <ld:field name="idle_area_threshold" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="follow_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="path" ld:level="1" ld:meta="compound" ld:typedef-name="T_path">
            <ld:field name="dest" type-name="coord32" ld:level="2" ld:meta="global"/>
            <ld:field name="path" type-name="coord32_path" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="flags1" type-name="unit_flags1" ld:level="1" ld:meta="global"/>
        <ld:field name="flags2" type-name="unit_flags2" ld:level="1" ld:meta="global"/>

        <ld:field name="meeting" ld:level="1" ld:meta="compound" ld:typedef-name="T_meeting">
            <ld:field ld:subtype="enum" name="state" base-type="int8_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_state">
                <enum-item name="SelectNoble" value="0"/>
                <enum-item name="FollowNoble" value="1"/>
                <enum-item name="DoMeeting" value="2"/>
                <enum-item name="LeaveMap" value="3"/>
            </ld:field>
            <ld:field ld:subtype="enum" name="target_profession" type-name="profession" base-type="int16_t" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="sex" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="idle_location_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="schedule_id" ref-target="schedule_info" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="patrol_route" type-name="coord32_path" ld:level="1" ld:meta="global"/>
        <ld:field name="patrol_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" pointer-type="specific_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="specific_ref"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>

        <ld:field name="military" ld:level="1" ld:meta="compound" ld:typedef-name="T_military">
            <ld:field type-name="language_name" name="name" ld:level="2" ld:meta="global"/>
            <ld:field name="rations" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="sleep_mode" comment="0=ground, 1=barracks, 2=room" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_flags">
                <ld:field name="pickup_food" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="carry_water" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="hold_ground" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="attack_animals" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="stand_down" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:field>
            <ld:field name="patrol_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="patrol_cooldown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="station_pos" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="pickup_food_cooldown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="animal" ld:level="1" ld:meta="compound" ld:typedef-name="T_animal">
            <ld:field name="population" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="leave_countdown" comment="once 0, it heads for the edge and leaves" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="vanish_countdown" comment="once 0, it collapses and dies" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:subtype="enum" type-name="mood_type" name="mood" ld:level="1" ld:meta="global"/>

        <ld:field name="mood_claimedWorkshop" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="relations" ld:level="1" ld:meta="compound" ld:typedef-name="T_relations">
            <ld:field name="pregnancy_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="age_seconds" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="age_years" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="age_death" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="following" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>

            This should be a static-array, size 9, with index-enum unit_relationship_type; will likely need to fix plugins and scripts
            <ld:field name="pet_owner_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="spouse_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="mother_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="father_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="last_attacker_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="group_leader_id" ref-target="unit" comment="used by goblins, adv mode companions etc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="draggee_id" ref-target="unit" comment="unit being dragged by this one" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="dragger_id" ref-target="unit" comment="unit that drags this one" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="rider_mount_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="mount_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="killer_profession" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inventory" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_inventory_item"><ld:item ld:level="3" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="owned_items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="traded_items" comment="items brought to trade depot" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="owned_artifacts" pointer-type="artifact_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="artifact_record"><ld:item ld:level="3" ld:meta="global" type-name="artifact_record"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="owned_buildings" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="corpse_items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="job" ld:level="1" ld:meta="compound" ld:typedef-name="T_job">
            <ld:field name="account" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="satisfaction" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="hunt_target" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="building" name="destroy_target" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:field>
            <ld:field name="last_attack_dir" type-name="coord32" comment="Z never used" ld:level="2" ld:meta="global"/>
            <ld:field name="siege_morale" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="morale_recovery_timer" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="pointer" comment="df_job" name="current_job" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mood_item_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="item_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mood_item_subtype" ld:is-container="true">
                <ld:item refers-to="(item-subtype-target $$._parent._parent.mood_item_type[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mood_material" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="material_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mood_matgloss" ld:is-container="true">
                <ld:item refers-to="(matgloss-target $$._parent._parent.mood_material[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:subtype="enum" base-type="int32_t" name="mood_skill" type-name="job_skill" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field comment="in advmode, lets non-player unit have job_counter update if nonzero" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field name="mood_timeout" comment="insanity upon reaching zero" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="body" ld:level="1" ld:meta="compound" ld:typedef-name="T_body">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wounds" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="flags" type-name="int32_t" comment="1=burning" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="nerves" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bodyparts" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="insulation" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="body_plan" type-name="body_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="body_info"/></ld:field>

            <ld:field name="weapon_hand_bp" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="blood_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="blood_remaining" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="bleed_rate" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="counters" ld:level="1" ld:meta="compound" ld:typedef-name="T_counters">
            <ld:field name="fame_level" comment="influences counterattacks and limits hired companions" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="think_counter" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="job_counter" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="swap_counter" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="death_cause" type-name="death_type" comment="used when thrown as a projectile" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field name="nausea" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="winded" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="stunned" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unconscious" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
            <ld:field name="webbed" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="paralysis" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="guts_trail1" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="guts_trail2" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="soldier_mood_countdown" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:subtype="enum" name="soldier_mood" base-type="int16_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_soldier_mood">
                <enum-item name="None" value="-1"/>
                <enum-item name="MartialTrance"/>
                <enum-item name="Enranged"/>
                <enum-item name="Tantrum"/>
            </ld:field>
            <ld:field name="pain" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="exhaustion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="hunger_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="thirst_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="sleepiness_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="stomach_content" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contaminants" pointer-type="unit_contaminant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_contaminant"><ld:item ld:level="3" ld:meta="global" type-name="unit_contaminant"/></ld:item></ld:field>
        <ld:field name="status" ld:level="1" ld:meta="compound" ld:typedef-name="T_status">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="misc_traits" pointer-type="unit_misc_trait" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_misc_trait"><ld:item ld:level="4" ld:meta="global" type-name="unit_misc_trait"/></ld:item></ld:field>

            <ld:field name="demand_timeout" init-value="1000" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="mandate_timeout" init-value="1000" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>

            <ld:field type-name="language_name" name="artifact_name" ld:level="2" ld:meta="global"/>
            <ld:field name="strength" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="agility" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="toughness" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="skills" pointer-type="unit_skill" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_skill"><ld:item ld:level="4" ld:meta="global" type-name="unit_skill"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="preferences" pointer-type="unit_preference" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_preference"><ld:item ld:level="4" ld:meta="global" type-name="unit_preference"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="demands" pointer-type="unit_demand" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_demand"><ld:item ld:level="4" ld:meta="global" type-name="unit_demand"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="labors" index-enum="unit_labor" count="91" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field name="total_exp" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> for attribute boosts
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wrestle_items" pointer-type="unit_item_wrestle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_item_wrestle"><ld:item ld:level="4" ld:meta="global" type-name="unit_item_wrestle"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="observed_traps" ld:is-container="true">
                <ld:item ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="recent_events" pointer-type="unit_thought" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_thought"><ld:item ld:level="4" ld:meta="global" type-name="unit_thought"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="recent_dreams" pointer-type="unit_thought" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_thought"><ld:item ld:level="4" ld:meta="global" type-name="unit_thought"/></ld:item></ld:field>

            <ld:field name="happiness" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="insanity_chance" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="complaints" pointer-type="unit_complaint" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_complaint"><ld:item ld:level="4" ld:meta="global" type-name="unit_complaint"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="requests" pointer-type="unit_request" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_request"><ld:item ld:level="4" ld:meta="global" type-name="unit_request"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="acquaintances" pointer-type="unit_acquaintance" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_acquaintance"><ld:item ld:level="4" ld:meta="global" type-name="unit_acquaintance"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="coin_debts" pointer-type="unit_coin_debt" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_coin_debt"><ld:item ld:level="4" ld:meta="global" type-name="unit_coin_debt"/></ld:item></ld:field>

            <ld:field name="adv_sleep_timer" comment="and some other things" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field type-name="coord32" ld:level="2" ld:meta="global" ld:anon-name="anon_2"/>
            <ld:field type-name="coord32_path" ld:level="2" ld:meta="global" ld:anon-name="anon_3"/>
        </ld:field>

        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="status2" ld:level="1" ld:meta="compound" ld:typedef-name="T_status2">
            <ld:field name="limbs_stand_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_stand_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="able_breathe" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="limbs_grasp_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_grasp_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_fly_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_fly_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="specialattack_cooldown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_temperature" pointer-type="temperaturest" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="temperaturest"><ld:item ld:level="4" ld:meta="global" type-name="temperaturest"/></ld:item></ld:field>
            <ld:field name="enemy_status_slot" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="last_temp_update" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_inventory_item">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <code-helper name="describe">$.mode (describe-obj $.item)</code-helper>

        <ld:field ld:subtype="enum" base-type="int16_t" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="Hauled"/>
            <enum-item name="Weapon" comment="also shield"/>
            <enum-item name="Worn" comment="Body"/>
            <enum-item name="Unk3" comment="Neck"/>
            <enum-item name="Unk4" comment="Head"/>
            <enum-item name="Unk5" comment="Finger"/>
            <enum-item name="Piercing" comment="Ear"/>
            <enum-item name="Unk7" comment="Wrist"/>
            <enum-item name="Unk8" comment="Feet"/>
            <enum-item name="Unk9" comment="Hands"/>
            <enum-item name="Unk10" comment="Legs"/>
            <enum-item name="Unk11" comment="Body"/>
            <enum-item name="Unk12" comment="Body"/>
            <enum-item name="Unk13" comment="Back"/>
            <enum-item name="Flask" comment="Belt"/>
            <enum-item name="StuckIn"/>
            <enum-item name="InMouth" comment="Mouth"/>
            <enum-item name="Pet" comment="pet vermin"/>
        </ld:field>

        <ld:field name="body_part_id" refers-to="$$._global._parent._global.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="pet_seed" comment="simple RNG seed to determine LeftShoulder/RightShoulder/Head for vermin" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_contaminant">
        <ld:field type-name="contaminant" name="contaminant" ld:level="1" ld:meta="global"/>
        <ld:field name="body_part_id" refers-to="$$._global._parent._global.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_16" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" base-type="int16_t" type-name="misc_trait_type">
        <enum-item name="RequestWaterCooldown"/> for thirsty patients
        <enum-item name="RequestFoodCooldown"/> for hungry patients
        <enum-item name="RequestRescueCooldown"/>
        <enum-item name="GetDrinkCooldown"/>
        <enum-item name="GetFoodCooldown"/>
        <enum-item name="Migrant"/>
        <enum-item name="RoomComplaint"/>
        <enum-item name="ResidentCreature" comment="upon reaching zero, it gets a name"/>
        <enum-item name="RentBedroomCooldown"/>
        <enum-item name="ClaimTrinketCooldown"/>
        <enum-item name="ClaimClothingCooldown"/>
        <enum-item name="WantsDrink" comment="ALCOHOLIC"/>
        <enum-item name="LikesOutdoors" comment="MOUNTAIN"/>
        <enum-item name="Hardened" comment="COMBATHARDNESS"/>
        <enum-item name="TimeSinceBreak" comment="TIME_SINCE_BREAK"/>
        <enum-item name="OnBreak" comment="ON_BREAK"/>
        <enum-item name="PrepareToDie"/>
        <enum-item name="CaveAdapt" comment="CAVE_ADAPT"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_misc_trait">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="misc_trait_type" name="id" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">(fmt "id=~A value=~A" $.id $.value)</code-helper>

        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_acquaintance">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="strength" comment="&gt;= 30 -&gt; long-term" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timer" comment="+1 per 10 frames; limit at 1 year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="is_friend" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_thought">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="unit_thought_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="age" comment="+1 per frame" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subtype" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="severity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_item_wrestle">
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="self_bp" refers-to="$$._parent._upglobal.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="other_bp" refers-to="$$._parent.unit.ref-target.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="self_bp2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="other_bp2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item1" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item2" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="type" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="direction" comment="1 grabs, -1 grabbed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_skill">
        <ld:field ld:subtype="enum" base-type="int16_t" name="id" type-name="job_skill" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">$.id</code-helper>

        <ld:field ld:subtype="enum" base-type="int16_t" name="rating" type-name="skill_rating" ld:level="1" ld:meta="global"/>
        <ld:field name="experience" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_preference">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="LikeMaterial"/>
            <enum-item name="LikeCreature"/>
            <enum-item name="LikeFood"/>
            <enum-item name="HateCreature"/>
            <enum-item name="LikeItem"/>
            <enum-item name="LikePlant"/>
            <enum-item name="LikeTree"/>
            <enum-item name="LikeColor"/>
            <enum-item name="LikeShape"/>
        </ld:field>

        <code-helper name="describe">$.type</code-helper>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
            <ld:field name="creature_id" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="color_id" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="shape_id" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant_id" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="wood_id" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="prefstring_seed" comment="feeds into a simple RNG to choose which prefstring to use" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_complaint">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="SelfUnemployed"/>
            <enum-item name="GuildUnemployed"/>
            <enum-item name="NeedWeapons"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="guild_id" name="guild" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_request">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="DoGuildJobs"/>
            <enum-item name="MakeWeapons"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="guild_id" name="guild" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_coin_debt">
        <ld:field name="recipient" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_chunk" instance-vector="$global.world.unit_chunks" key-field="id">
        <ld:field name="id" comment="unit_*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="units" count="100" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_units">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
        </ld:item>
            
            
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="vermin_flags" base-type="uint32_t">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="is_colony" comment="A vermin colony." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="vermin" instance-vector="$global.world.vermin">

        <code-helper name="describe">
            (awhen (find-creature $.race)
              (fmt "(~A)" $it.creature_id))
        </code-helper>

        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="visible" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="countdown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field name="flags" type-name="vermin_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="amount" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="interface_breakdown_types" base-type="int8_t">
        <enum-item name="NONE"/>
        <enum-item name="QUIT"/>
        <enum-item name="STOPSCREEN"/>
        <enum-item name="TOFIRST"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen" original-name="viewscreenst" custom-methods="true">
        <ld:field ld:level="1" ld:meta="pointer" name="child" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="parent" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int8_t" name="breakdown_level" type-name="interface_breakdown_types" ld:level="1" ld:meta="global"/>
        <ld:field name="option_key_pressed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        
        <virtual-methods>
            <vmethod ld:level="1" name="view"/>
            <vmethod ld:level="1" name="help"/>
            <vmethod ld:level="1" ret-type="int8_t" name="movies_okay"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="is_option_screen"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="is_save_screen"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object" original-name="layer_objectst">
        <ld:field name="enabled" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <virtual-methods>
            No destructor anywhere:
            <vmethod ld:level="1" ret-type="int32_t" name="getFirstVisible"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getLastVisible"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getX1"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getY1"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getX2"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getY2"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="isList"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getListCursor"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setListCursor"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="feed"/>

            <vmethod ld:level="1" ret-type="bool" name="isSetMouseLRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSetMouseLCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSetMouseRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMouseLCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMouseRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getListLength"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setListLength"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object_listst" inherits-from="layer_object">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_entries" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="page_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_l_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_r_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rclick_scrolls" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:subtype="enum" name="key_lclick" base-type="int32_t" type-name="interface_key" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="key_rclick" base-type="int32_t" type-name="interface_key" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object_buttonst" inherits-from="layer_object">
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_l_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_r_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer" original-name="viewscreen_layerst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="layer_object" name="layer_objects" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="layer_object"><ld:item ld:level="3" ld:meta="global" type-name="layer_object"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="interfacest">
        <ld:field name="announcements" ld:level="1" ld:meta="compound" ld:typedef-name="T_announcements">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="reports" pointer-type="report" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="report"><ld:item ld:level="4" ld:meta="global" type-name="report"/></ld:item></ld:field>
            <ld:field name="report_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="current_key" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="current_shift" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>

        <ld:field ld:level="1" ld:meta="static-array" count="256" name="keyNames" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_keyNames">
            <ld:field name="normal" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="shift" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:item>
            
            
        </ld:field>

        <ld:field name="view" type-name="viewscreen" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="static-array" count="661" name="keybinds" index-enum="interface_key" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_keybinds">
            <ld:field name="description" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="token" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="key" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
            <ld:field name="is_shift" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:item>
            
            
            
            
            
            
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="256" type-name="int8_t" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="supermovie_on" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="supermovie_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supermovie_delayrate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supermovie_delaystep" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="supermovie_sound" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="supermovie_sound_time" count="16" comment="SOUND_CHANNELNUM" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="200" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int8_t" name="supermoviebuffer" count="800000" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int8_t" name="supermoviebuffer_comp" count="1000000" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field name="currentblocksize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="nextfilepos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="first_movie_write" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="movie_file" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_conversationst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="conversation" type-name="conversation" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="conversation"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_adventure_travelst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="site_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeonmodest" inherits-from="viewscreen">
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeon_monsterstatusst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="inventory_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="body_part_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_part" ld:is-container="true">
            <ld:item refers-to="$$._global.unit.body.body_plan.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeon_announcest" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="map_rotate" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="more" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_adventure_logst" inherits-from="viewscreen">
        <ld:field name="show_map" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="player_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="x_min" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y_min" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="x_max" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y_max" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="menu_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="show_line" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="section_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tasks" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="wrestle_move_type" base-type="int16_t">
        <enum-item name="Lock"/>
        <enum-item name="Choke"/>
        <enum-item name="Takedown"/>
        <enum-item name="Throw"/>
        <enum-item name="Pinch"/>
        <enum-item name="Gouge"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Break"/>
        <enum-item name="Release"/>
        <enum-item name="Shake"/>
        <enum-item name="Strangle"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeon_wrestlest" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit1" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unit2" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="wrestle_items" pointer-type="unit_item_wrestle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_item_wrestle"><ld:item ld:level="3" ld:meta="global" type-name="unit_item_wrestle"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field name="options" ld:level="1" ld:meta="compound" ld:typedef-name="T_options">
            <ld:field ld:level="2" ld:meta="pointer" name="target" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="your_inv" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_inventory_item"><ld:item ld:level="4" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="your_bp" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="enemy_inv" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_inventory_item"><ld:item ld:level="4" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="enemy_bp" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="your_wrestles" pointer-type="unit_item_wrestle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_item_wrestle"><ld:item ld:level="4" ld:meta="global" type-name="unit_item_wrestle"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="enemy_wrestles" pointer-type="unit_item_wrestle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_item_wrestle"><ld:item ld:level="4" ld:meta="global" type-name="unit_item_wrestle"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="your_stuckin_inv" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_inventory_item"><ld:item ld:level="4" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="enemy_stuckin_inv" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_inventory_item"><ld:item ld:level="4" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cmd_your_bp_idx" type-name="int16_t" comment="index into your_bp" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cmd_your_inv_idx" type-name="int16_t" comment="index into your_inv" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cmd_enemy_bp_idx" type-name="int16_t" comment="index into enemy_bp" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cmd_enemy_inv_idx" type-name="int16_t" comment="index into enemy_inv" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="aux_target_wrestle_idx" type-name="int16_t" comment="index into your_wrestles" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="aux_move_type" type-name="wrestle_move_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="wrestle_move_type"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="aux_target_bp" type-name="int16_t" comment="child bp of selected wrestling move target" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_setupadventurest" inherits-from="viewscreen">
        <ld:field name="entering_name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="name_buffer" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="civ_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_points" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="screen_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player" type-name="unit_profile" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="races" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis_idxs" type-name="int16_t" refers-to="$global.world.nemesis.all[$]" ld:is-container="true"><ld:item refers-to="$global.world.nemesis.all[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="avail_skills" ld:is-container="true"><ld:item ld:subtype="enum" type-name="job_skill" base-type="int16_t" ld:level="2" ld:meta="global"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dwarfmodest" inherits-from="viewscreen">
        <ld:field name="jeweler_mat_count" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="jeweler_cutgem" ref-target="matgloss_gem" ld:is-container="true"><ld:item ref-target="matgloss_gem" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> plus the 3 glass types at the end
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="jeweler_encrust" ref-target="matgloss_gem" ld:is-container="true"><ld:item ref-target="matgloss_gem" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_labor_list" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="unit_labor" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_selectitemst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="item_subtype" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="material" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="matgloss" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="all_items" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="embark_screen" type-name="viewscreen_setupdwarfgamest" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen_setupdwarfgamest"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="matching_items" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field name="title" size="80" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field size="200" ld:level="1" ld:meta="bytes" ld:subtype="static-string" ld:anon-name="anon_1"/>
        <ld:field name="filter" size="80" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_export_regionst" inherits-from="viewscreen">
        <ld:field name="cur_step" comment="1 = saving world, 2 = offloading units, 3 = offloading art, 4 = sorting histfigs, 5 = saving world info, 6 = deleting active saves, 7 = cleanup" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="export_state" ld:level="1" ld:meta="compound" ld:typedef-name="T_export_state">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="offload_units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit_chunk" name="cur_unit_chunk" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_chunk"/></ld:field>
            <ld:field name="unit_chunk_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="offload_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_new_regionst" inherits-from="viewscreen">
        <ld:field name="prompt_abort" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_legendsst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfigs" ld:is-container="true">
            <ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" ld:is-container="true">
            <ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="artifacts" ld:is-container="true">
            <ld:item ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" ld:is-container="true">
            <ld:item ref-target="world_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" ld:is-container="true">
            <ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="cur_section" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="outer_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="avail_sections" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="inner_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_dat_summary">
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_1"/>
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="static-array" count="15" type-name="int8_t" comment="same as the one at the top of world_data" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="save_slot_num" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_unit_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_item_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_entity_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_nemesis_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_artifact_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_building_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_hist_figure_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_hist_event_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_unit_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_art_image_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_task_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_sav_summary">
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="save_slot_num" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_unit_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_item_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_entity_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_nemesis_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_artifact_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_job_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_schedule_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_projectile_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_building_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_hist_figure_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_hist_event_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_unit_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_art_image_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="last_task_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="game_mode" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="FortOrAdvName" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="WorldName" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_titlest" inherits-from="viewscreen">
        <ld:field name="str_histories" size="200" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="cur_option" size="200" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="sel_subpage" ld:level="1" ld:meta="compound" ld:typedef-name="T_sel_subpage">
            <enum-item name="None"/>
            <enum-item name="StartRegion"/>
            <enum-item name="StartType"/>
        </ld:field>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="world_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="loading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="menu_line_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="game_type" name="gametypes_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="game_type"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="gametypes_str" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="world_dat_summary" name="world_dat_files" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_dat_summary"><ld:item ld:level="3" ld:meta="global" type-name="world_dat_summary"/></ld:item></ld:field>

        <ld:field name="str_slaves" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_chapter" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_copyright" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_version" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_programmed" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_designed" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_visit" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_site" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_announcelistst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_kitchenprefst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_subtype" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._global.group_item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="matgloss" ld:is-container="true">
            <ld:item refers-to="(matgloss-target $$._parent._parent.material[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="quantity" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cur_flags" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="valid_flags" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_petst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animal" ld:is-container="true">
            <ld:item ld:anon-compound="true" is-union="true" ld:level="2" ld:meta="compound" ld:typedef-name="T_animal" ld:in-union="true">
                <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>     item_verminst
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_vermin" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pet_info" pointer-type="pet_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="pet_info"><ld:item ld:level="3" ld:meta="global" type-name="pet_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_tame" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_adopting" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_pricest" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="category_scroll" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_justicest" inherits-from="viewscreen">
        <ld:field name="jails_needed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="jails_present" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="criminals" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="crimes" pointer-type="crime_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="crime_info"><ld:item ld:level="3" ld:meta="global" type-name="crime_info"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="punishment" type-name="punishment_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="punishment_info"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_wagesst" inherits-from="viewscreen">
        <ld:field name="page" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_jobmanagementst" inherits-from="viewscreen">
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_createquotast" inherits-from="viewscreen">
        <ld:field name="str_filter" size="80" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="top_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orders" pointer-type="manager_order_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="manager_order_template"><ld:item ld:level="3" ld:meta="global" type-name="manager_order_template"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="page_indices" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="want_quantity" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_unitjobsst" inherits-from="viewscreen">
        <ld:field ld:subtype="enum" base-type="int8_t" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="Jobs"/>
            <enum-item name="Units"/>
        </ld:field>
        <ld:field name="allow_zoom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="cursor_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="jobs" pointer-type="job" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="job"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_treasurelistst" inherits-from="viewscreen">
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_entityst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>?
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="members" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="nemesis_record"><ld:item ld:level="3" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
        <ld:field name="member_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreements" pointer-type="meeting_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_event"><ld:item ld:level="3" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_status" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="agreement_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="page" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_civlistst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="civs" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_entity"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_squadst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="leader" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_commandchainst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="unit" name="units" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="indent_level" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="column" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="promote_parent" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="weapons_mode" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="royalguards_needed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="royalguards_present" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fortguards_needed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fortguards_present" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_overallstatusst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_max" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_buildinglistst" inherits-from="viewscreen">
        <ld:field name="cursor" refers-to="$$._parent.buildings[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="alt_right_panel" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings2" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_value" type-name="int32_t" index-refers-to="$$._parent.buildings[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_value2" type-name="int32_t" index-refers-to="$$._parent.buildings2[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_noblelistst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nobles" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_status" type-name="pointer" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_noblest" inherits-from="viewscreen">
        <ld:field name="cur_offerings" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_storesst" inherits-from="viewscreen">
        <ld:field name="title" size="80" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="category_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="item_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="in_right_list" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="in_group_mode" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="category_total" type-name="int32_t" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="category_busy" type-name="int32_t" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field name="group" ld:level="1" ld:meta="compound" ld:typedef-name="T_group">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_subtype" ld:is-container="true">
                <ld:item refers-to="(item-subtype-target $$._global.group_item_type[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="material" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="material_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="matgloss" ld:is-container="true">
                <ld:item refers-to="(matgloss-target $$._parent._parent.material[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>
        <ld:field name="can_zoom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_itemst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entry_ref" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="indent_levels" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="cursor_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_buildingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="building" name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_jobst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="job" name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_optionst" inherits-from="viewscreen">
        <ld:field name="quit_msg" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="retire_confirm" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="peasant_msg" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="quit_confirm" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="end_game" comment="triggered Too Deep ending, for some reason" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_savegamest" inherits-from="viewscreen">
        <ld:field name="show_prompt" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="show_success" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="do_save" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="save_filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_keybindingsst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="interface_key" name="keys" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="interface_key"/></ld:field>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="in_modify" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_unitst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_customize_unitst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="editing_name" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="editing_profession" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="original_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="has_name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_movieplayerst" inherits-from="viewscreen">
        <ld:field name="saving" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="loading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="text_mode" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing_char" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="editing_copy_from" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="editing_screenf" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_screenb" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_screenbright" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_selected_sound" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="editing_menu" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="savename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="force_file" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="is_playing" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="is_forced_play" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="quit_if_no_play" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="maxmoviepos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_frame_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="selfile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="filelist" type-name="ptr-string" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="ptr-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_loadgamest" inherits-from="viewscreen">
        <ld:field name="do_load" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="world_sav_summary" name="world_sav_files" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_sav_summary"><ld:item ld:level="3" ld:meta="global" type-name="world_sav_summary"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_stockpilest" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" name="settings" type-name="stockpile_settings" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="stockpile_settings"/></ld:field>
        <ld:field ld:subtype="enum" name="cur_group" type-name="stockpile_list" base-type="int32_t" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="cur_list" type-name="stockpile_list" base-type="int32_t" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_ids" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="stockpile_list" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_bits" ld:is-container="true">
            <ld:item type-name="item_category" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="list_ids" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="stockpile_list" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_names" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_status" pointer-type="bool" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="bool"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_workshop_profilest" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" name="profile" type-name="workshop_profile" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="workshop_profile"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="workers" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="assign_trade_status">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int8_t" name="status" ld:level="1" ld:meta="compound" ld:typedef-name="T_status">
            <enum-item name="RemoveTrading" value="-2"/>
            <enum-item name="RemovePending"/>
            <enum-item name="None"/>
            <enum-item name="AddPending"/>
            <enum-item name="Pending"/>
            <enum-item name="Trading"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_assigntradest" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="info" pointer-type="assign_trade_status" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="assign_trade_status"><ld:item ld:level="3" ld:meta="global" type-name="assign_trade_status"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building_tradedepotst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_tradedepotst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradelistst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caravans" pointer-type="caravan_state" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="caravan_state"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_barterst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="shopkeeper" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="adventurer" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="building" name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shopkeeper_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="your_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shopkeeper_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="your_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
        <ld:field name="trade_reply" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field name="max_ask" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_offer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_ask" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_offer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradegoodsst" inherits-from="viewscreen">
        <ld:field name="title" size="200" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="merchant_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="merchant_entity" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building_tradedepotst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_tradedepotst"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="caravan" type-name="caravan_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="caravan_state"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
        <ld:field name="is_unloading" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="has_traders" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trader_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="broker_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trader_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="broker_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field name="trader_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="broker_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="in_right_pane" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="trade_reply" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_meetingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="dipscript_popup" name="popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="activity_info" name="activity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="holder" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeetingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeeting_takerequests_dwarfst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" name="priority" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field size="200" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeeting_takerequests_humanst" inherits-from="viewscreen">
        <ld:field size="200" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
        <ld:field name="cursor_left" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_right" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradeagreementst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_prices" name="requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ref-target="historical_entity" name="civ_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_left" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_right" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field size="200" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="historical_entity" name="civ" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_requestagreementst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_prices" name="requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
        <ld:field ref-target="historical_entity" name="civ_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field size="200" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="historical_entity" name="civ" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_textviewerst" inherits-from="viewscreen">
        <ld:field name="title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="title_colors" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="src_text" pointer-type="static-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="static-string"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:item></ld:field>
        <ld:field name="outvar_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="outvar_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="meeting_context" type-name="meeting_context" ld:level="1" ld:meta="global"/>
        <ld:field name="help_filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="page_filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="formatted_text" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_formatted_text">
                <ld:field ld:level="3" ld:meta="pointer" type-name="static-string" name="text" ld:is-container="true"><ld:item ld:level="4" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" type-name="static-string" name="format" ld:is-container="true"><ld:item ld:level="4" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="3" ld:meta="compound" ld:typedef-name="T_flags">
                    <ld:field name="hyperlink" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                    <ld:field name="no_newline" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                </ld:field>
                <ld:field name="pause_depth" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="return_val" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="indent" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="hyperlinks" pointer-type="static-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="static-string"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:item></ld:field>
        <ld:field name="logged_error" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="scroll_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_line" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pause_depth" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_profile">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sex" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="static-array" name="skills" type-name="int16_t" count="68" index-enum="job_skill" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="nemesis_idx" refers-to="$global.world.nemesis.all[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" name="military_profession" type-name="profession" base-type="int32_t" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:subtype="enum" name="civilian_profession" type-name="profession" base-type="int32_t" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="embark_item">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material" type-name="material_type" ld:level="1" ld:meta="global"/>
        <ld:field name="matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_setupdwarfgamest" inherits-from="viewscreen">
        <ld:field size="200" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_profiles" pointer-type="unit_profile" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_profile"><ld:item ld:level="3" ld:meta="global" type-name="unit_profile"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_skills" type-name="job_skill" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_skill"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reclaim_professions" type-name="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="profession"/></ld:field>
        <ld:field name="mode" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dwarf_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dwarf_page_idx" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="item_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="skill_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="animal_cursor" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dwarf_column" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="supply_column" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="display_row" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="show_play_now" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="avail_items" pointer-type="embark_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="embark_item"><ld:item ld:level="3" ld:meta="global" type-name="embark_item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animal_professions" ld:is-container="true"><ld:item ld:subtype="enum" base-type="int32_t" type-name="profession" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animal_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animal_counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dwarves" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field name="num_wagons" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_indoor" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="reclaim_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="region_outdoor" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="points_remaining" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="add_item_type" type-name="item_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="add_item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="add_material" type-name="material_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="add_matgloss" refers-to="(matgloss-target $$._parent.material $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="add_item" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="region_biome_type">
        <enum-item name="SWAMP"/>
        <enum-item name="DESERT"/>
        <enum-item name="FOREST"/>
        <enum-item name="MOUNTAINS"/>
        <enum-item name="OCEAN"/>
        <enum-item name="LAKE"/>
        <enum-item name="GLACIER"/>
        <enum-item name="TUNDRA"/>
        <enum-item name="GRASSLAND"/>
        <enum-item name="HILLS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="region_property_type">
        <enum-item name="elevation"/>
        <enum-item name="rainfall"/>
        <enum-item name="vegetation"/>
        <enum-item name="temperature"/>
        <enum-item name="evilness"/>
        <enum-item name="drainage"/>
        <enum-item name="savagery"/>
        <enum-item name="air_temp"/>
        <enum-item name="air_x"/>
        <enum-item name="air_y"/>
        <enum-item name="clouds"/>
        <enum-item name="wind"/>
        <enum-item name="snowfall"/>
        <enum-item name="salinity"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_population_type">
        <enum-item name="Animal_Wildlife"/>
        <enum-item name="Animal_FishPond"/>
        <enum-item name="Animal_FishRiver"/>
        <enum-item name="Animal_FishCaveRiver"/>
        <enum-item name="Plant_River"/>
        <enum-item name="Plant_Swamp"/>
        <enum-item name="Plant_Forest"/>
        <enum-item name="Plant_Cave"/>
        <enum-item name="Animal_VerminEater"/>
        <enum-item name="Animal_VerminFlies"/>
        <enum-item name="Animal_VerminSwamper"/>
        <enum-item name="Animal_VerminCaveRiver"/>
        <enum-item name="Animal_LargeCaveRiver"/>
        <enum-item name="Animal_VerminChasm"/>
        <enum-item name="Animal_LargeChasm"/>
        <enum-item name="Animal_VerminLava"/>
        <enum-item name="Animal_LargeLava"/>
        <enum-item name="Animal_VerminSoil"/>
        <enum-item name="Animal_VerminSoilColony"/>
        <enum-item name="Animal_VerminGrounder"/>
        <enum-item name="Animal_FishOcean"/>
        <enum-item name="Tree_IndoorWet"/>
        <enum-item name="Tree_IndoorDry"/>
        <enum-item name="Tree_OutdoorWet"/>
        <enum-item name="Tree_OutdoorDry"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="abstract_building_type" base-type="int16_t">
        <enum-item name="STORE_CRAFT"/>
        <enum-item name="STORE_WEAPON"/>
        <enum-item name="STORE_ARMOR"/>
        <enum-item name="STORE_CLOTHING"/>
        <enum-item name="STORE_FOOD"/>
        <enum-item name="MEAD_HALL"/>
        <enum-item name="KEEP"/>
        <enum-item name="CAVE_RIVER"/>
        <enum-item name="CAVE_MAGMA"/>
        <enum-item name="RUIN_PILLARS"/>
        <enum-item name="RUIN_PYRAMID"/>
        <enum-item name="RUIN_TOWER"/>
        <enum-item name="HOME_RANDOM"/>
        <enum-item name="HOME_SINGLE"/>
        <enum-item name="HOME_APARTMENT"/>
        <enum-item name="HOME_APARTMENT_ROOM"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="abstract_building">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="abstract_building_type" ld:level="1" ld:meta="global"/>
        <ld:field name="param" comment="height/depth for ruins, unknown for others" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="local_population">
        <ld:field ld:subtype="enum" base-type="int8_t" name="type" type-name="world_population_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="tree" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="count_min" init-value="30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="count_max" init-value="30000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" base-type="uint8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="discovered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="extinct" comment="set for chasm creatures once magmafied" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="region_population">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="world_population_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant" ref-target="matgloss_plant" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="tree" ref-target="matgloss_wood" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="site_flags">
        <enum-item name="Hidden"/>
        <enum-item/>
        <enum-item name="Destroyed"/>
        <enum-item/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_site" key-field="id" instance-vector="$global.world.world_data.sites">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="owner1" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="PlayerFortress"/>
            <enum-item name="DarkFortress"/>
            <enum-item name="Cave"/>
            <enum-item name="MountainHalls"/>
            <enum-item name="ForestRetreat"/>
            <enum-item name="Town"/>
            <enum-item name="LostFortress"/>
            <enum-item name="Ruin"/>
        </ld:field>

        <ld:field name="region_indoor" type-name="coord2d" comment="for subterranean wildlife" ld:level="1" ld:meta="global"/>
        <ld:field name="region_outdoor" type-name="coord2d" comment="for outdoor wildlife" ld:level="1" ld:meta="global"/>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field comment="unused_194 id, always -1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="pointer" comment="unused_194, always null" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings" pointer-type="abstract_building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="abstract_building"><ld:item ld:level="3" ld:meta="global" type-name="abstract_building"/></ld:item></ld:field>

        <ld:field name="next_building_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_region" key-field="id" instance-vector="$global.world.world_data.regions">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" name="biome_type" type-name="region_biome_type" base-type="int32_t" ld:level="1" ld:meta="global"/>

        <ld:field name="region_coords" type-name="coord2d_path" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_88" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_90" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_94" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="populations" pointer-type="region_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="region_population"><ld:item ld:level="3" ld:meta="global" type-name="region_population"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="tree_tiles" count="34" index-enum="biome_type" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_tree_tiles">
            <ld:field name="tree1" ref-target="matgloss_wood" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="tree2" ref-target="matgloss_wood" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
            
            
        </ld:field>

        <ld:field name="allow_skeleton" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="allow_zombie" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="color_variant" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="region_map_entry_flags">
        <enum-item name="has_river"/>
        <enum-item name="tile_variant"/>
        <enum-item/>
        <enum-item name="has_site"/>
        <enum-item/>
        <enum-item name="river_up"/>
        <enum-item name="river_down"/>
        <enum-item name="river_right"/>

        <enum-item name="river_left"/>
        <enum-item/>
        <enum-item name="discovered"/>
        <enum-item name="visible"/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="front_type" base-type="uint16_t">
        <enum-item name="front_none"/>
        <enum-item name="front_warm"/>
        <enum-item name="front_cold"/>
        <enum-item name="front_occluded"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="cumulus_type" base-type="uint16_t">
        <enum-item name="cumulus_none"/>
        <enum-item name="cumulus_medium"/>
        <enum-item name="cumulus_multi"/>
        <enum-item name="cumulus_nimbus"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="stratus_type" base-type="uint16_t">
        <enum-item name="stratus_none"/>
        <enum-item name="stratus_alto"/>
        <enum-item name="stratus_proper"/>
        <enum-item name="stratus_nimbus"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="fog_type" base-type="uint16_t">
        <enum-item name="fog_none"/>
        <enum-item name="fog_mist"/>
        <enum-item name="fog_normal"/>
        <enum-item name="fog_thick"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="region_map_entry">
        <ld:field name="temp_distance" comment="used during NPC conversations when describing distances to nearby areas" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="region_map_entry_flags" ld:is-container="true"/>
        <ld:field name="elevation" comment="~40 ocean -&gt; ~100 plains -&gt; ~200 mountains" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rainfall" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="vegetation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="temperature" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="evilness" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="drainage" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="savagery" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="air_temp" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="air_x" comment="Toady: a velocity component? I don't remember" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="air_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" name="clouds" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_clouds">
            <ld:field name="front" count="2" type-name="front_type" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cumulus" count="2" type-name="cumulus_type" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cirrus" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="stratus" count="2" type-name="stratus_type" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="fog" count="2" type-name="fog_type" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="countdown" count="4" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:subtype="bitfield" name="wind" base-type="uint16_t" comment="blows toward direction in morning" ld:level="1" ld:meta="compound" ld:typedef-name="T_wind">
            <ld:field name="north_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="south_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="east_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="west_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="north_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="south_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="east_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="west_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="snowfall" comment="initialized to rainfall * 50" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="salinity" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_3e" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_44" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_4a" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="region_id" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_data">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" count="15" type-name="int8_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="save_folder_number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_site_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="world_width" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="world_height" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="travel" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_travel">
                <ld:field name="pos" type-name="coord2d" ld:level="3" ld:meta="global"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="nemesis" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

        <ld:field name="history" type-name="world_history" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="embark_indoor_x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="embark_indoor_y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="embark_outdoor_x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="embark_outdoor_y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="reclaim_site" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="reclaim_indoor_x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="reclaim_indoor_y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="reclaim_outdoor_x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="reclaim_outdoor_y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field name="flip_latitude" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="flip_longitude" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" count="3" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="3" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="next_unit_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_unit_chunk_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_art_image_chunk_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_art_image_chunk_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unused_194" comment="never populated with anything" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unused_194">
                <ld:field ld:level="3" ld:meta="static-array" count="3" ld:is-container="true" ld:anon-name="anon_1">
                    <ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="pointer" ld:is-container="true">
                            <ld:item ld:meta="compound" ld:level="5" ld:typedef-name="T_anon_1">
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                            <ld:field ld:level="6" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
                        </ld:item>
                            
                            
                            
                            
                            
                            
                            
                        </ld:item>
                    </ld:item>
                </ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" pointer-type="world_region" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_region"><ld:item ld:level="3" ld:meta="global" type-name="world_region"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="region_map" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" type-name="region_map_entry" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="region_map_entry"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="waterfall">
        <ld:field ld:subtype="enum" type-name="flow_type" base-type="int16_t" name="type" ld:level="1" ld:meta="global"/>
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="cavein_region">
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="campfire">
        <ld:field type-name="coord32" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="web_cluster">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field type-name="coord2d" name="pos_min" ld:level="1" ld:meta="global"/>
        <ld:field type-name="coord2d" name="pos_max" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ambushers" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="fire">
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field comment="1000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="temperature_1" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field comment="10000" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field name="temperature_2" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="temperature_3" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world">

            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gem_clusters" pointer-type="mineral_cluster" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="mineral_cluster"><ld:item ld:level="3" ld:meta="global" type-name="mineral_cluster"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stone_clusters" pointer-type="mineral_cluster" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="mineral_cluster"><ld:item ld:level="3" ld:meta="global" type-name="mineral_cluster"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="engravings" pointer-type="engraving" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="engraving"><ld:item ld:level="3" ld:meta="global" type-name="engraving"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vermin" pointer-type="vermin" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="vermin"><ld:item ld:level="3" ld:meta="global" type-name="vermin"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contaminated_rivers" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="drink_areas" pointer-type="drink_area" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="drink_area"><ld:item ld:level="3" ld:meta="global" type-name="drink_area"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caveriver_tiles" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="chasm_tiles" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="magmaflow_tiles" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="waterfalls" pointer-type="waterfall" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="waterfall"><ld:item ld:level="3" ld:meta="global" type-name="waterfall"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cavein_regions" pointer-type="cavein_region" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="cavein_region"><ld:item ld:level="3" ld:meta="global" type-name="cavein_region"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="campfires" pointer-type="campfire" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="campfire"><ld:item ld:level="3" ld:meta="global" type-name="campfire"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contaminated_floors" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="web_clusters" pointer-type="web_cluster" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="web_cluster"><ld:item ld:level="3" ld:meta="global" type-name="web_cluster"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="fires" pointer-type="fire" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="fire"><ld:item ld:level="3" ld:meta="global" type-name="fire"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="effects" pointer-type="effect_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="effect_info"><ld:item ld:level="3" ld:meta="global" type-name="effect_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="coin_batches" pointer-type="coin_batch" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coin_batch"><ld:item ld:level="3" ld:meta="global" type-name="coin_batch"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="populations" pointer-type="local_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="local_population"><ld:item ld:level="3" ld:meta="global" type-name="local_population"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="manager_orders" pointer-type="manager_order" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="manager_order"><ld:item ld:level="3" ld:meta="global" type-name="manager_order"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mandates" pointer-type="mandate" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="mandate"><ld:item ld:level="3" ld:meta="global" type-name="mandate"/></ld:item></ld:field>

        <ld:field name="entities" ld:level="1" ld:meta="compound" ld:typedef-name="T_entities">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="historical_entity"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="historical_entity" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="historical_entity"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="units" ld:level="1" ld:meta="compound" ld:typedef-name="T_units">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active" pointer-type="unit" comment="not sorted; [0] is adventurer; removed if kidnapped etc but not if dead" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="other" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="unit" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_chunks" pointer-type="unit_chunk" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_chunk"><ld:item ld:level="3" ld:meta="global" type-name="unit_chunk"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="art_image_chunks" pointer-type="art_image_chunk" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="art_image_chunk"><ld:item ld:level="3" ld:meta="global" type-name="art_image_chunk"/></ld:item></ld:field>

        <ld:field name="nemesis" ld:level="1" ld:meta="compound" ld:typedef-name="T_nemesis">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="nemesis_record"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="nemesis_record" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="nemesis_record"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="items" ld:level="1" ld:meta="compound" ld:typedef-name="T_items">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="other" count="82" index-enum="items_other_id" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="item" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad_tag" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="artifacts" ld:level="1" ld:meta="compound" ld:typedef-name="T_artifacts">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="artifact_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="artifact_record"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="artifact_record" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="artifact_record"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="job_list" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="proj_list" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>

        <ld:field name="buildings" ld:level="1" ld:meta="compound" ld:typedef-name="T_buildings">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="other" count="63" index-enum="buildings_other_id" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="building"><ld:item ld:level="5" ld:meta="global" type-name="building"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="hauling" ld:level="1" ld:meta="compound" ld:typedef-name="T_hauling">
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_weapon" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_weapon" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_siegeammo" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.siegeammo[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_siegeammo" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.siegeammo[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_trapcomp" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_trapcomp" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_armor" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_helm" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_shoes" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_gloves" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_pants" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="local_shield" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.shields[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_armor" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_helm" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_shoes" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_gloves" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_pants" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="64" name="foreign_shields" index-enum="material_type" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int8_t" index-refers-to="$global.world.raws.itemdefs.shields[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="num_jobs" count="10" index-enum="hauler_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="num_haulers" count="10" index-enum="hauler_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
            <ld:field name="prepared_meal" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="seed_mats" type-name="int8_t" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plant_mats" type-name="int8_t" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cheese_mats" type-name="int8_t" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meat_mats" type-name="int8_t" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="leaves_mats" type-name="int8_t" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="powder_mats" type-name="int8_t" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field name="seeds" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="plants" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="cheese" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="fish" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="meat" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="leaves" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="powder" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plant_extract" type-name="int8_t" index-refers-to="$global.world.raws.matgloss_plant[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="animal_extract" type-name="int8_t" index-refers-to="$global.world.raws.creatures[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="liquid_misc" type-name="int8_t" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="fat" type-name="int8_t" index-enum="material_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field name="weapons" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="armor" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="ammo" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="coins" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="bar_blocks" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="gems" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="finished_goods" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="leather" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="cloth" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:field>

        <ld:field name="plants" ld:level="1" ld:meta="compound" ld:typedef-name="T_plants">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_forest" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_swamp" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_river" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_cave" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unknown" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_outside_dry" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_outside_wet" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_inside_dry" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_inside_wet" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="quests" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>

        <ld:field name="enemy_status_cache" ld:level="1" ld:meta="compound" ld:typedef-name="T_enemy_status_cache">
            <ld:field ld:level="2" ld:meta="static-array" name="slot_used" type-name="bool" count="500" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="rel_map" count="500" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="500" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field name="next_slot" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="schedules" ld:level="1" ld:meta="compound" ld:typedef-name="T_schedules">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="schedule_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="schedule_info"><ld:item ld:level="4" ld:meta="global" type-name="schedule_info"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="schedule_info" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="schedule_info"><ld:item ld:level="4" ld:meta="global" type-name="schedule_info"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="selected_building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field name="build_type" is-union="true" ld:level="1" ld:meta="compound" ld:typedef-name="T_build_type" ld:in-union="true">
            <ld:field ld:subtype="enum" base-type="int16_t" name="building_type" type-name="building_type" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="selected_stockpile_type" type-name="stockpile_category" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="build_subtype" is-union="true" ld:level="1" ld:meta="compound" ld:typedef-name="T_build_subtype" ld:in-union="true">
            <ld:field ld:subtype="enum" base-type="int16_t" name="furnace_type" type-name="furnace_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="workshop_type" type-name="workshop_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="siegeengine_type" type-name="siegeengine_type" ld:level="2" ld:meta="global"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="trap_type" type-name="trap_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="update_selected_building" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="building_width" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_height" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="build_direction_1" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="build_direction_2" comment="aqueduct only" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="build_direction_3" comment="aqueduct only" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="build_direction_4" comment="aqueduct only" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="map" ld:level="1" ld:meta="compound" ld:typedef-name="T_map">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="map_blocks" pointer-type="map_block" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="map_block"><ld:item ld:level="4" ld:meta="global" type-name="map_block"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="block_index" is-array="true" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" is-array="true" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" is-array="true" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="pointer" type-name="map_block" ld:is-container="true"><ld:item ld:level="6" ld:meta="global" type-name="map_block"/></ld:item>
                    </ld:item>
                </ld:item>
            </ld:field>

            <ld:field name="x_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="y_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="z_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="x_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="y_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="z_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" count="16" name="stone_types" ld:is-container="true">
                <ld:item ref-target="matgloss_stone" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="distance_lookup" count="53" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="53" type-name="int16_t" comment="Appears to be precomputed rounded integer distances" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" count="20000" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="20000" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="20000" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="20000" type-name="int8_t" name="mapElevationRotation" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="showFakeElevationDividers" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="static-array" count="3" type-name="int32_t" name="feature_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="3" type-name="int32_t" name="feature_depth" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field type-name="world_data" name="world_data" ld:level="1" ld:meta="global"/>
        <ld:field name="worldgen" ld:level="1" ld:meta="compound" ld:typedef-name="T_worldgen">
            <ld:field name="state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="num_rejects" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="lakes_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
            <ld:field name="lakes_cur" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field name="finalized_sites" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="finalized_histfigs" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="finalized_site_units" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_14"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_15"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field name="rivers_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="rivers_cur" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="surface_z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="static-array" count="480" type-name="int16_t" name="riverCenterXs" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="480" type-name="int16_t" name="caveriverCenterXs" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="480" type-name="int16_t" name="chasmCenterXs" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field> turns red when killed
        <ld:field ld:level="1" ld:meta="static-array" count="480" type-name="int16_t" name="magmaCenterXs" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="chasmIsDead" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="chasm_magma_counter" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="chasm_anger" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="orphaned_flow_pool" type-name="flow_reuse_pool" ld:level="1" ld:meta="global"/>

        -- RAWs

        <ld:field name="raws" type-name="world_raws" ld:level="1" ld:meta="global"/>
        <ld:field name="lava_stone" ref-target="matgloss_stone" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="river_stone" ref-target="matgloss_stone" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="flux_stone" ref-target="matgloss_stone" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sharp_stone" ref-target="matgloss_stone" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="glass_gem" ref-target="matgloss_gem" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="fortress" ld:level="1" ld:meta="compound" ld:typedef-name="T_fortress">
            <ld:field ld:level="2" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_1"/>
            <ld:field type-name="language_name" name="name" ld:level="2" ld:meta="global"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
            <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
            <ld:field name="pos" type-name="coord2d" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="reindex_pathfinding" comment="forces map_block.passable to be recomputed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="frame_counter" comment="increases by 1 every time . is pressed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orphaned_flows" pointer-type="flow_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="flow_info"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item></ld:field>
    </ld:global-type>
</ld:data-definition>
